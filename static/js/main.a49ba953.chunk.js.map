{"version":3,"sources":["interfaces/index.ts","interfaces/FetchingState.ts","hooks/useScrollTrigger.ts","utils/getCachedMode.ts","config/constants.tsx","utils/userSettings.ts","api/makeRequest.ts","api/getSearchResults.ts","api/getComments.ts","api/getNewsPromo.ts","api/getPost.ts","api/getPosts.ts","api/getNews.ts","api/getHubsList.ts","api/getHubsSearchResults.ts","api/getAdverts.ts","api/getSimilar.ts","api/getHubPosts.ts","api/getHubAuthors.ts","api/getMostReadingArticles.ts","api/getCompanies.ts","api/setArticleVote.ts","api/setArticleBookmark.ts","api/getDownvoteReasons.ts","api/getCompany.ts","store/reducers/post/types.ts","store/actions/post.ts","utils/isDarkTheme.ts","utils/getContrastPaperColor.ts","utils/random.ts","components/skeletons/PostView.tsx","components/blocks/Error.tsx","components/blocks/Spoiler.tsx","components/blocks/LazyLoadImage.tsx","utils/getInvertedContrastPaperColor.ts","components/blocks/Details.tsx","hooks/useSelector.ts","hooks/useRoute.ts","utils/formatLink.ts","utils/blendColors.ts","components/formatters/FormattedText.tsx","components/svg/UserPlaceholder.tsx","components/blocks/UserAvatar.tsx","utils/formatNumber.ts","components/blocks/BottomDrawer.tsx","components/formatters/GreenRedNumber.tsx","utils/getPostLink.ts","utils/getFavoritesCount.ts","utils/getScoreTotal.ts","pages/Post/Statistics.tsx","components/skeletons/DensePosts.tsx","components/blocks/LinkToOutsidePage.tsx","pages/Post/DensePostItem.tsx","pages/Post/SimilarPosts.tsx","pages/Post/TopDayPosts.tsx","hooks/useMediaExtendedQuery.ts","utils/getSecondaryAppBarColor.ts","components/blocks/OutsidePage.tsx","utils/safeJSONParse.ts","utils/formatLdJsonSchema.ts","utils/getPostSocialImage.ts","components/blocks/MainBlock.tsx","components/blocks/SideBlock.tsx","components/blocks/Sidebar.tsx","utils/cache.ts","store/reducers/home/types.ts","store/actions/home.ts","pages/Post/Sidebar.tsx","api/profile/getProfileCard.ts","api/profile/getProfileWhois.ts","api/profile/getProfileArticles.ts","api/profile/getProfileChildren.ts","api/profile/getProfileComments.ts","api/profile/getProfileCompanies.ts","api/profile/getProfileFavArticles.ts","api/profile/getProfileFavComments.ts","api/profile/getProfileHubs.ts","store/reducers/profile/types.ts","store/actions/profile.ts","pages/User/Hubs.tsx","components/blocks/SubscribeButton.tsx","pages/Post/AuthorCard.tsx","pages/Post/CompanyCard.tsx","pages/Post/CompanyCardWithLinks.tsx","pages/Post/index.tsx","pages/Settings/index.tsx","store/reducers/settings/types.ts","store/actions/settings.ts","pages/Settings/Appearance.tsx","pages/Settings/Blacklist.tsx","pages/Settings/NewTheme.tsx","pages/Settings/Interface.tsx","pages/Settings/Reader.tsx","pages/Settings/Privacy.tsx","pages/Settings/Language.tsx","utils/getImagesFromText.ts","components/blocks/PostItem.tsx","components/skeletons/PostItem.tsx","components/blocks/Pagination.tsx","components/svg/Empty.tsx","components/svg/Search.tsx","hooks/useQuery.ts","utils/getPostFirstImage.ts","pages/Search.tsx","components/blocks/FlowsBar.tsx","components/svg/NotFound.tsx","pages/NotFound.tsx","pages/Home/Sidebar.tsx","pages/News.tsx","store/actions/news.ts","components/svg/Pencil.tsx","pages/Comments/Comment.tsx","pages/Comments/Thread.tsx","pages/Comments/index.tsx","pages/AboutPage.tsx","pages/Hubs/SearchBar.tsx","pages/Hubs/Item.tsx","pages/Hubs/Loader.tsx","store/actions/hubs.ts","pages/Hubs/index.tsx","components/skeletons/Profile.tsx","pages/User/UserAvatarAndLogin.tsx","pages/User/Statistics.tsx","pages/User/InvitedTime.tsx","pages/User/RegisteredTime.tsx","pages/User/FollowersCount.tsx","pages/User/About.tsx","pages/User/Badges.tsx","pages/User/Contacts.tsx","pages/User/Specialisation.tsx","components/skeletons/ProfileChildren.tsx","pages/User/Children.tsx","components/skeletons/ProfileCompanies.tsx","pages/User/Companies.tsx","pages/User/ProfileLinks.tsx","utils/fadedLinearGradient.ts","pages/User/pages/Profile.tsx","pages/User/index.tsx","store/reducers/auth/types.ts","api/auth/getMe.ts","api/auth/getAccountAuthData.ts","api/auth/getCSRFToken.ts","store/actions/auth.ts","pages/Login.tsx","pages/Services.tsx","components/skeletons/NewsItem.tsx","pages/Home/NewsBlock.tsx","pages/Home/SwitcherButtons.tsx","components/blocks/BottomDrawerMargin.tsx","pages/Home/Switcher.tsx","components/skeletons/AdvertsBlock.tsx","pages/Home/AdvertsBlock.tsx","pages/Home/index.tsx","utils/useLastMode.ts","pages/Me.tsx","pages/User/pages/Articles.tsx","pages/User/pages/Comments.tsx","pages/User/pages/FavArticles.tsx","pages/User/pages/FavComments.tsx","store/reducers/hub/types.ts","api/getHub.ts","pages/Hub/pages/Profile.tsx","store/actions/hub.ts","components/skeletons/HubProfile.tsx","pages/Hub/index.tsx","components/skeletons/HubAuthorListItem.tsx","pages/Hub/pages/Authors.tsx","pages/Hub/pages/Companies.tsx","config/routes.tsx","hooks/useAnalytics.ts","components/Router.tsx","hooks/useAppBarScrollTrigger.ts","components/blocks/UserMenu/UserAvatarAndLogin.tsx","components/blocks/UserMenu/ManageAccountButton.tsx","components/blocks/UserMenu/KarmaStatistics.tsx","components/blocks/UserMenu/Links.tsx","components/blocks/UserMenu/index.tsx","components/blocks/AppBar.tsx","components/blocks/BottomBar.tsx","hooks/useTitleChange.ts","hooks/useAutoChangeTheme.ts","components/blocks/SideNavigationDrawer.tsx","hooks/useUserDataFetch.ts","components/blocks/UpdateNotification.tsx","hooks/useGetDownvoteReasons.ts","components/App.tsx","serviceWorker.ts","store/reducers/home/index.ts","config/theme.ts","store/reducers/settings/index.ts","store/reducers/news/index.ts","store/reducers/hubs/index.ts","store/reducers/profile/profile.ts","store/reducers/profile/articles.ts","store/reducers/profile/index.ts","store/reducers/auth/index.ts","store/reducers/post/index.ts","store/reducers/hub/index.ts","store/reducers/index.ts","store/index.ts","serviceWorkerConfig.ts","config/i18n.ts","index.tsx"],"names":["FetchingState","Direction","mode","localStorage","getItem","topDaily","RATING_MODES","find","e","cachedMode","setItem","API_TOKEN_URL","MIN_WIDTH","MIDDLE_WIDTH","MAX_WIDTH","POST_ITEM_VISIBILITY_THRESHOLD","BOTTOM_BAR_HEIGHT","APP_BAR_HEIGHT","DRAWER_WIDTH","USER_SETTINGS_KEY","NEEDS_UPDATE_KEY","AUTH_DATA_KEY","CSRF_TOKEN_KEY","FLOWS","title","alias","text","to","isNewMode","switcherText","POST_LABELS","tutorial","translation","sandbox","recovery","technotext2020","link","DONATION_LINKS_MAP","paymentYandexMoney","paymentPayPalMe","paymentWebmoney","DONATION_TITLES_MAP","HABR_BASE_REGEXP","HABR_LINKS_REPLACE_MAP","regexp","READER_FONT_FAMILIES","makeNavigationTabs","w","h","replaceProfile","tabs","label","icon","width","height","getCachedMode","match","tab","push","DEFAULT_USER_SETTINGS","themeType","customThemes","hiddenAuthors","hiddenCompanies","preferredDarkTheme","preferredLightTheme","autoChangeTheme","cookiesPreferences","disableCookies","readerSettings","fontFamily","fontSize","changeLinks","interfaceFeed","isCompact","hideMegaposts","hideNewsBlock","disablePostImage","interfaceComments","showThreads","sortByKarma","language","feed","interface","LANGUAGES_INTERFACE","type","name","LANGUAGES_FEED","THEMES","BACKGROUND_COLORS_DEFAULT","light","dark","oled","sepia","dimmed","BACKGROUND_COLORS_PAPER","THEME_PRIMARY_COLORS","main","blue","A400","A200","A700","A100","lighten","darken","THEME_TEXT_COLORS","primary","secondary","disabled","hint","fade","THEME_NAMES","THEME_TYPES","get","res","data","JSON","parse","console","error","key","set","payload","stringify","source","axios","CancelToken","a","paramsLanguage","path","params","requestOptions","version","authData","tokenRequestParams","URLSearchParams","settingsLanguage","userSettings","append","method","url","requestParams","fl","hl","cancelToken","token","query","page","order","makeRequest","toString","id","hubAlias","extend_context","per_page","page_num","context_hub_alias","modeParams","all","sort","top0","score","top10","top25","top50","top100","daily","period","weekly","monthly","yearly","alltime","flow","hub","news","flowNews","q","perPage","orderDirection","sector","reason","POST_FETCH","PREFIX","POST_FETCH_FULFILLED","POST_FETCH_REJECTED","COMMENTS_FETCH","COMMENTS_FETCH_FULFILLED","COMMENTS_FETCH_REJECTED","SET_POST_COMMENT_SIZE","COMPANY_FETCH","COMPANY_FETCH_FULFILLED","COMPANY_FETCH_REJECTED","POST_DOWNVOTE_REASONS_FETCH","POST_DOWNVOTE_REASONS_FETCH_FULFILLED","POST_DOWNVOTE_REASONS_FETCH_REJECTED","parseComments","nodes","options","root","comment","children","parent","parentId","b","flatten","forEach","setLevelInfo","nodesLength","length","_","i","isLast","nextNode","Math","min","prevNode","max","currentNode","threadLevel","trunc","level","nextThreadLevel","isThreadStart","isLastInThread","author","isNewLevel","getPost","dispatch","getState","storeData","post","authorizedRequestData","auth","state","Fetched","Promise","resolve","api","message","getPostComments","comments","parsedComments","flattenComments","commentsWithLevelInfo","fetchedData","parseOptions","isDarkTheme","theme","palette","getContrastPaperColor","background","round","random","useStyles","makeStyles","borderRadius","overflow","paddingBottom","spacing","breakpoints","up","paper","hubs","default","paddingTop","display","alignItems","skeleton","maxWidth","backgroundColor","action","hover","PostSkeleton","classes","Container","className","Grid","container","direction","style","marginTop","Skeleton","variant","marginLeft","marginBottom","Array","fill","map","React","centered","isMobile","minHeight","justifyContent","flexDirection","code","fontWeight","textAlign","borderBottom","divider","paddingRight","borderRight","lineHeight","paddingLeft","ErrorComponent","Typography","color","cursor","position","borderLeft","borderTop","content","left","top","transform","isOpen","transition","verticalAlign","collapse","Spoiler","useState","setOpenState","onClick","prev","Collapse","join","in","image","filter","isLoading","clipPath","fontStyle","imagePlaceholder","blurred","float","marginRight","ImageUnmemoized","forwardRef","ref","src","loading","alt","align","setOpen","disableZoom","hasError","setHasError","imgClasses","Fade","timeout","mountOnEnter","onError","transitionDelay","CircularProgress","size","thickness","Image","memo","LazyLoadImage","props","imageRef","useRef","placeholderSrc","showByDefault","items","current","windowWidth","window","innerWidth","n","clientWidth","clientHeight","placeholder","visibilitySensorProps","partialVisibility","offset","Infinity","bottom","isVisible","Portal","document","body","showHideOpacity","bgOpacity","fullscreenEl","zoomEl","shareEl","counterEl","arrowEl","captionEl","tapToClose","pinchToClose","maxSpreadZoom","history","onClose","getInvertedContrastPaperColor","shape","padding","Details","useSelector","useReduxSelector","useRoute","defaultLocation","useLocation","pathname","fourOFourRoute","routes","matchPath","exact","State","defaultTarget","defaultTrigger","store","threshold","target","trigger","previousDirection","previousScroll","currentScroll","pageYOffset","DOWN","UP","useScrollTrigger","getTrigger","triggerValue","undefined","setTrigger","handleScroll","addEventListener","passive","removeEventListener","formatLink","s","exec","replaceObject","matches","newHref","slice","replace","generateHex","r","g","mix","start","end","percent","blend","color1","color2","red1","parseInt","green1","blue1","red2","green2","blue2","red","green","img","textDecoration","oldHabrFormat","margin","rgbToHex","inverseColors","wordBreak","borderCollapse","border","minWidth","d","typography","body2","clear","whiteSpace","syntaxHighlighter","tabSize","boxSizing","wordSpacing","wordWrap","down","iframe","abbr","FormattedText","componentChildren","settings","iframeHeights","setIframeHeights","shouldChangeLinks","trim","attribs","firstChild","class","monokaiStyle","split","formula","inline","some","imgStyles","frameBorder","allowFullScreen","domToReact","href","startsWith","preventDefault","el","getElementById","getElementsByName","y","getBoundingClientRect","scrollTo","behavior","formattedLink","Tooltip","placement","handler","colors","indigo","orange","purple","UserPlaceholder","num","viewBox","UserAvatar","Avatar","ceil","backdrop","drawerRoot","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","drawerContent","drawer","drawerHeader","drawerHeaderIcon","drawerHeaderText","zIndex","right","BottomDrawer","headerText","disableClose","hideOnDesktop","useTheme","useMediaQuery","noSsr","close","contents","IconButton","Drawer","open","anchor","elevation","SwipeableDrawer","onOpen","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","Dialog","redText","greenText","success","GreenRedNumber","wrapperProps","number","wrapperPropsClassName","otherWrapperProps","wrapperClassName","isCorporative","companyAlias","getFavoritesCount","isBookmarked","postBookmarked","relatedData","bookmarked","favoritesCount","statistics","formatNumber","getScoreTotal","voteState","total","votesCount","vote","value","voteByDefault","Number","positive","negative","getScoreColor","useDesktopStyles","gap","between","scoreWrapper","grayIcon","scoreUpActive","scoreDownActive","shareButton","textTransform","card","flexGrow","section","commentsCard","commentsChevronRightIcon","commentsCardLink","commentsAmount","spinner","letterSpacing","confirmDownvoteButton","scoreDrawerText","scoreDrawerButton","scoreDrawerScore","viewsCard","favoritesCard","transitionDuration","transitions","duration","complex","pointerEvents","opacity","favoritesCardActive","boxShadow","useCardStyles","amount","spinnerHolder","heigth","CardUnmemoized","showSpinner","xs","lg","item","ButtonBase","unmountOnExit","Card","ViewsCard","reads","readingCount","ScoreCard","isFetchingScoreResponse","setDownvoteReasonsDrawerOpen","isScoreCardDrawerOpen","setScoreCardDrawerOpen","shouldDisableButtons","canVote","disableUpButton","disableDownButton","component","disableRipple","FavoritesCard","isFetchingBookmarkResponse","favorites","CommentsCard","commentsCount","postLink","getPostLink","useHistory","from","location","scroll","Statistics","enqueueSnackbar","useSnackbar","titleHtml","isDownvoteReasonsDrawerOpen","currentDownvoteReason","setCurrentDownvoteReason","setBookmarkState","setIsFetchingBookmarkResponse","voteTimeExpired","setVoteState","setIsFetchingScoreResponse","classesDesktop","totalScore","shouldDisableScoreButtons","isScoreUpButtonDisabled","isScoreDownButtonDisabled","downvoteReasonsFetchState","downvoteReasons","share","shareData","navigator","catch","log","autoHideDuration","handleFavoriteClick","setArticleBookmark","response","ok","handleScoreClick","setArticleVote","additional","arrow","startIcon","gutterBottom","RadioGroup","aria-label","onChange","_event","FormControlLabel","control","Radio","disableElevation","fullWidth","holder","DensePostsSkeleton","Paper","justify","LinkToOutsidePage","search","ld","noDeco","hasImage","postTs","postBottomRow","postBottomRowItem","postBottomRowItemIcon","postBottomRowItemText","DensePostItem","unparsedTitle","currentLocation","ts","dayjs","timePublished","calendar","toLowerCase","unformattedScore","bottomRow","ThumbsUpDownIcon","coloredText","VisibilityIcon","BookmarkIcon","isActive","ChatBubbleIcon","BottomRowItem","itemIcon","header","postItem","SimilarPosts","setData","setError","useEffect","getSimilar","warn","articleIds","DensePosts","articleRefs","TopDayPosts","getPosts","useMediaExtendedQuery","useAppBarStyles","toolbarIcons","isShrinked","shrinkedBackgroundColor","willChange","disableShrinking","getSecondaryAppBarColor","toolbar","scrollProgress","headerTitle","letterHeight","textOverflow","headerIcon","marginContainer","shrinkedHeaderTitle","backButtonDesktop","backButtonDesktopWrapper","backButtonDesktopText","ShrinkedContentUnmemoized","shrinkedHeaderText","ShrinkedContent","backLinkFunction","goBack","UnshrinkedContentUnmemoized","onBackClick","headerTextUpdated","appear","UnshrinkedContent","ToolbarIconsWrapperUnmemoized","ToolbarIconsWrapper","NavBarUnmemoized","hidePositionBar","scrollElement","isShrinkedTrigger","setHeaderTextUpdated","setScrollProgress","isExtended","scrollCallback","useCallback","requestAnimationFrame","newScrollProgress","docElement","documentElement","docBody","element","scrollTop","offsetHeight","getElementScroll","AppBar","Toolbar","NavBar","OutsidePage","fallbackData","schemaJsonLd","metadata","schema","safeJSONParse","mainEntityOfPage","process","unshift","encodeURI","getPostSocialImage","flex","MainBlock","titleContainer","SideBlock","childrenContainerProps","Sidebar","shouldShowSidebar","disableBottomOffset","offsetTop","offsetBottom","shouldUpdate","now","Date","lastUpdated","HOUR","SET_HOME_POST_ITEM_SIZE","HOME_PREFIX","SIDEBAR_TOP_COMPANIES","SIDEBAR_MOST_READING","getMostReading","articles","useSkeletonStyles","usePostItemStyles","companiesChildrenContainerProps","button","bottomRowItem","bottomRowItemIcon","bottomRowItemText","PostItem","avatar","rating","MostReadingSideBlockSkeleton","postItemClasses","PostSidebar","useDispatch","mostReadingState","home","sidebar","mostReading","mostReadingFetchError","fetchError","Error","login","user","user_bookmarks","bookmarks","PROFILE_CARD","PROFILE","PROFILE_WHOIS","PROFILE_COMPANIES","PROFILE_CHILDREN","PROFILE_HUBS","fieldsMap","typesMap","request","storeType","v2","getProfileCard","blockTitle","linkItem","itemChip","errorText","collapseShadow","HubsItem","Chip","descriptionHtml","Hubs","additionalClasses","showAll","setShowAll","profile","isFetched","fetched","isFetching","fetching","shouldCollapse","hubIds","collapsedHeight","hubRefs","subscribeButtonWrapper","subscribeButton","isSubscribed","backgroundSize","subscribeButtonSpan","SubscribeButton","setSubscribed","flexRow","flexColumn","avatarAndLoginWrapper","nameAndAlias","fullname","statisticsNumber","statisticsTitle","statisticsWrapper","cardWithoutButtonsWrapper","buttonsWrapper","aliasBig","DonateDialog","handleClose","paymentDetails","Object","keys","field","DialogTitle","CloseRounded","ListItem","ListItemText","AuthorCard","isDonateDialogOpen","setDonateDialogOpen","shouldShowDonateButton","values","avatarUrl","scoreStats","speciality","contacts","avatarLink","companyNameAndDescription","companyName","description","companyHeaderLink","companyHeader","brandingLink","CompanyCardSkeleton","CompanyCard","company","branding","imageUrl","linkUrl","links","contactLink","CompanyCardWithLinks","makeGradient","t","hubLink","hubWrapper","authorBar","scoreIcon","hyphens","commentsButton","translatedBox","sectionTitle","sectionLinkWrapper","sectionLink","hubsContainer","postHeader","Post","companyFetchError","useParams","strigifiedId","contentsRef","isTranslated","translationData","shouldShowContents","shouldShowCompanyInfo","labels","postLabels","labelData","MUILink","apiGetCompany","metaDescription","itemProp","property","formatLdJsonSchema","Link","fromNow","originalUrl","originalAuthorName","editorVersion","textHtml","tags","PostView","Icon24PaletteOutline","Icon24HideOutline","Icon243SquareOutline","Icon28ArticleOutline","Icon28PrivacyOutline","Icon28GlobeOutline","common","linkText","linkIcon","linkIconChevronRight","Settings","SET_SETTINGS","GET_SETTINGS","setSettings","sectionHeader","singleRowGrid","oneByTwoGrid","previewContainer","leftItem","borderBottomLeftRadius","rightItem","borderBottomRightRadius","themeCardsContainer","flexWrap","overflowX","overflowY","newThemeButton","newThemeButtonText","dividerHolder","editThemeButton","editThemeIcon","editThemeText","usePaletteGridItemStyles","gridItem","p","floatText","floatSubtext","paletteSymbolContainer","getContrastText","useThemeCardStyles","box","radioHolder","radio","radioChecked","makeCustomThemeFromThemeType","ThemeCard","defaultColor","primaryColor","textColor","isCurrent","scrollIntoView","block","borderTopLeftRadius","borderTopRightRadius","checked","colorPrimary","PaletteGridItem","withSymbol","Switcher","onSwitcherClick","isChecked","setChecked","Switch","OneByTwoGrid","Item","SingleRowGrid","ThemeSelectDialog","valueProp","other","setValue","radioGroupRef","concat","disableBackdropClick","disableEscapeKeyDown","onEntering","focus","aria-labelledby","DialogContent","dividers","event","option","DialogActions","autoFocus","Appearance","isCustomThemeChosen","preferredLightThemeName","preferredDarkThemeName","isPreferredLightThemeDialogOpen","setPreferredLightThemeDialogOpen","isPreferredDarkThemeDialogOpen","setPreferredDarkThemeDialogOpen","FormControl","Divider","orientation","EditRounded","keepMounted","emptyText","addButton","List","setItems","useTranslation","selectedItem","setSelectedItem","isAlertDialogOpen","setAlertDialogOpen","handleAlertClose","DialogContentText","selectedItemIndex","findIndex","splice","dense","AddDialog","onSubmit","textInputRef","TextField","inputRef","Blacklist","isAddAuthorDialogOpen","setAddAuthorDialogOpen","isAddCompanyDialogOpen","setAddCompanyDialogOpen","setHiddenAuthors","setHiddenCompanies","newHiddenAuthors","newHiddenCompanies","COLOR_PICKER_PRESET_COLORS","pink","deepPurple","lightBlue","cyan","teal","lightGreen","lime","yellow","amber","deepOrange","infoAlert","themeNameInput","deleteIcon","isAlreadySavedLocally","usePreviewStyles","appbar","flexShrink","appbarContent","dividerWrapper","gridItemTitle","textHolder","iconHolder","checkedBackground","useColorPickerStyles","picker","swatches","swatch","outline","input","preview","inputHolder","setColorPickerState","sm","md","paletteTextToThemeField","c","CustomColorfulPicker","presetColors","hexString","useMemo","tinycolor","toHexString","presetColor","ColorPicker","setState","setCurrentTheme","setColor","InputBase","endAdornment","PreviewBox","currentTheme","rootClasses","compiledCurrentTheme","createMuiTheme","ThemeProvider","NewTheme","isEditMode","paramsThemeType","editTheme","colorPickerState","defaultTheme","titleInputRef","isTitleEditDialogOpen","setTitleEditDialogOpen","isDeleteDialogOpen","setDeleteDialogOpen","isSaveDialogOpen","setSaveDialogOpen","hasBeenEdited","setHasBeenEdited","setCurrentThemeUnwrapped","paletteItems","getPaletteItems","handleSaveClick","newCustomThemes","themeIndex","handleDeleteDialogCancel","handleTitleEditDialogCancel","autoComplete","bind","Alert","severity","highlight","animation","easing","easeOut","SwitchButton","Interface","sectionRefs","setInterfaceSettings","highlightSection","previewBox","Reader","fontSizeInputRef","isFontSizeDialogOpen","setFontSizeDialogOpen","isFontFamilyDialogOpen","setFontFamilyDialogOpen","fontFamilyRadioValue","setFontFamilyRadioValue","setReaderSettings","handleFontSizeDialogCancel","handleFontFamilyDialogCancel","defaultValue","Privacy","rel","Language","i18n","languageSettings","setLanguageSettings","changeLanguage","leadText","imageHolder","objectFit","leadImageWrapper","maxHeight","leadImage","objectPosition","leadButton","postAuthor","postAvatar","avatarContainer","trollText","trollLink","labelsContainer","postTypeVoice","hideImage","hideImageProp","setPostItemSize","getPostItemSize","postFirstImage","leadData","hasImagesInLeadText","getImagesFromText","postType","isRendered","setIsRendered","rootRef","placeholderStyles","shouldShowPostImage","includes","BottomRowItemUnmemoized","active","newIsVisible","buttonTextHtml","skeletonImage","ul","listStyle","navigationButton","userSelect","navigationButtonText","nextNavigationButton","previousNavigationButton","selected","Pagination","steps","handleChange","currentStep","usePagination","count","siblingCount","boundaryCount","PaginationItem","Empty","svgProps","data-name","x1","y1","x2","y2","gradientUnits","stopColor","stopOpacity","cx","cy","rx","ry","points","SearchSVG","isLight","x","gradientTransform","useQuery","imageURLRegExResults","useSearchStyles","searchButton","inputRoot","inputInput","useSvgStyles","svgHolder","svgTitle","svg","useNoResultsStyles","SearchInput","inputProps","NoResults","SearchResultsScreen","currentPage","setCurrentPage","pagesCount","setPagesCount","getSearchResults","getPostFirstImage","SvgScreen","Search","searchParams","appBar","shortest","transitionTimingFunction","easeInOut","FlowsBar","NotFound","Trans","i18nKey","useCompanyItemStyles","CompanyItem","companyLink","CompaniesSideBlockSkeleton","companyItemClasses","HomeSidebar","topCompaniesState","topCompanies","topCompaniesFetchError","companyIds","companyRefs","News","posts","pages","flows","PaginationComponent","handlePagination","forceUpdate","NEWS_PREFIX","storeState","getNews","Pencil","ufo","ufoMessage","ufoDepthLinesHolder","firstInThread","bottomPadding","lastInThread","wrapper","authorBarOP","authorBarLink","bottomBar","depthLine","authorAndTS","authorAlias","moreIcon","greenRedNumber","replyButton","favoriteButton","favoriteIcon","goToThreadButton","goToThreadWrapper","goToThreadLink","editIcon","editIconWrapper","Comment","isLastInFilteredRootThread","postId","isRootComment","placeholderSize","isPostAuthor","shouldShowThreadButtonSetting","commentsSizesMap","sizesMap","timeEdited","timeChanged","format","isEdited","authorBarClasses","isTablet","shouldShowThreadButton","MARGIN_LEVEL","commentPadding","commentOpacity","v","abs","getOpacity","shouldAddBottomPadding","getCommentSize","GoToThreadButton","endIcon","afterLoad","setPostCommentSize","tabIndex","trackWindowScroll","threadId","commentsFetchingState","commentsFetchingError","rootComment","filteredComments","rootIndex","lastIndex","shouldShowComments","commentsNumber","filterButtonWrapper","filterButton","spinnerWrapper","highlightComment","CommentsPage","postFetchingState","postFetchingError","commentsStoreData","selectedCommentID","hash","commentsLength","setCommentsLength","shouldShowThreads","shouldSortByKarma","parsePostComments","commentID","commentElement","scrollBy","cross","grid","row","subtitle","iconSrc","medium","small","AboutPage","SearchBar","onSubmitProp","statisticsItem","statisticsItemIcon","statisticsItemText","Icon24Flash","colored","subscribersCount","GroupRoundedIcon","StatisticsItemText","ListItemAvatar","disableTypography","Loader","getHubsSearchResults","HUBS_PREFIX","list","pagination","storeSearchResults","searchResults","currentQuery","stats","headerColumn","ProfileSkeleton","UserAvatarAndLogin","headerContainer","headerNumber","ratingPos","toUpperCase","InvitedTime","whois","timeInvited","invitedBy","timeCreated","textTimeInvited","wasInvitedText","gender","issuerLogin","hintColor","RegisteredTime","ti","tr","registerDateTime","dot","FollowersCount","followers","followStats","followersCount","followed","followCount","generateOptions","cases","currency","currencyNameCases","fractionalPartNameCases","currencyNounGender","integer","fractionalPart","showNumberParts","fractional","convertNumbertToWords","followersText","numToWord","convert","followedText","About","aboutHtml","badges","Badges","badgets","contactsItem","Contacts","Specialisation","Children","childrenData","sorted","userIds","aRef","userRefs","bRef","localeCompare","primaryTypographyProps","ProfileChildren","Companies","companies","ProfileCompanies","buttonLabel","buttonText","badge","ProfileLinks","buttons","badgeContent","counterStats","postCount","Icon28CommentOutline","commentCount","Icon20BookmarkOutline","favoriteCount","Icon","Badge","invisible","reverse","topBlock","fadedLinearGradient","mainBlock","blockMargin","Profile","Component","User","isUserFetched","isWhoisFetched","isUserFetching","isWhoisFetching","userFetchError","whoisFetchError","GET_AUTH_DATA","AUTH_PREFIX","GET_CSRF_TOKEN","GET_ME","USER_LOGOUT","getAccountAuthData","inputLabel","loginButton","Login","showPassword","setShowPassword","authDataFetchingState","authDataFetchError","csrfTokenFetchingState","csrfToken","shouldDisableLoginButton","Fetching","handleLoginSubmit","email","password","isAuthError","isCaptchaError","isUnknownAuthError","OutlinedInput","InputAdornment","makeCardTextColor","hasSubtext","rootWrapper","buttonContainer","dividerTitle","useButtonStyles","rootLabel","useCardLinkStyles","subtext","Button","CardLink","Services","Icon24Fire","Icon28CompassOutline","Icon36Users3Outline","Icon28WorkOutline","Icon24CubeBoxOutline","Icon28Users3Outline","Icon24InfoCircleOutline","Icon28LogoVkOutline","GitHubIcon","NewsItemSkeleton","linkBox","article","NewsItem","NewsBlock","isHidden","getNewsPromo","GoToNewsButton","buttonChecked","inlineContainer","inlineButton","SwitcherButtons","currentValue","fullWidthIndex","BottomDrawerMargin","switcherDesktop","currentFlow","currentMode","expandIconWrapper","expandIcon","drawerTitleText","applyButton","IOSTabs","withStyles","scroller","indicator","Tabs","TabGroupUnmemoized","handleShowModeChange","showMode","desktop","showModes","IOSTab","createStyles","fontWeightMedium","Tab","newValue","TabGroup","switcherButtonsDataNew","modes","switcherButtonsDataTop","handleClick","setMode","setShowMode","drawerMode","setDrawerMode","newShowMode","updateMode","newCurrentMode","m","AdvertsBlockSkeleton","GridListTile","buttonsHolder","backgroundPosition","backgroundRepeat","black","white","tile","tileMegaprojects","buttonMegaprojects","iconMegaprojects","iconRightMegaprojects","tileTileMegaprojects","AdvertsBlock","adverts","ADVERTS_PREFIX","GridList","cellHeight","cols","backgroundImage","flexContainer","isServerUpdateError","Home","lastSelectedMode","paramsMode","useLastMode","postItemsSizesMap","lastAllFlowsModeName","lastAllFlowsMode","fetchErrorMessage","fetchErrorCode","setPostItemSizeWrapper","postsComponents","handleSwitcher","newMode","Me","UserArticles","isProfileFetched","PROFILE_ARTICLES","Comments","FavArticles","FavComments","GET_PROFILE","HUB_PREFIX","GET_NEWS","GET_POSTS","GET_AUTHORS","GET_COMPANIES","typeCorrespondings","useInformationStyles","caption","ratingText","avatarAndRating","useDescriptionStyles","useLinksStyles","usePostsStyles","Information","Description","Links","Posts","fetchState","currentModeObject","getHubPostsRequest","getHubPosts","HubProfile","Hub","profileFetchingState","profileFetchError","getHubProfile","getHub","HubAuthorListItemSkeleton","useItemStyles","investHolder","investIcon","invest","secondaryTypographyProps","Authors","authors","getHubAuthorsRequest","getHubAuthors","HubAuthorListItem","authorIds","authorRefs","shouldShowAppBar","shouldAppBarChangeColors","appBarColor","useAnalytics","trackPageView","useMatomo","customDimensions","Router","useAppBarScrollTrigger","avatarAndLogin","icons","fullnameAndAliasWrapper","logoutIcon","me","ManageAccountButton","KarmaStatistics","chargeSettings","postVoteCount","commentVoteCount","useListLinkStyles","ListLinkUnmemoized","ListLink","useDialogStyles","useModalStyles","modal","Transition","UserMenu","classesDialog","classesModal","TransitionComponent","ClickAwayListener","onClickAway","isTransformed","shouldChangeColors","makeAppBarBackgroundColor","headerTitleWrapper","offline","AppBarComponent","route","appHasDrawer","isUserMenuOpen","setUserMenuOpen","modeName","userState","userData","csrfTokenState","shouldShowUser","shouldShowLoadingSpinner","polling","NAVIGATION_TABS","findPathValue","isArray","k","BottomBar","isShown","setShown","shouldHideBottomBar","BottomNavigation","showLabels","BottomNavigationAction","go","useTitleChange","newTitle","useAutoChangeTheme","prefersDarkMode","isAutoThemeChange","drawerPaper","drawerContainer","logoHolder","logo","logoDivider","tabsHolder","bottomBlock","useNavButtonStyles","useProfileButtonStyles","easeIn","useAboutButtonStyles","obj","NavButton","ProfileButton","AboutButton","SideNavigationDrawer","useUserDataFetch","shouldFetchUser","snackbar","UpdateNotification","initialShouldShow","setIsShown","noBottomMargin","receiveMessage","origin","reload","useGetDownvoteReasons","shouldFetchDownvoteReasons","app","appWrapper","App","storeTheme","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","flowModes","initialState","Idle","makeBackgroundColors","makePrimaryColors","makeTextColors","generateTheme","localStorageUserSettings","localStorageCustomThemes","customTheme","defaultPalette","overrides","MuiTab","MuiPaper","rounded","MuiIconButton","TouchRippleProps","rippleVisible","childLeaving","userLocalSettings","flowsData","combineReducers","actionHandler","endsWith","assign","cachedAuthData","cachedCSRFToken","connectSID","initialData","initialCommentsData","defaultFetchData","ids","newsIds","refs","newsRefs","newSettings","shouldUpdateTheme","reducerState","removeItem","middlewares","thunk","createStore","reducers","applyMiddleware","unregister","postMessage","use","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","defaultNS","ns","resources","ru","translation_ru","en","translation_en","userSettingsUtils","instance","createInstance","urlBase","siteId","linkTracking","configurations","setRequestMethod","setRequestContentType","setDoNotTrack","setSecureCookie","Sentry","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","environment","enabled","locale","extend","relativeTimePlugin","calendarPlugin","updateLocalePlugin","updateLocale","lastWeek","sameDay","lastDay","sameElse","ReactDOM","render","MatomoProvider","URL","fetch","headers","contentType","status","indexOf","ready","checkValidServiceWorker","swConfig"],"mappings":"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","file":"static/js/main.a49ba953.chunk.js","sourcesContent":["export type { default as UserSettings } from './UserSettings'\r\nexport type { default as APIResponse } from './APIResponse'\r\nexport type { default as Badge } from './Badge'\r\nexport * from './Comments'\r\nexport type { default as Post } from './Post'\r\nexport type { default as Posts } from './Posts'\r\nexport type { default as Flow } from './Flow'\r\nexport type { default as FlowAlias } from './FlowAlias'\r\nexport * from './Hub'\r\nexport * from './User'\r\nexport * from './News'\r\nexport * from './Adverts'\r\nexport type { default as Company } from './Company'\r\nexport { default as FetchingState } from './FetchingState'\r\nexport type { default as ModeObject } from './ModeObject'\r\nexport type { default as FlowObject } from './FlowObject'\r\nexport type { default as Me } from './Me'\r\nexport type { default as AuthData } from './AuthData'\r\nexport type { default as AccountAuthData } from './AccountAuthData'\r\nexport type { default as AuthorizedRequestParams } from './AuthorizedRequestParams'\r\nexport type { default as ArticleVoteResponse } from './ArticleVoteResponse'\r\nexport type { default as DownvoteReasons } from './DownvoteReasons'\r\n","enum FetchingState {\n  Idle,\n  Fetching,\n  Fetched,\n  Error,\n}\n\nexport default FetchingState\n","import * as React from 'react'\n\nenum Direction {\n  UP,\n  DOWN,\n}\n\nconst State = {\n  SHOW: false,\n  HIDE: true,\n}\n\ntype StoreRef = React.MutableRefObject<{\n  position: number\n  previousScroll: number\n  direction: Direction\n}>\n\ninterface Options {\n  getTrigger: typeof defaultTrigger\n  threshold: number\n  disableHysteresis: boolean\n  target: Window\n  triggerValue: boolean\n  trigger: boolean\n}\n\nconst defaultThreshold = 200\nconst defaultTarget = typeof window !== 'undefined' ? window : null\n\nfunction defaultTrigger(store: StoreRef, options: Partial<Options>) {\n  const { threshold = defaultThreshold, target, trigger } = options\n  const previousDirection = store.current.direction\n  const previousScroll = store.current.previousScroll\n  const currentScroll = target ? target.pageYOffset : 0\n\n  // Set the trigger to show if the scroll position is lower than a threshold\n  if (currentScroll < threshold) return State.SHOW\n\n  // Set the previousScroll to the current scroll to store\n  // This doesn't affect previousScroll variable, so we can do that anywhere in the code\n  store.current.previousScroll = currentScroll\n\n  // Set current scroll direction\n  if (currentScroll > previousScroll) {\n    store.current.direction = Direction.DOWN\n  } else {\n    store.current.direction = Direction.UP\n  }\n\n  // If user changed their scroll direction, then set the store scroll once.\n  if (store.current.direction !== previousDirection) {\n    store.current.position = currentScroll\n  }\n\n  // Return false when user passed the threshold value by scrolling upwards\n  if (store.current.direction === Direction.UP) {\n    if (store.current.position - threshold >= currentScroll) return State.SHOW\n    else return trigger\n  }\n  // Return true when user passed the threshold value by scrolling downwards\n  if (store.current.direction === Direction.DOWN) {\n    if (store.current.position + threshold <= currentScroll) return State.HIDE\n    else return trigger\n  }\n}\n\nconst useScrollTrigger = (options: Partial<Options> = {}) => {\n  const {\n    getTrigger = defaultTrigger,\n    target = defaultTarget,\n    threshold = defaultThreshold,\n    triggerValue = target.pageYOffset > threshold,\n  } = options\n  const store: StoreRef = React.useRef({\n    position: target.pageYOffset,\n    previousScroll: target.pageYOffset,\n    direction: undefined,\n  })\n  const [trigger, setTrigger] = React.useState(() =>\n    getTrigger(store, { trigger: triggerValue, target, threshold })\n  )\n\n  React.useEffect(() => {\n    const handleScroll = () => {\n      setTrigger(getTrigger(store, { target, trigger, threshold }))\n    }\n\n    // Re-evaluate trigger when dependencies change\n    handleScroll()\n    // passive: true enhances scrolling experience\n    target.addEventListener('scroll', handleScroll, { passive: true })\n    return () => {\n      target.removeEventListener('scroll', handleScroll)\n    }\n  }, [target, getTrigger, trigger, threshold])\n\n  return trigger\n}\n\nexport default useScrollTrigger\n","import { RATING_MODES } from 'src/config/constants'\r\nimport { ModeObject } from 'src/interfaces'\r\n\r\nexport default (): ModeObject => {\r\n  const mode = localStorage.getItem('mode')\r\n  const topDaily = RATING_MODES.find((e) => e.mode === 'daily')\r\n  const cachedMode = RATING_MODES.find((e) => e.mode === mode)\r\n\r\n  if (cachedMode) return cachedMode\r\n  if (!mode) {\r\n    localStorage.setItem('mode', 'daily')\r\n    return topDaily\r\n  }\r\n\r\n  // On an unexpected error, like, mode from localStorage is not valid\r\n  // we want to return a default mode\r\n  return topDaily\r\n}\r\n","import React from 'react'\nimport { ModeObject, FlowObject } from '../interfaces'\nimport { UserSettings } from '../interfaces'\nimport {\n  darken,\n  fade,\n  lighten,\n  PaletteType as MUIPaletteType,\n} from '@material-ui/core'\nimport { blue } from '@material-ui/core/colors'\nimport { Icon28Newsfeed, Icon28SettingsOutline } from '@vkontakte/icons'\nimport { Icon20HomeOutline } from '@vkontakte/icons'\nimport { Icon28ServicesOutline } from '@vkontakte/icons'\nimport { Icon24Search } from '@vkontakte/icons'\nimport TabObject from 'src/interfaces/NavigationTabObject'\nimport getCachedMode from 'src/utils/getCachedMode'\n\nexport const APP_VERSION = 'v2'\n\nexport const API_URL = 'https://habr.com/kek/'\nexport const API_TOKEN_URL = 'https://jarvis394-backend.ml/habra/'\nexport const SENTRY_DSN =\n  'https://a2e39aec97c844269660ef4e0db0c264@o929832.ingest.sentry.io/5878570'\nexport const MATOMO_SERVER_URL = 'https://matomo.jarvis394-backend.ml/'\nexport const MATOMO_SITE_ID = 2\n\nexport const MIN_WIDTH = 960\nexport const MIDDLE_WIDTH = 1175\nexport const MAX_WIDTH = 1280\n\n/**\n * Negative threshold for VisibilitySensor in PostItem component\n */\nexport const POST_ITEM_VISIBILITY_THRESHOLD = -1 * 500\n\nexport const POST_IMAGE_HEIGHT = 212\nexport const DEFAULT_POST_ITEM_HEIGHT = 390\nexport const ADVERTS_BLOCK_HEIGHT = 128\nexport const ADVERTS_BLOCK_MAX_WIDTH = 364\nexport const BOTTOM_BAR_HEIGHT = 52\nexport const APP_BAR_HEIGHT = 48\nexport const DRAWER_WIDTH = 296\nexport const THREAD_LEVEL = 7\n\n/** Local Storage keys */\nexport const USER_SETTINGS_KEY = 'habra_USER_SETTINGS'\nexport const NEEDS_UPDATE_KEY = 'habra_NEEDS_UPDATE'\nexport const AUTH_DATA_KEY = 'habra_AUTH_DATA'\nexport const CSRF_TOKEN_KEY = 'habra_CSRF_TOKEN'\n\nexport const FLOWS: FlowObject[] = [\n  {\n    title: 'Все потоки',\n    alias: 'all',\n  },\n  {\n    title: 'Разработка',\n    alias: 'develop',\n  },\n  {\n    title: 'Администрирование',\n    alias: 'admin',\n  },\n  {\n    title: 'Дизайн',\n    alias: 'design',\n  },\n  {\n    title: 'Менеджмент',\n    alias: 'management',\n  },\n  {\n    title: 'Маркетинг',\n    alias: 'marketing',\n  },\n  {\n    title: 'Научпоп',\n    alias: 'popsci',\n  },\n]\n\nexport const RATING_MODES: ModeObject[] = [\n  {\n    text: 'Все подряд',\n    to: '/all',\n    mode: 'all',\n    isNewMode: true,\n    switcherText: 'Все',\n  },\n  {\n    text: 'Новые с рейтингом +0',\n    to: '/top0',\n    mode: 'top0',\n    isNewMode: true,\n    switcherText: '+0',\n  },\n  {\n    text: 'Новые с рейтингом +10',\n    to: '/top10',\n    mode: 'top10',\n    isNewMode: true,\n    switcherText: '+10',\n  },\n  {\n    text: 'Новые с рейтингом +25',\n    to: '/top25',\n    mode: 'top25',\n    isNewMode: true,\n    switcherText: '+25',\n  },\n  {\n    text: 'Новые с рейтингом +50',\n    to: '/top50',\n    mode: 'top50',\n    isNewMode: true,\n    switcherText: '+50',\n  },\n  {\n    text: 'Новые с рейтингом +100',\n    to: '/top100',\n    mode: 'top100',\n    isNewMode: true,\n    switcherText: '+100',\n  },\n  {\n    text: 'Лучшее за день',\n    to: '/top/daily',\n    mode: 'daily',\n    switcherText: 'Сутки',\n  },\n  {\n    text: 'Лучшее за неделю',\n    to: '/top/weekly',\n    mode: 'weekly',\n    switcherText: 'Неделя',\n  },\n  {\n    text: 'Лучшее за месяц',\n    to: '/top/monthly',\n    mode: 'monthly',\n    switcherText: 'Месяц',\n  },\n  {\n    text: 'Лучшее за год',\n    to: '/top/yearly',\n    mode: 'yearly',\n    switcherText: 'Год',\n  },\n  {\n    text: 'Лучшее за всё время',\n    to: '/top/alltime',\n    mode: 'alltime',\n    switcherText: 'Всё время',\n  },\n]\n\nexport const POST_LABELS: Record<\n  string,\n  {\n    text: string\n    link?: string\n  }\n> = {\n  tutorial: { text: 'Туториал' },\n  translation: { text: 'Перевод' },\n  sandbox: { text: 'Из песочницы' },\n  recovery: { text: 'Recovery' },\n  technotext2020: {\n    text: '🔥 Технотекст 2020',\n    link:\n      'https://contenting.io/challenge.html?utm_source=habr&utm_medium=label',\n  },\n}\n\nexport const DONATION_LINKS_MAP = {\n  paymentYandexMoney: 'https://money.yandex.ru/to/',\n  paymentPayPalMe: 'https://www.paypal.me/',\n  paymentWebmoney: 'https://pay.web.money/',\n}\nexport const DONATION_TITLES_MAP = {\n  paymentYandexMoney: 'YooMoney',\n  paymentPayPalMe: 'PayPal.Me',\n  paymentWebmoney: 'Webmoney',\n}\n\nexport const HABR_BASE_REGEXP = /(habr|m\\.habr)\\.com\\/(ru|en)\\/(.+)/\nexport const HABR_LINKS_REPLACE_MAP = [\n  {\n    regexp: /company\\/?(.+)\\/blog\\/([0-9]+)[/]?/,\n    to: '/company/[0]/blog/[1]',\n  },\n  {\n    regexp: /post\\/?(.+)[/]?/,\n    to: '/post/[0]',\n  },\n  {\n    regexp: /news\\/t\\/?(.+)[/]?/,\n    to: '/post/[0]',\n  },\n]\n\nexport const READER_FONT_FAMILIES = ['Roboto', 'Segoe UI', 'Arial']\n\nexport const makeNavigationTabs = (\n  w = 24,\n  h = 24,\n  replaceProfile = false\n): TabObject[] => {\n  const tabs: TabObject[] = [\n    {\n      label: 'Статьи',\n      icon: <Icon20HomeOutline width={w} height={h} />,\n      to: () => `${getCachedMode().to}/p/1`,\n      match: 'feed',\n      tab: 'home',\n    },\n    {\n      label: 'Новости',\n      icon: <Icon28Newsfeed width={w} height={h} />,\n      to: () => '/news/p/1',\n      tab: 'news',\n      match: 'news',\n    },\n    {\n      label: 'Хабы',\n      icon: <Icon28ServicesOutline width={w} height={h} />,\n      to: () => '/services',\n      match: 'services',\n      tab: 'services',\n    },\n    {\n      label: 'Поиск',\n      icon: <Icon24Search width={w} height={h} />,\n      to: () => '/search',\n      match: 'search',\n      tab: 'search',\n    },\n  ]\n  if (replaceProfile) {\n    tabs.push({\n      label: 'Настройки',\n      icon: <Icon28SettingsOutline width={w} height={h} />,\n      to: () => '/settings',\n      match: [\n        'settings',\n        'settingsAppearance',\n        'settingsInterface',\n        'settingsPrivacy',\n        'settingsNewTheme',\n        'settingsEditTheme',\n        'settingsBlacklist',\n        'settingsReader',\n        'settingsLanguage',\n      ],\n      tab: 'settings',\n    })\n  }\n  return tabs\n}\n\nexport const HOUR = 1000 * 60 * 60\nexport const DEFAULT_UPDATE_INTERVAL = HOUR / 4\nexport const chromeAddressBarHeight = 56\n\nexport const DEFAULT_USER_SETTINGS: UserSettings = {\n  themeType: 'light',\n  customThemes: [],\n  hiddenAuthors: [],\n  hiddenCompanies: [],\n  preferredDarkTheme: 'dark',\n  preferredLightTheme: 'light',\n  autoChangeTheme: false,\n  cookiesPreferences: {\n    disableCookies: false,\n  },\n  readerSettings: {\n    fontFamily: 'Roboto',\n    fontSize: 16,\n    changeLinks: false,\n  },\n  interfaceFeed: {\n    isCompact: true,\n    hideMegaposts: false,\n    hideNewsBlock: false,\n    disablePostImage: false,\n  },\n  interfaceComments: {\n    showThreads: true,\n    sortByKarma: false,\n  },\n  language: {\n    feed: 'ru',\n    interface: 'ru',\n  },\n}\n\nexport const LANGUAGES_INTERFACE = [\n  {\n    type: 'ru',\n    name: 'Русский',\n  },\n  {\n    type: 'en',\n    name: 'English',\n  },\n]\nexport const LANGUAGES_FEED = [\n  {\n    type: 'ru',\n    name: 'Русский',\n  },\n  {\n    type: 'en',\n    name: 'English',\n  },\n]\n\nexport const THEMES: PaletteType[] = [\n  'light',\n  'dark',\n  'oled',\n  'sepia',\n  'dimmed',\n]\n\n/** Colors for app background */\nexport const BACKGROUND_COLORS_DEFAULT = {\n  light: '#f5f5f5',\n  dark: '#0e0e0e',\n  oled: '#000000',\n  sepia: '#f5e2a8',\n  dimmed: '#1c2128',\n}\n\n/** Colors for app foreground elements, such as Paper */\nexport const BACKGROUND_COLORS_PAPER = {\n  light: '#ffffff',\n  dark: '#181818',\n  oled: '#0e0e0e',\n  sepia: '#ffecb3',\n  dimmed: '#252c35',\n}\n\nexport const THEME_PRIMARY_COLORS = {\n  light: {\n    main: blue.A400,\n    light: blue.A200,\n    dark: blue.A700,\n  },\n  dark: {\n    main: blue.A100,\n    light: lighten(blue.A100, 0.05),\n    dark: darken(blue.A100, 0.1),\n  },\n  oled: {\n    main: blue.A100,\n    light: lighten(blue.A100, 0.05),\n    dark: darken(blue.A100, 0.1),\n  },\n  sepia: {\n    main: '#679f9d',\n    light: lighten('#679f9d', 0.05),\n    dark: darken('#679f9d', 0.1),\n  },\n  dimmed: {\n    main: blue.A100,\n    light: lighten(blue.A100, 0.05),\n    dark: darken(blue.A100, 0.1),\n  },\n}\n\nexport const THEME_TEXT_COLORS = {\n  light: {\n    primary: 'rgb(0, 0, 0, 0.87)',\n    secondary: 'rgb(0, 0, 0, 0.54)',\n    disabled: 'rgba(0, 0, 0, 0.38)',\n    hint: 'rgba(0, 0, 0, 0.38)',\n  },\n  dark: {\n    primary: '#e9e9e9',\n    secondary: fade('#e9e9e9', 0.54),\n    disabled: fade('#e9e9e9', 0.38),\n    hint: fade('#e9e9e9', 0.38),\n  },\n  oled: {\n    primary: '#e9e9e9',\n    secondary: fade('#e9e9e9', 0.54),\n    disabled: fade('#e9e9e9', 0.38),\n    hint: fade('#e9e9e9', 0.38),\n  },\n  sepia: {\n    primary: '#5b4636',\n    secondary: fade('#5b4636', 0.54),\n    disabled: fade('#5b4636', 0.38),\n    hint: fade('#5b4636', 0.38),\n  },\n  dimmed: {\n    primary: '#cdd9e5',\n    secondary: fade('#cdd9e5', 0.54),\n    disabled: fade('#cdd9e5', 0.38),\n    hint: fade('#cdd9e5', 0.38),\n  },\n}\n\nexport const THEME_NAMES = {\n  light: 'Светлая',\n  dark: 'Тёмная',\n  oled: 'OLED',\n  sepia: 'Ночной режим',\n  dimmed: 'Ночная тема',\n}\n\nexport type PaletteType = 'light' | 'dark' | 'oled' | 'sepia' | 'dimmed'\n\nexport const THEME_TYPES: Record<PaletteType, MUIPaletteType> = {\n  light: 'light',\n  dark: 'dark',\n  oled: 'dark',\n  sepia: 'light',\n  dimmed: 'dark',\n}\n\nexport type Mode =\n  | 'all'\n  | 'top0'\n  | 'top10'\n  | 'top25'\n  | 'top50'\n  | 'top100'\n  | 'daily'\n  | 'weekly'\n  | 'monthly'\n  | 'yearly'\n  | 'alltime'\n","import { UserSettings } from '../interfaces'\r\nimport { DEFAULT_USER_SETTINGS, USER_SETTINGS_KEY } from '../config/constants'\r\n\r\n// TODO: refactor to return { success: boolean, data: UserSettings }\r\n// to show a notification that settings are being overwritten with defaults\r\nexport const get = (): UserSettings => {\r\n  const data = localStorage.getItem(USER_SETTINGS_KEY)\r\n  let res: UserSettings\r\n\r\n  if (!data) return DEFAULT_USER_SETTINGS\r\n\r\n  try {\r\n    res = JSON.parse(data)\r\n  } catch (e) {\r\n    console.error('Cannot parse user settings:', e, '\\nGot:', data)\r\n    return DEFAULT_USER_SETTINGS\r\n  }\r\n\r\n  for (const key in DEFAULT_USER_SETTINGS) {\r\n    if (!res[key]) {\r\n      res[key] = DEFAULT_USER_SETTINGS[key]\r\n    }\r\n  }\r\n\r\n  return res\r\n}\r\n\r\nexport const set = (payload: Partial<UserSettings>): UserSettings => {\r\n  const data = get() || DEFAULT_USER_SETTINGS\r\n\r\n  for (const key in payload) {\r\n    data[key] = payload[key]\r\n  }\r\n\r\n  localStorage.setItem(USER_SETTINGS_KEY, JSON.stringify(data))\r\n  return data\r\n}\r\n","import axios, { AxiosRequestConfig } from 'axios'\r\nimport { API_TOKEN_URL, API_URL } from '../config/constants'\r\nimport * as userSettings from 'src/utils/userSettings'\r\nimport { AuthorizedRequestParams } from 'src/interfaces'\r\n\r\nconst CancelToken = axios.CancelToken\r\nconst source = CancelToken.source()\r\n\r\ninterface Arguments {\r\n  /** API response language */\r\n  language?: 'ru' | 'en'\r\n\r\n  /** API method as an URL path */\r\n  path: string\r\n\r\n  /** Query parameters */\r\n  params?: Record<string, string>\r\n\r\n  /** Axios request options */\r\n  requestOptions?: AxiosRequestConfig\r\n\r\n  /** API version */\r\n  version?: 1 | 2\r\n\r\n  /** Auth data for an authorized request */\r\n  authData?: AuthorizedRequestParams\r\n}\r\n\r\nexport default async <T = never>({\r\n  language: paramsLanguage,\r\n  path,\r\n  params,\r\n  requestOptions,\r\n  version = 2,\r\n  authData,\r\n}: Arguments): Promise<T> => {\r\n  const tokenRequestParams = new URLSearchParams(params)\r\n  const settingsLanguage = userSettings.get().language.feed\r\n  const language = paramsLanguage || settingsLanguage\r\n  tokenRequestParams.append('fl', language)\r\n  tokenRequestParams.append('hl', language)\r\n\r\n  if (authData) {\r\n    return (\r\n      await axios({\r\n        method: 'post',\r\n        url: API_TOKEN_URL + 'makeRequest',\r\n        data: {\r\n          ...authData,\r\n          method: path,\r\n          version,\r\n          requestParams: {\r\n            params: {\r\n              fl: language,\r\n              hl: language,\r\n              ...params,\r\n            },\r\n            ...requestOptions,\r\n          },\r\n        },\r\n      })\r\n    ).data\r\n  } else\r\n    return (\r\n      await axios({\r\n        method: requestOptions?.method || 'get',\r\n        url: API_URL + `v${version}/` + path,\r\n        params: {\r\n          fl: language,\r\n          hl: language,\r\n          ...params,\r\n        },\r\n        cancelToken: source.token,\r\n        ...requestOptions,\r\n      })\r\n    ).data\r\n}\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, Posts } from '../interfaces'\r\n\r\n// TODO: Needs an interface for the returning data\r\nexport default async ({\r\n  query,\r\n  page,\r\n  order,\r\n  authData,\r\n}: {\r\n  query: string\r\n  page: number\r\n  order: 'relevance' | 'date' | 'rating'\r\n  authData?: AuthorizedRequestParams\r\n}) =>\r\n  await makeRequest<Posts>({\r\n    path: 'articles',\r\n    version: 2,\r\n    params: {\r\n      query,\r\n      page: page.toString(),\r\n      order,\r\n    },\r\n    authData,\r\n  })\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, Comments } from '../interfaces'\r\n\r\nexport default async (\r\n  id: string | number,\r\n  authData?: AuthorizedRequestParams\r\n) =>\r\n  await makeRequest<Comments>({\r\n    path: `articles/${id}/comments`,\r\n    version: 2,\r\n    authData,\r\n  })\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, Posts } from '../interfaces'\r\n\r\nexport default async ({\r\n  hubAlias,\r\n  authData,\r\n}: {\r\n  hubAlias?: string\r\n  authData?: AuthorizedRequestParams\r\n}) =>\r\n  await makeRequest<Posts>({\r\n    path: 'news/context',\r\n    version: 2,\r\n    params: {\r\n      extend_context: 'true',\r\n      per_page: '5',\r\n      page_num: '1',\r\n      context_hub_alias: hubAlias || '',\r\n    },\r\n    authData,\r\n  })\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, Post } from '../interfaces'\r\n\r\nexport default async (\r\n  id: number | string,\r\n  authData?: AuthorizedRequestParams\r\n) =>\r\n  await makeRequest<Post>({\r\n    path: `articles/${id}`,\r\n    version: 2,\r\n    authData,\r\n  })\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, FlowAlias, Posts } from '../interfaces'\r\nimport { Mode } from 'src/config/constants'\r\n\r\nexport const modeParams = {\r\n  all: { sort: 'rating' },\r\n  top0: { sort: 'rating', score: '0' },\r\n  top10: { sort: 'rating', score: '10' },\r\n  top25: { sort: 'rating', score: '25' },\r\n  top50: { sort: 'rating', score: '50' },\r\n  top100: { sort: 'rating', score: '100' },\r\n  daily: { period: 'daily', sort: 'date' },\r\n  weekly: { period: 'weekly', sort: 'date' },\r\n  monthly: { period: 'monthly', sort: 'date' },\r\n  yearly: { period: 'yearly', sort: 'date' },\r\n  alltime: { period: 'alltime', sort: 'date' },\r\n}\r\n\r\nexport const modeTokenPaths = {\r\n  all: 'posts/all',\r\n  top0: 'posts/all/top0',\r\n  top10: 'posts/all/top10',\r\n  top25: 'posts/all/top25',\r\n  top50: 'posts/all/top50',\r\n  top100: 'posts/all/top100',\r\n  daily: 'top/daily',\r\n  weekly: 'top/weekly',\r\n  monthly: 'top/monthly',\r\n  yearly: 'top/yearly',\r\n  alltime: 'top/alltime',\r\n}\r\n\r\ninterface Params {\r\n  mode: Mode\r\n  page: number\r\n  hubAlias?: string\r\n  token?: string\r\n  flow?: FlowAlias\r\n  authData?: AuthorizedRequestParams\r\n}\r\n\r\nexport default async ({\r\n  mode,\r\n  page,\r\n  hubAlias,\r\n  flow = 'all',\r\n  authData,\r\n}: Params) =>\r\n  await makeRequest<Posts>({\r\n    path: 'articles',\r\n    version: 2,\r\n    params: {\r\n      ...modeParams[mode],\r\n      sort: flow === 'all' ? modeParams[mode].sort : 'all',\r\n      page: page.toString(),\r\n      hub: hubAlias || '',\r\n      flow: flow === 'all' ? '' : flow,\r\n    },\r\n    authData,\r\n  })\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, FlowAlias, Posts } from '../interfaces'\r\n\r\nexport default async ({\r\n  page,\r\n  flow = 'all',\r\n  authData,\r\n}: {\r\n  page: number\r\n  flow: FlowAlias\r\n  authData?: AuthorizedRequestParams\r\n}) => {\r\n  let params: Record<string, string> = {\r\n    news: 'true',\r\n  }\r\n\r\n  if (flow !== 'all') {\r\n    params = {\r\n      flowNews: 'true',\r\n      flow,\r\n    }\r\n  }\r\n\r\n  return await makeRequest<Posts>({\r\n    path: 'articles',\r\n    params: {\r\n      page: page.toString(),\r\n      ...params,\r\n    },\r\n    version: 2,\r\n    authData,\r\n  })\r\n}\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, HubsResponse } from '../interfaces'\r\n\r\nexport default async (page: number, authData?: AuthorizedRequestParams) =>\r\n  await makeRequest<HubsResponse>({\r\n    path: 'hubs',\r\n    params: {\r\n      page: page.toString(),\r\n    },\r\n    version: 2,\r\n    authData,\r\n  })\r\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, HubsSearchResponse } from '../interfaces'\r\n\r\nexport default async (q: string, authData?: AuthorizedRequestParams) =>\r\n  await makeRequest<HubsSearchResponse>({\r\n    path: 'hubs/search',\r\n    params: {\r\n      q,\r\n    },\r\n    version: 2,\r\n    authData,\r\n  })\r\n","import axios from 'axios'\nimport { AdvertsResponse } from 'src/interfaces'\n\nexport default async (): Promise<AdvertsResponse> =>\n  (\n    await axios({\n      method: 'get',\n      url: 'https://effect.habr.com/api/inv/pa?area=habr&count=3&ll=ru&al=ru',\n    })\n  ).data\n","import makeRequest from './makeRequest'\r\nimport { AuthorizedRequestParams, Posts } from '../interfaces'\r\n\r\nexport default async (id: number, authData?: AuthorizedRequestParams) =>\r\n  await makeRequest<Posts>({\r\n    path: `articles/${id}/similar`,\r\n    version: 2,\r\n    authData,\r\n  })\r\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams, Posts } from '../interfaces'\nimport { Mode } from 'src/config/constants'\n\nexport const modeParams = {\n  all: { sort: 'all' },\n  top0: { sort: 'all', score: '0' },\n  top10: { sort: 'all', score: '10' },\n  top25: { sort: 'all', score: '25' },\n  top50: { sort: 'all', score: '50' },\n  top100: { sort: 'all', score: '100' },\n  daily: { period: 'daily', sort: 'date' },\n  weekly: { period: 'weekly', sort: 'date' },\n  monthly: { period: 'monthly', sort: 'date' },\n  yearly: { period: 'yearly', sort: 'date' },\n  alltime: { period: 'alltime', sort: 'date' },\n}\n\ninterface Params {\n  mode: Mode\n  page: number\n  alias: string\n  authData?: AuthorizedRequestParams\n}\n\nexport default async ({ mode, page, alias, authData }: Params) =>\n  await makeRequest<Posts>({\n    path: 'articles',\n    version: 2,\n    params: {\n      ...modeParams[mode],\n      page: page.toString(),\n      hub: alias,\n    },\n    authData,\n  })\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams, HubAuthors } from '../interfaces'\n\nexport default async ({\n  alias,\n  page,\n  authData,\n}: {\n  alias: string\n  page: number\n  authData?: AuthorizedRequestParams\n}) =>\n  await makeRequest<HubAuthors>({\n    path: 'hubs/' + alias + '/authors',\n    params: {\n      page: page.toString(),\n    },\n    version: 2,\n    authData,\n  })\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams, Posts } from '../interfaces'\n\nexport default async (authData?: AuthorizedRequestParams) =>\n  await makeRequest<{ articles: Posts }>({\n    path: 'articles/most-reading',\n    version: 2,\n    authData,\n  })\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams, UserCompanies } from '../interfaces'\n\nexport default async ({\n  page = 1,\n  perPage = 10,\n  sort = 'rating',\n  orderDirection = 'desc',\n  sector = '',\n  authData,\n}: Partial<{\n  page: number\n  perPage: number\n  sort: 'rating' | 'title'\n  orderDirection: 'asc' | 'desc'\n  authData?: AuthorizedRequestParams\n  sector:\n    | ''\n    | 'webdev'\n    | 'software'\n    | 'hardware'\n    | 'design'\n    | 'advertisment'\n    | 'massmedia'\n    | 'consulting'\n    | 'hr'\n    | 'ecommerce'\n    | 'noncommerce'\n    | 'optimization'\n    | 'multimedia'\n    | 'telecom'\n    | 'hosting'\n    | 'se'\n    | 'mobile'\n    | 'webservices'\n    | 'entertainment'\n    | 'security'\n}>) =>\n  await makeRequest<UserCompanies>({\n    path: 'companies',\n    params: {\n      page: page.toString(),\n      perPage: perPage.toString(),\n      sort,\n      sector,\n      order: sort === 'title' ? 'abc' : 'rating',\n      orderDirection,\n    },\n    version: 2,\n    authData,\n  })\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams, ArticleVoteResponse } from '../interfaces'\n\nexport default async ({\n  mode = 'up',\n  id,\n  authData,\n  reason,\n}: {\n  mode: 'up' | 'down'\n  id: string | number\n  authData: AuthorizedRequestParams\n  reason?: string\n}): Promise<ArticleVoteResponse> =>\n  await makeRequest<ArticleVoteResponse>({\n    path: `articles/${id}/votes/${mode}`,\n    version: 2,\n    authData,\n    requestOptions: {\n      method: 'POST',\n      data: reason ? { reason } : null,\n    },\n  })\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams } from '../interfaces'\n\nexport default async ({\n  mode = 'add',\n  id,\n  authData,\n}: {\n  mode: 'add' | 'remove'\n  id: string | number\n  authData: AuthorizedRequestParams\n}) =>\n  await makeRequest<{\n    ok: boolean\n    server_time: string\n  }>({\n    path: `articles/${id}/bookmarks/${mode}`,\n    version: 1,\n    authData,\n    requestOptions: {\n      method: 'POST',\n    },\n  })\n","import makeRequest from './makeRequest'\nimport { DownvoteReasons } from '../interfaces'\n\nexport default async () =>\n  await makeRequest<DownvoteReasons>({\n    path: 'votes/reasons',\n    version: 2,\n  })\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams, Company } from '../interfaces'\n\nexport default async (alias: string, authData?: AuthorizedRequestParams) =>\n  await makeRequest<Company>({\n    path: `companies/${alias}/card`,\n    version: 2,\n    authData,\n  })\n","import { Comment, Comments, Company, FetchingState, Post } from 'src/interfaces'\nimport { DownvoteReason } from 'src/interfaces/DownvoteReasons'\n\nexport const PREFIX = 'POST_'\nexport const POST_FETCH = PREFIX + 'FETCH'\nexport const POST_FETCH_FULFILLED = POST_FETCH + '_FULFILLED'\nexport const POST_FETCH_REJECTED = POST_FETCH + '_REJECTED'\nexport const COMMENTS_FETCH = PREFIX + 'COMMENTS_FETCH'\nexport const COMMENTS_FETCH_FULFILLED = COMMENTS_FETCH + '_FULFILLED'\nexport const COMMENTS_FETCH_REJECTED = COMMENTS_FETCH + '_REJECTED'\nexport const SET_POST_COMMENT_SIZE = 'SET_POST_COMMENT_SIZE'\nexport const COMPANY_FETCH = PREFIX + 'COMPANY_FETCH'\nexport const COMPANY_FETCH_FULFILLED = COMPANY_FETCH + '_FULFILLED'\nexport const COMPANY_FETCH_REJECTED = COMPANY_FETCH + '_REJECTED'\nexport const POST_DOWNVOTE_REASONS_FETCH =\n  PREFIX + 'POST_DOWNVOTE_REASONS_FETCH'\nexport const POST_DOWNVOTE_REASONS_FETCH_FULFILLED =\n  POST_DOWNVOTE_REASONS_FETCH + '_FULFILLED'\nexport const POST_DOWNVOTE_REASONS_FETCH_REJECTED =\n  POST_DOWNVOTE_REASONS_FETCH + '_REJECTED'\nexport interface GetPostCommentsOptions {\n  sortByKarma: boolean\n}\nexport interface State {\n  comments: {\n    fetchedData: Comments\n    comments: Comment[]\n    state: FetchingState\n    fetchError: string\n    sizesMap: Record<string, number>\n    parseOptions: Partial<GetPostCommentsOptions>\n  }\n  post: {\n    data: Post\n    state: FetchingState\n    fetchError: string\n  }\n  company: {\n    data: Company\n    state: FetchingState\n    fetchError: string\n  }\n  downvoteReasons: {\n    data: DownvoteReason[]\n    state: FetchingState\n    fetchError: string\n  }\n}\n","import * as api from 'src/api'\nimport apiGetCompany from 'src/api/getCompany'\nimport { THREAD_LEVEL } from 'src/config/constants'\nimport { FetchingState, Comment as IComment } from 'src/interfaces'\nimport { RootState } from '..'\nimport {\n  COMMENTS_FETCH,\n  COMMENTS_FETCH_FULFILLED,\n  COMMENTS_FETCH_REJECTED,\n  POST_FETCH,\n  POST_FETCH_FULFILLED,\n  POST_FETCH_REJECTED,\n  COMPANY_FETCH,\n  COMPANY_FETCH_FULFILLED,\n  COMPANY_FETCH_REJECTED,\n  SET_POST_COMMENT_SIZE,\n  POST_DOWNVOTE_REASONS_FETCH,\n  POST_DOWNVOTE_REASONS_FETCH_FULFILLED,\n  POST_DOWNVOTE_REASONS_FETCH_REJECTED,\n  GetPostCommentsOptions,\n} from '../reducers/post/types'\n\nconst parseComments = (\n  nodes: Map<number, IComment>,\n  options?: Partial<GetPostCommentsOptions>\n) => {\n  const root: IComment[] = []\n  for (const id in nodes) {\n    const comment = nodes[id]\n    comment.children = []\n\n    const parent = comment.parentId !== 0 ? nodes[comment.parentId] : null\n\n    if (!parent) {\n      root.push(comment)\n    } else {\n      parent.children.push(comment)\n    }\n  }\n\n  if (options?.sortByKarma) root.sort((a, b) => b.score - a.score)\n\n  return root\n}\n\nconst flatten = (nodes, a = []) => {\n  nodes.forEach((e) => {\n    a.push(e)\n    flatten(e.children, a)\n  })\n  return a\n}\n\nconst setLevelInfo = (nodes: IComment[]) => {\n  const nodesLength = nodes.length\n  nodes.forEach((_, i) => {\n    const isLast = i === nodesLength - 1\n    const nextNode = nodes[Math.min(i + 1, nodes.length - 1)]\n    const prevNode = nodes[Math.max(i - 1, 0)]\n    const currentNode = nodes[i]\n    const threadLevel = Math.trunc(currentNode.level / THREAD_LEVEL)\n    const nextThreadLevel = Math.trunc(nextNode.level / THREAD_LEVEL)\n    nodes[i].threadLevel = threadLevel\n    nodes[i].isThreadStart = nextThreadLevel > threadLevel\n    nodes[i].isLastInThread =\n      (nextNode.level === 0 && !!nextNode.author) || isLast\n    nodes[i].isNewLevel = prevNode.level < currentNode.level\n  })\n  return nodes\n}\n\n/**\n * Gets post data and dispatches it to the `post` store\n * @param id Post ID\n */\nexport const getPost = (id: number | string) => async (\n  dispatch,\n  getState: () => RootState\n) => {\n  const storeData = getState().post.post\n  const authorizedRequestData = getState().auth.authorizedRequestData\n  if (\n    storeData.state === FetchingState.Fetched &&\n    storeData.data.id.toString() === id.toString()\n  ) {\n    return Promise.resolve()\n  }\n\n  dispatch({ type: POST_FETCH })\n\n  try {\n    const data = await api.getPost(id, authorizedRequestData)\n    dispatch({\n      type: POST_FETCH_FULFILLED,\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: POST_FETCH_REJECTED, payload: error?.message })\n  }\n}\n\n/**\n * Gets post downvote reasons\n */\nexport const getDownvoteReasons = () => async (\n  dispatch,\n  getState: () => RootState\n) => {\n  const storeData = getState().post.downvoteReasons\n  if (storeData.state === FetchingState.Fetched) {\n    return Promise.resolve()\n  }\n\n  dispatch({ type: POST_DOWNVOTE_REASONS_FETCH })\n\n  try {\n    const data = await api.getDownvoteReasons()\n    dispatch({\n      type: POST_DOWNVOTE_REASONS_FETCH_FULFILLED,\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({\n      type: POST_DOWNVOTE_REASONS_FETCH_REJECTED,\n      payload: error?.message,\n    })\n  }\n}\n\n/**\n * Parse existing comments\n * @param id Post ID\n */\nexport const parsePostComments = (\n  id: number | string,\n  options: Partial<GetPostCommentsOptions> = {}\n) => async (dispatch, getState: () => RootState) => {\n  const state = getState()\n  const storeData = state.post\n\n  if (\n    storeData.comments.state === FetchingState.Fetched &&\n    storeData.post.data.id.toString() === id.toString()\n  ) {\n    const data = storeData.comments.fetchedData\n    const parsedComments = parseComments(data.comments, options)\n    const flattenComments = flatten(parsedComments)\n    const commentsWithLevelInfo = setLevelInfo(flattenComments)\n\n    dispatch({\n      type: COMMENTS_FETCH_FULFILLED,\n      payload: { comments: commentsWithLevelInfo, fetchedData: data },\n    })\n  }\n}\n\n/**\n * Gets post comments and dispatches the data to the `post` store\n * @param id Post ID\n */\nexport const getPostComments = (\n  id: number | string,\n  options: Partial<GetPostCommentsOptions> = {}\n) => async (dispatch, getState: () => RootState) => {\n  const state = getState()\n  const storeData = state.post\n  const authData = state.auth.authorizedRequestData\n  if (\n    storeData.comments.state === FetchingState.Fetched &&\n    storeData.post.data.id.toString() === id.toString()\n  ) {\n    return Promise.resolve()\n  }\n\n  dispatch({ type: COMMENTS_FETCH })\n\n  try {\n    const data = await api.getComments(id, authData)\n    const parsedComments = parseComments(data.comments, options)\n    const flattenComments = flatten(parsedComments)\n    const commentsWithLevelInfo = setLevelInfo(flattenComments)\n\n    dispatch({\n      type: COMMENTS_FETCH_FULFILLED,\n      payload: {\n        comments: commentsWithLevelInfo,\n        fetchedData: data,\n        parseOptions: options,\n      },\n    })\n  } catch (error) {\n    dispatch({ type: COMMENTS_FETCH_REJECTED, payload: error?.message })\n  }\n}\n\nexport const setPostCommentSize = (id: number | string, size: number) => (\n  dispatch,\n  getState: () => RootState\n) => {\n  const sizesMap = getState().post.comments.sizesMap\n\n  if (!sizesMap[id]) {\n    dispatch({ type: SET_POST_COMMENT_SIZE, payload: { id, size } })\n  }\n}\n\n/**\n * Gets post comments and dispatches the data to the `post` store\n * @param id Post ID\n */\nexport const getCompany = (alias: string) => async (\n  dispatch,\n  getState: () => RootState\n) => {\n  const storeData = getState().post\n  if (\n    storeData.company.state === FetchingState.Fetched &&\n    alias === storeData.company.data.alias\n  ) {\n    return Promise.resolve()\n  }\n\n  dispatch({ type: COMPANY_FETCH })\n\n  try {\n    const data = await apiGetCompany(alias)\n    dispatch({\n      type: COMPANY_FETCH_FULFILLED,\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: COMPANY_FETCH_REJECTED, payload: error?.message })\n  }\n}\n","import { Theme, ThemeOptions } from '@material-ui/core'\n\nconst isDarkTheme = (theme: Theme | ThemeOptions) =>\n  theme.palette.type === 'dark'\n\nexport default isDarkTheme\n","import { Theme, ThemeOptions } from '@material-ui/core'\nimport isDarkTheme from './isDarkTheme'\n\nconst getContrastPaperColor = (theme: Theme | ThemeOptions) =>\n  theme.palette.background[isDarkTheme(theme) ? 'default' : 'paper']\n\nexport default getContrastPaperColor\n","export default (min = 0, max = 1): number => {\r\n  return Math.round(min - 0.5 + Math.random() * (max - min + 1))\r\n}\r\n","import * as React from 'react'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport makeStyles from '@material-ui/core/styles/makeStyles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Container from '@material-ui/core/Container'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\nimport { MIN_WIDTH } from 'src/config/constants'\r\nimport random from 'src/utils/random'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    background: getContrastPaperColor(theme),\r\n    borderRadius: 0,\r\n    overflow: 'auto',\r\n    paddingBottom: theme.spacing(2),\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      background: theme.palette.background.paper,\r\n      borderRadius: 8,\r\n    },\r\n  },\r\n  hubs: {\r\n    background: theme.palette.background.default,\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    height: 40,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  skeleton: {\r\n    maxWidth: '100%',\r\n    backgroundColor: theme.palette.action.hover,\r\n    borderRadius: 4,\r\n  },\r\n}))\r\n\r\nconst PostSkeleton = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div>\r\n      <Container className={classes.root}>\r\n        <Grid container>\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            style={{ marginTop: 16 }}\r\n          >\r\n            <Skeleton\r\n              variant=\"circle\"\r\n              width={20}\r\n              height={20}\r\n              className={classes.skeleton}\r\n            />\r\n            <Skeleton\r\n              variant=\"text\"\r\n              style={{ marginLeft: 8 }}\r\n              width={96}\r\n              height={20}\r\n              className={classes.skeleton}\r\n            />\r\n            <Skeleton\r\n              variant=\"text\"\r\n              style={{ marginLeft: 8 }}\r\n              width={148}\r\n              height={20}\r\n              className={classes.skeleton}\r\n            />\r\n          </Grid>\r\n          <Skeleton\r\n            variant=\"text\"\r\n            width=\"100%\"\r\n            className={classes.skeleton}\r\n            style={{ marginTop: 8 }}\r\n            height={36}\r\n          />\r\n          <Skeleton\r\n            variant=\"text\"\r\n            width=\"75%\"\r\n            className={classes.skeleton}\r\n            height={36}\r\n            style={{ marginTop: -4 }}\r\n          />\r\n          <Skeleton\r\n            variant=\"text\"\r\n            width=\"90%\"\r\n            className={classes.skeleton}\r\n            height={24}\r\n            style={{ marginTop: 8 }}\r\n          />\r\n          <Skeleton\r\n            variant=\"rect\"\r\n            width=\"100%\"\r\n            className={classes.skeleton}\r\n            style={{ marginTop: 24, marginBottom: 16 }}\r\n            height={196}\r\n          />\r\n          {Array(20)\r\n            .fill(null)\r\n            .map((_, i) => (\r\n              <Skeleton\r\n                variant=\"rect\"\r\n                width={random(85, 100).toString() + '%'}\r\n                style={{ marginTop: 8 }}\r\n                className={classes.skeleton}\r\n                height={12}\r\n                key={i}\r\n              />\r\n            ))}\r\n        </Grid>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(PostSkeleton)\r\n","import * as React from 'react'\r\nimport { Typography } from '@material-ui/core/'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport isMobile from 'is-mobile'\r\n\r\nconst chromeAddressBarHeight = 56\r\nconst useStyles = makeStyles((theme) => ({\r\n  centered: {\r\n    height: `calc(100vh - 96px - 194px - ${\r\n      isMobile() ? chromeAddressBarHeight : '0'\r\n    }px)`,\r\n    minHeight: 600,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'column',\r\n    width: '100%',\r\n    '@media (min-width: 768px)': {\r\n      flexDirection: 'row',\r\n    },\r\n  },\r\n  code: {\r\n    paddingBottom: theme.spacing(2),\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 28,\r\n    fontWeight: 500,\r\n    width: 100,\r\n    textAlign: 'center',\r\n    borderBottom: '1px solid ' + theme.palette.divider,\r\n    '@media (min-width: 768px)': {\r\n      width: 'auto',\r\n      borderBottom: 0,\r\n      paddingRight: theme.spacing(2.5),\r\n      paddingBottom: 0,\r\n      borderRight: '1px solid ' + theme.palette.divider,\r\n      lineHeight: '48px',\r\n    },\r\n  },\r\n  message: {\r\n    fontFamily: 'Segoe UI',\r\n    fontSize: 16,\r\n    fontWeight: 400,\r\n    paddingTop: theme.spacing(3),\r\n    '@media (min-width: 768px)': {\r\n      paddingLeft: theme.spacing(2.5),\r\n      paddingTop: 0,\r\n    },\r\n  },\r\n}))\r\n\r\ninterface Params {\r\n  code?: number | string\r\n  message: string\r\n  to?: string\r\n}\r\n\r\nconst ErrorComponent = ({ code = 500, message, to = '/' }: Params) => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.centered}>\r\n      <Typography className={classes.code}>{code}</Typography>\r\n      <Typography className={classes.message}>{message}</Typography>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(ErrorComponent)\r\n","import * as React from 'react'\r\nimport { useState } from 'react'\r\nimport { makeStyles, Collapse } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    borderBottom: '1px dashed',\r\n    color: theme.palette.primary.light,\r\n    cursor: 'pointer',\r\n    display: 'inline-block',\r\n    marginLeft: 15,\r\n    position: 'relative',\r\n    '&::before': {\r\n      borderBottom: '5px solid transparent',\r\n      borderLeft: '5px solid ' + theme.palette.text.hint,\r\n      borderTop: '5px solid transparent',\r\n      content: 'no-open-quote',\r\n      display: 'inline-block',\r\n      left: -12,\r\n      position: 'absolute',\r\n      top: '50%',\r\n      transform: (isOpen) =>\r\n        isOpen ? 'rotate(90deg) translateX(-4px)' : 'translateY(-5px)',\r\n      transition: 'transform .2s ease-out,-webkit-transform .2s ease-out',\r\n      verticalAlign: 'middle',\r\n    },\r\n  },\r\n  text: {\r\n    position: 'relative',\r\n    marginTop: 10,\r\n  },\r\n  collapse: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst Spoiler = ({ children, title }) => {\r\n  const [isOpen, setOpenState] = useState(false)\r\n  const classes = useStyles(isOpen)\r\n\r\n  return (\r\n    <>\r\n      <b\r\n        onClick={() => setOpenState((prev) => !prev)}\r\n        className={classes.title}\r\n      >\r\n        {title}\r\n      </b>\r\n      <Collapse\r\n        className={[classes.collapse, classes.text].join(' ')}\r\n        in={isOpen}\r\n      >\r\n        {children}\r\n      </Collapse>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default React.memo(Spoiler)\r\n","import React, { useState, useRef, MutableRefObject } from 'react'\nimport ProgressiveImage from 'react-lazy-progressive-image'\nimport {\n  CircularProgress,\n  Fade,\n  makeStyles,\n  Portal,\n  Theme,\n} from '@material-ui/core'\nimport { PhotoSwipe } from 'react-photoswipe'\nimport { POST_ITEM_VISIBILITY_THRESHOLD } from 'src/config/constants'\n\ninterface StylesProps {\n  isLoading: boolean\n}\n\nconst useStyles = makeStyles<Theme, StylesProps>((theme) => ({\n  image: {\n    height: 'auto',\n    maxWidth: '100%',\n    verticalAlign: 'middle',\n    '-webkit-tap-highlight-color': 'transparent',\n    cursor: 'pointer',\n    filter: ({ isLoading }) => (isLoading ? 'blur(5px)' : ''),\n    clipPath: ({ isLoading }) => (isLoading ? 'inset(0)' : ''),\n    color: theme.palette.text.secondary,\n    fontStyle: 'italic',\n    fontSize: 12,\n  },\n  imagePlaceholder: {\n    height: 'auto',\n    maxWidth: '100%',\n    verticalAlign: 'middle',\n    display: 'inline-block',\n  },\n  blurred: {\n    filter: 'blur(16px)',\n    clipPath: 'inset(0)',\n  },\n  'imgAlign-left': {\n    float: 'left',\n    marginRight: theme.spacing(2),\n    marginBottom: theme.spacing(1),\n    maxWidth: '40% !important',\n  },\n  'imgAlign-right': {\n    float: 'right',\n    marginLeft: theme.spacing(2),\n    marginBottom: theme.spacing(1),\n    maxWidth: '40% !important',\n  },\n}))\n\ninterface ImageProps {\n  src: string\n  loading: boolean\n  isVisible: boolean\n  style: Record<string, string | number>\n  alt: string\n  className: string\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n  disableZoom?: boolean\n  align?: 'left' | 'right' | null\n  onClick: () => void\n}\n\nconst ImageUnmemoized = React.forwardRef<HTMLImageElement, ImageProps>(\n  function ImageComponent(\n    {\n      src,\n      loading,\n      style,\n      alt,\n      className,\n      setOpen,\n      disableZoom,\n      align,\n      onClick,\n    },\n    ref\n  ) {\n    const [hasError, setHasError] = React.useState(false)\n    // If image loaded with error, the useStyles `isLoading` prop should be false,\n    // so the image won't be blurred\n    const classes = useStyles({\n      isLoading: hasError ? false : loading,\n    })\n    const imgClasses = [classes.image, className]\n\n    if (loading && (!src || src === '/img/image-loader.svg'))\n      return (\n        <span\n          className={classes.imagePlaceholder + ' ' + className}\n          style={style}\n        >\n          <Fade\n            in\n            timeout={1000}\n            style={{\n              transitionDelay: '1s',\n              height: '100%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n          >\n            <span>\n              <CircularProgress size=\"1.25rem\" thickness={5} />\n            </span>\n          </Fade>\n        </span>\n      )\n\n    if (align) imgClasses.push(classes['imgAlign-' + align])\n\n    return (\n      <Fade in timeout={250} mountOnEnter>\n        <img\n          ref={ref}\n          onClick={() => !loading && !hasError && onClick()}\n          className={imgClasses.join(' ')}\n          width={style?.width}\n          height={style?.height}\n          style={style}\n          src={src}\n          alt={alt || 'Изображение не загружено'}\n          onError={() => setHasError(true)}\n        />\n      </Fade>\n    )\n  }\n)\nconst Image = React.memo(ImageUnmemoized)\n\nconst LazyLoadImage = (props) => {\n  const [isOpen, setOpen] = useState(false)\n  const imageRef = useRef<HTMLImageElement>(null)\n  const { style, alt, className, disableZoom, align, placeholderSrc } = props\n  const showByDefault = !!placeholderSrc\n  // Set image dimensions after it is done loading\n  // PhotoSwipe requires image dimensions to be set before it is opened,\n  // so we set them as soon as the image (in FormattedText, probably) is loaded.\n  // User cannot open PhotoSwipe before image was loaded.\n  const items: MutableRefObject<PhotoSwipe.Item[]> = React.useRef([\n    {\n      src: props.src,\n      w: 1080,\n      h: 1920,\n    },\n  ])\n  const pswpOptions: PhotoSwipe.UIFramework = {\n    showHideOpacity: false,\n    bgOpacity: 0.8,\n    fullscreenEl: false,\n    zoomEl: false,\n    shareEl: false,\n    counterEl: false,\n    arrowEl: false,\n    captionEl: false,\n    tapToClose: true,\n    pinchToClose: false,\n    maxSpreadZoom: 4,\n    history: false,\n  }\n\n  const onClick = () => {\n    if (disableZoom || !imageRef?.current) return\n    const windowWidth = window.innerWidth - 32\n    const n = windowWidth / imageRef?.current?.clientWidth\n    items.current = [\n      {\n        src: props.src,\n        w: windowWidth,\n        h: imageRef?.current?.clientHeight * n,\n      },\n    ]\n    setOpen(true)\n  }\n\n  return (\n    <>\n      <ProgressiveImage\n        placeholder={placeholderSrc}\n        src={props.src}\n        visibilitySensorProps={{\n          partialVisibility: true,\n          offset: {\n            top: showByDefault ? -Infinity : POST_ITEM_VISIBILITY_THRESHOLD,\n            bottom: showByDefault ? -Infinity : POST_ITEM_VISIBILITY_THRESHOLD,\n          },\n        }}\n      >\n        {(src: string, loading: boolean, isVisible: boolean) => (\n          <Image\n            ref={imageRef}\n            src={src}\n            setOpen={setOpen}\n            onClick={onClick}\n            loading={loading}\n            isVisible={isVisible}\n            style={style}\n            alt={alt}\n            align={align}\n            className={className}\n            disableZoom={disableZoom}\n          />\n        )}\n      </ProgressiveImage>\n      {isOpen && imageRef.current && (\n        <Portal container={document.body}>\n          <PhotoSwipe\n            options={pswpOptions}\n            isOpen={isOpen}\n            items={items.current}\n            onClose={() => setOpen(false)}\n          />\n        </Portal>\n      )}\n    </>\n  )\n}\n\nexport default React.memo(LazyLoadImage)\n","import { Theme } from '@material-ui/core'\nimport isDarkTheme from './isDarkTheme'\n\nconst getInvertedContrastPaperColor = (theme: Theme) =>\n  theme.palette.background[isDarkTheme(theme) ? 'paper' : 'default']\n\nexport default getInvertedContrastPaperColor\n","import React from 'react'\nimport Spoiler from './Spoiler'\nimport { makeStyles } from '@material-ui/core/styles'\nimport getInvertedContrastPaperColor from 'src/utils/getInvertedContrastPaperColor'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(4),\n    background: getInvertedContrastPaperColor(theme),\n    borderRadius: theme.shape.borderRadius,\n    overflow: 'hidden',\n    padding: theme.spacing(2),\n    'user-select': 'none',\n    '& figcaption': {\n      color: theme.palette.text.hint,\n      fontSize: 14,\n      lineHeight: '18px',\n      marginTop: theme.spacing(1),\n      textAlign: 'center',\n    },\n    '& figure': {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'column',\n    },\n  },\n}))\n\nconst Details = ({ title, children }) => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <Spoiler title={title}>{children}</Spoiler>\n    </div>\n  )\n}\n\nexport default React.memo(Details)\n","import {\r\n  useSelector as useReduxSelector,\r\n  TypedUseSelectorHook,\r\n} from 'react-redux'\r\nimport { RootState } from 'src/store'\r\n\r\nconst useSelector: TypedUseSelectorHook<RootState> = useReduxSelector\r\n\r\nexport default useSelector\r\n","import { useLocation, matchPath } from 'react-router-dom'\nimport { routes } from 'src/config/routes'\nimport { Location } from 'history'\n\nconst useRoute = (defaultLocation?: Location<unknown>) => {\n  const location = defaultLocation || useLocation()\n  const path = location.pathname\n  const fourOFourRoute = routes.find((e) => e.path === '/:404*')\n  const route = routes.find((e) =>\n    matchPath(path, { path: e.path, exact: true })\n  )\n  return route || fourOFourRoute\n}\n\nexport default useRoute\n","import { HABR_BASE_REGEXP, HABR_LINKS_REPLACE_MAP } from 'src/config/constants'\n\nconst formatLink = (s: string): string | false => {\n  const baseMatch = HABR_BASE_REGEXP.exec(s)\n  if (baseMatch) {\n    const replaceObject = HABR_LINKS_REPLACE_MAP.find((e) => !!e.regexp.exec(s))\n    // Cannot replace link, return false so FormattedText leaves <a> as is\n    if (!replaceObject) return false\n\n    const matches = replaceObject.regexp.exec(s)\n    let newHref = replaceObject.to\n    matches?.slice(1)?.forEach((e, i) => {\n      newHref = newHref.replace(`[${i}]`, e)\n    })\n    return newHref\n  } else return false\n}\n\nexport default formatLink\n","const blend = (color1: string, color2: string, percent: number) => {\n  const red1 = parseInt(color1[1] + color1[2], 16)\n  const green1 = parseInt(color1[3] + color1[4], 16)\n  const blue1 = parseInt(color1[5] + color1[6], 16)\n\n  const red2 = parseInt(color2[1] + color2[2], 16)\n  const green2 = parseInt(color2[3] + color2[4], 16)\n  const blue2 = parseInt(color2[5] + color2[6], 16)\n\n  const red = Math.round(mix(red1, red2, percent))\n  const green = Math.round(mix(green1, green2, percent))\n  const blue = Math.round(mix(blue1, blue2, percent))\n\n  return generateHex(red, green, blue)\n}\n\nconst generateHex = (\n  r: string | number,\n  g: string | number,\n  b: string | number\n) => {\n  r = r.toString(16)\n  g = g.toString(16)\n  b = b.toString(16)\n\n  while (r.length < 2) {\n    r = '0' + r\n  }\n  while (g.length < 2) {\n    g = '0' + g\n  }\n  while (b.length < 2) {\n    b = '0' + b\n  }\n\n  return '#' + r + g + b\n}\n\nconst mix = (start: number, end: number, percent: number) =>\n  start + percent * (end - start)\n\nexport default blend\n","import * as React from 'react'\r\nimport {\r\n  makeStyles,\r\n  fade,\r\n  darken,\r\n  lighten,\r\n  Theme,\r\n  rgbToHex,\r\n} from '@material-ui/core/styles'\r\nimport SyntaxHighlighter from 'react-syntax-highlighter'\r\nimport { monokai as monokaiStyle } from 'react-syntax-highlighter/dist/esm/styles/hljs'\r\nimport Spoiler from '../blocks/Spoiler'\r\nimport parse, { domToReact, HTMLReactParserOptions } from 'html-react-parser'\r\nimport LazyLoadImage from '../blocks/LazyLoadImage'\r\nimport Details from '../blocks/Details'\r\nimport Iframe from 'react-iframe'\r\nimport { Node as MathJaxNode } from '@nteract/mathjax'\r\nimport getInvertedContrastPaperColor from 'src/utils/getInvertedContrastPaperColor'\r\nimport isDarkTheme from 'src/utils/isDarkTheme'\r\nimport { APP_BAR_HEIGHT, MIN_WIDTH } from 'src/config/constants'\r\nimport { useSelector } from 'src/hooks'\r\nimport { UserSettings } from 'src/interfaces'\r\nimport formatLink from 'src/utils/formatLink'\r\nimport { Link } from 'react-router-dom'\r\nimport blend from 'src/utils/blendColors'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\n\r\ninterface IframeResizeData {\r\n  type: string\r\n  id: number\r\n  height: number\r\n}\r\n\r\nconst useStyles = makeStyles<\r\n  Theme,\r\n  {\r\n    oldHabrFormat: boolean\r\n    readerSettings: UserSettings['readerSettings']\r\n    inverseColors: boolean\r\n  }\r\n>((theme) => ({\r\n  img: {\r\n    maxWidth: '100%',\r\n    verticalAlign: 'middle',\r\n    height: 'auto',\r\n    borderRadius: 4,\r\n  },\r\n  text: {\r\n    fontSize: ({ readerSettings }) => readerSettings.fontSize,\r\n    fontFamily: ({ readerSettings }) => readerSettings.fontFamily,\r\n    '& a': {\r\n      color: theme.palette.primary.main,\r\n      textDecoration: 'none',\r\n      '-webkit-tap-highlight-color': 'transparent !important',\r\n    },\r\n    '& a:hover': {\r\n      color: fade(theme.palette.primary.main, 0.8),\r\n      textDecoration: 'underline',\r\n    },\r\n    '& h1+p, h2+p, h3+p, h4+p': {\r\n      marginTop: ({ oldHabrFormat: d }) => (d ? 0 : theme.spacing(1.5)),\r\n    },\r\n    '& p': {\r\n      margin: 0,\r\n      fontSize: ({ readerSettings }) => readerSettings.fontSize,\r\n      fontFamily: ({ readerSettings }) => readerSettings.fontFamily,\r\n    },\r\n    '& p+p, pre+p': {\r\n      marginTop: ({ oldHabrFormat: d }) => (d ? 0 : theme.spacing(3)),\r\n    },\r\n    '& em': {\r\n      color: blend(\r\n        rgbToHex(theme.palette.primary.light),\r\n        rgbToHex(theme.palette.text.primary),\r\n        0.9\r\n      ),\r\n    },\r\n    '& code': {\r\n      background: ({ inverseColors }) =>\r\n        inverseColors\r\n          ? getContrastPaperColor(theme)\r\n          : getInvertedContrastPaperColor(theme),\r\n      padding: '3px 6px',\r\n      borderRadius: theme.shape.borderRadius,\r\n      wordBreak: 'break-word',\r\n    },\r\n    '& div.table, div.scrollable-table': {\r\n      overflow: 'auto',\r\n      marginTop: theme.spacing(2),\r\n      wordBreak: 'normal',\r\n    },\r\n    '& sub, sup': {\r\n      fontSize: '75%',\r\n      lineHeight: 0,\r\n      position: 'relative',\r\n      verticalAlign: 'initial',\r\n    },\r\n    '& table': {\r\n      width: '100%',\r\n      borderCollapse: 'collapse',\r\n    },\r\n    '& table td': {\r\n      padding: '6px 12px 9px',\r\n      border: '1px solid ' + theme.palette.text.hint,\r\n      verticalAlign: 'top',\r\n      lineHeight: '1.5',\r\n      minWidth: 100,\r\n    },\r\n    '& table th': {\r\n      padding: '6px 12px 9px',\r\n      border: '1px solid ' + theme.palette.text.hint,\r\n      verticalAlign: 'top',\r\n      lineHeight: '1.5',\r\n      minWidth: 100,\r\n    },\r\n    '& h1, h2, h3': {\r\n      fontSize: 24,\r\n      lineHeight: '30px',\r\n    },\r\n    '& h4, h5, h6': {\r\n      fontSize: 20,\r\n      lineHeight: '26px',\r\n    },\r\n    '& h1, h2, h3, h4, h5, h6': {\r\n      margin: ({ oldHabrFormat: d }) => `${theme.spacing(d ? 1 : 4)}px 0 0 0`,\r\n      fontFamily: 'Google Sans',\r\n      fontWeight: 800,\r\n    },\r\n    '& blockquote': {\r\n      margin: '12px 0',\r\n      padding: '0 12px',\r\n      display: 'block',\r\n      borderLeft: '4px solid ' + theme.palette.primary.light,\r\n      color: blend(\r\n        rgbToHex(theme.palette.primary.light),\r\n        rgbToHex(theme.palette.text.primary),\r\n        0.9\r\n      ),\r\n      fontStyle: 'italic',\r\n    },\r\n    '& hr': {\r\n      border: 'none',\r\n      borderBottom: '1px solid ' + theme.palette.divider,\r\n      margin: theme.spacing(1, 2),\r\n    },\r\n    '& figure': {\r\n      margin: 0,\r\n      marginTop: theme.spacing(4),\r\n      textAlign: 'center',\r\n      '& figcaption': {\r\n        color: theme.palette.text.secondary,\r\n        fontSize: theme.typography.body2.fontSize,\r\n        textAlign: 'center',\r\n        marginTop: theme.spacing(1),\r\n        lineHeight: '18px',\r\n      },\r\n    },\r\n    '& figure.float': {\r\n      float: 'left',\r\n      maxWidth: '50%',\r\n      marginRight: theme.spacing(4),\r\n    },\r\n    '& figure+p': {\r\n      marginTop: theme.spacing(4),\r\n    },\r\n    '& figure.float+p:after': {\r\n      content: '\"\"',\r\n      display: 'block',\r\n      clear: 'both',\r\n    },\r\n    '& sup': {\r\n      color: blend(\r\n        rgbToHex(theme.palette.primary.light),\r\n        rgbToHex(theme.palette.text.primary),\r\n        0.9\r\n      ),\r\n      top: '-.5em',\r\n    },\r\n    // MathJaxNode overflow fix\r\n    '& span.mjx-chtml': {\r\n      whiteSpace: 'normal',\r\n    },\r\n  },\r\n  syntaxHighlighter: {\r\n    margin: 0,\r\n    marginTop: theme.spacing(3),\r\n    display: 'block',\r\n    tabSize: 4,\r\n    overflow: 'auto',\r\n    border: '1px solid ' + theme.palette.divider,\r\n    borderRadius: 4,\r\n    padding: theme.spacing(2) + 'px !important',\r\n    color: theme.palette.text.primary + ' !important',\r\n    boxSizing: 'border-box',\r\n    '-moz-tab-size': 4,\r\n    whiteSpace: 'pre',\r\n    wordBreak: 'normal',\r\n    wordSpacing: 'normal',\r\n    wordWrap: 'normal',\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      backgroundColor: getContrastPaperColor(theme) + ' !important',\r\n    },\r\n    [theme.breakpoints.down(MIN_WIDTH)]: {\r\n      backgroundColor: ({ inverseColors }) =>\r\n        (inverseColors\r\n          ? getContrastPaperColor(theme)\r\n          : getInvertedContrastPaperColor(theme)) + ' !important',\r\n    },\r\n    '& code': {\r\n      whiteSpace: 'pre',\r\n      wordBreak: 'normal',\r\n      wordSpacing: 'normal',\r\n      wordWrap: 'normal',\r\n      background: 'none !important',\r\n      padding: 0,\r\n      '-moz-tab-size': 4,\r\n      tabSize: 4,\r\n      fontSize: 14,\r\n      fontFamily: 'Menlo,Monaco,Consolas,Courier New,Courier,monospace',\r\n    },\r\n    '&::-webkit-scrollbar': {\r\n      height: 12,\r\n      background: theme.palette.background.default,\r\n      borderRadius: 2,\r\n    },\r\n    '&::-webkit-scrollbar-thumb': {\r\n      background: isDarkTheme(theme)\r\n        ? lighten(theme.palette.background.paper, 0.08)\r\n        : darken(theme.palette.background.paper, 0.08),\r\n      borderRadius: 2,\r\n      transition: '0.1s',\r\n      '&:hover': {\r\n        background: isDarkTheme(theme)\r\n          ? lighten(theme.palette.background.paper, 0.1)\r\n          : darken(theme.palette.background.paper, 0.1),\r\n      },\r\n      '&:active': {\r\n        background: isDarkTheme(theme)\r\n          ? lighten(theme.palette.background.paper, 0.2)\r\n          : darken(theme.palette.background.paper, 0.2),\r\n      },\r\n    },\r\n  },\r\n  iframe: {\r\n    width: '100%',\r\n    minWidth: '100%',\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  abbr: {\r\n    borderBottom: '1px dotted ' + fade(theme.palette.divider, 0.5),\r\n    cursor: 'help',\r\n    textDecoration: 'none',\r\n  },\r\n}))\r\n\r\nconst FormattedText: React.FC<{\r\n  children: string\r\n  oldHabrFormat?: boolean\r\n  className?: string\r\n  inverseColors?: boolean\r\n}> = ({\r\n  children: componentChildren,\r\n  className = '',\r\n  oldHabrFormat = false,\r\n  inverseColors = false,\r\n  ...props\r\n}) => {\r\n  const readerSettings = useSelector((store) => store.settings.readerSettings)\r\n  const classes = useStyles({ oldHabrFormat, readerSettings, inverseColors })\r\n  const [iframeHeights, setIframeHeights] = React.useState<\r\n    Record<string, number>\r\n  >({})\r\n  const shouldChangeLinks = useSelector(\r\n    (store) => store.settings.readerSettings.changeLinks\r\n  )\r\n  const options: HTMLReactParserOptions = {\r\n    trim: true,\r\n    replace: ({ name, children, attribs }): void | React.ReactElement => {\r\n      if (name === '&nbsp;') {\r\n        return <> </>\r\n      }\r\n      if (name === 'pre') {\r\n        const firstChild = children[0]\r\n        const language = firstChild.attribs?.class || null\r\n        const data = firstChild.children\r\n          ? firstChild.children[0].data\r\n          : firstChild?.data\r\n\r\n        return (\r\n          <SyntaxHighlighter\r\n            style={monokaiStyle}\r\n            language={language}\r\n            className={classes.syntaxHighlighter}\r\n          >\r\n            {data}\r\n          </SyntaxHighlighter>\r\n        )\r\n      }\r\n      if (name === 'img') {\r\n        const imgClasses = attribs.class ? attribs.class.split(' ') : []\r\n        if (attribs['data-tex']) {\r\n          const formula = attribs['alt'].slice(1, attribs['alt'].length - 1)\r\n          return (\r\n            <MathJaxNode inline={attribs['data-tex'] === 'inline'}>\r\n              {formula}\r\n            </MathJaxNode>\r\n          )\r\n        } else if (imgClasses.some((e) => e === 'formula')) {\r\n          const formula = attribs.source\r\n          return (\r\n            <MathJaxNode inline={imgClasses.some((e) => e === 'inline')}>\r\n              {formula}\r\n            </MathJaxNode>\r\n          )\r\n        }\r\n\r\n        const imgStyles = {\r\n          width: attribs['data-width'] || attribs.width,\r\n          height: attribs['data-height'] || attribs.height,\r\n        }\r\n\r\n        return (\r\n          <LazyLoadImage\r\n            placeholderSrc={attribs.src}\r\n            // First try to load src from 'data-src' attribute\r\n            // If not found, then use default 'src' attribute\r\n            src={attribs['data-src'] || attribs.src}\r\n            alt={attribs.alt || 'Изображение не загружено'}\r\n            align={attribs.align}\r\n            style={imgStyles}\r\n            className={classes.img}\r\n          />\r\n        )\r\n      }\r\n      if (name === 'div' && attribs.class === 'tm-iframe_temp') {\r\n        return (\r\n          <Iframe\r\n            frameBorder={0}\r\n            allowFullScreen={true}\r\n            className={classes.iframe}\r\n            url={attribs['data-src']}\r\n            height={iframeHeights[attribs.id]?.toString() || 'auto'}\r\n            id={attribs.id}\r\n          ></Iframe>\r\n        )\r\n      }\r\n      if (name === 'div' && attribs.class === 'spoiler') {\r\n        const title: string = children.find(\r\n          (e) => e.attribs && e.attribs.class === 'spoiler_title'\r\n        ).children[0]?.data\r\n        const data = children.find(\r\n          (e) => e.attribs && e.attribs.class === 'spoiler_text'\r\n        ).children\r\n\r\n        return <Spoiler title={title}>{domToReact(data, options)}</Spoiler>\r\n      }\r\n      if (name === 'details' && attribs.class === 'spoiler') {\r\n        const title: string = children.find((e) => e.name === 'summary')\r\n          .children[0]?.data\r\n        const data = children.find(\r\n          (e) => e.attribs && e.attribs.class === 'spoiler__content'\r\n        ).children\r\n\r\n        return <Details title={title}>{domToReact(data, options)}</Details>\r\n      }\r\n      if (name === 'a' && attribs?.href?.startsWith('#')) {\r\n        const handleLinkClick: React.MouseEventHandler<HTMLAnchorElement> = (\r\n          e\r\n        ) => {\r\n          e.preventDefault()\r\n          const el =\r\n            document.getElementById(attribs.href.slice(1)) ||\r\n            document.getElementsByName(attribs.href.slice(1))[0]\r\n          const yOffset = -APP_BAR_HEIGHT\r\n          const y =\r\n            (el?.getBoundingClientRect()?.top || 0) +\r\n            window.pageYOffset +\r\n            yOffset\r\n          window.scrollTo({ top: y, behavior: 'smooth' })\r\n        }\r\n        return (\r\n          <a onClick={handleLinkClick} {...attribs}>\r\n            {domToReact(children, options)}\r\n          </a>\r\n        )\r\n      }\r\n      if (name === 'a' && shouldChangeLinks) {\r\n        const formattedLink = formatLink(attribs.href)\r\n        if (formattedLink)\r\n          return (\r\n            <Link to={formattedLink as string}>\r\n              {domToReact(children, options)}\r\n            </Link>\r\n          )\r\n      }\r\n      if (name === 'abbr') {\r\n        return (\r\n          <Tooltip\r\n            title={attribs.title}\r\n            placement=\"bottom\"\r\n            className={classes.abbr}\r\n          >\r\n            <span>{domToReact(children, options)}</span>\r\n          </Tooltip>\r\n        )\r\n      }\r\n    },\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const handler = (e: MessageEvent<IframeResizeData>) => {\r\n      e.data.type === 'embed-size' &&\r\n        setIframeHeights((prev) => ({\r\n          ...prev,\r\n          [e.data.id]: e.data.height || 'auto',\r\n        }))\r\n    }\r\n    window.addEventListener('message', handler)\r\n    return () => {\r\n      // Remove listener on cleanup\r\n      window.removeEventListener('message', handler)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div {...props} className={classes.text + ' ' + className}>\r\n      {parse(componentChildren, options)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(FormattedText)\r\n","import React from 'react'\r\nimport { indigo, red, green, purple, orange } from '@material-ui/core/colors'\r\n\r\nconst colors = [indigo[400], red[400], green[400], orange[400], purple[400]]\r\n\r\nconst UserPlaceholder = ({ num }: { num: number }) => {\r\n  const n = num % colors.length\r\n  const color = colors[n]\r\n\r\n  return (\r\n    <svg viewBox=\"0 0 24 24\" fill={color}>\r\n      <path d=\"M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default React.memo(UserPlaceholder)\r\n","import React from 'react'\r\nimport { Avatar } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport UserPlaceholder from '../svg/UserPlaceholder'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: theme.shape.borderRadius,\r\n  },\r\n}))\r\n\r\nconst UserAvatar: React.FC<{\r\n  src: string\r\n  alias: string\r\n  className?: string\r\n}> = ({ src, alias, className, ...props }) => {\r\n  const habrStubPaths = [\r\n    'habr.com/images/avatars/stub-user',\r\n    'habr.com/images/stub-user',\r\n  ]\r\n  const classes = useStyles()\r\n  // Checks if user has a stub Habr avatar or not\r\n  // If false, then user has a custom avatar and we should render Avatar component\r\n  // Otherwise, we render UserPlaceholder\r\n  const state = src\r\n    ? habrStubPaths.some((e) => src.split('//')[1].startsWith(e))\r\n    : true\r\n\r\n  return (\r\n    <div {...props} className={[classes.root, className].join(' ')}>\r\n      {!state && <Avatar className={className || classes.root} src={src} />}\r\n      {state && <UserPlaceholder num={alias?.length || 0} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(UserAvatar)\r\n","export default (n: number) =>\r\n  n >= 1000 ? (Math.ceil(n / 100) / 10 + 'k').replace('.', ',') : n\r\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport { MIDDLE_WIDTH, MIN_WIDTH } from '../../config/constants'\nimport {\n  Dialog,\n  Drawer,\n  IconButton,\n  SwipeableDrawer,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport { Icon24Cancel } from '@vkontakte/icons'\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    color: '#fff',\n  },\n  drawerRoot: {\n    WebkitBorderTopLeftRadius: '14px',\n    WebkitBorderTopRightRadius: '14px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: MIN_WIDTH,\n  },\n  drawerContent: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  drawer: {\n    margin: theme.spacing(0, 2, 2, 2),\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    height: 56,\n  },\n  drawerHeaderIcon: {\n    marginRight: 4,\n    marginLeft: -12,\n  },\n  drawerHeaderText: {\n    fontFamily: 'Google Sans',\n    fontSize: 20,\n    fontWeight: 500,\n    width: 'calc(100% - 56px - 56px)',\n    textAlign: 'center',\n    position: 'absolute',\n    left: 56,\n    zIndex: 1,\n    right: 56,\n  },\n  margin: {\n    marginRight: theme.spacing(2),\n    marginLeft: theme.spacing(2),\n  },\n}))\n\ninterface Props {\n  headerText: string\n  children: NonNullable<React.ReactNode>\n  isOpen: boolean\n  setOpen?: (value: boolean) => void\n  disableClose?: boolean\n  hideOnDesktop?: boolean\n}\n\nconst BottomDrawer = ({\n  headerText,\n  children,\n  isOpen,\n  setOpen,\n  disableClose,\n  hideOnDesktop = false,\n}: Props) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  // future: https://material-ui.com/components/use-media-query/#server-side-rendering\n  // when ssr is implemented, change `noSsr` to false.\n  const query = useMediaQuery(theme.breakpoints.up(MIDDLE_WIDTH), {\n    noSsr: true,\n  })\n  const open = () => setOpen(true)\n  const close = () => setOpen(false)\n  const contents = (\n    <div className={classes.drawer}>\n      <div className={classes.drawerHeader}>\n        {!disableClose && (\n          <IconButton className={classes.drawerHeaderIcon} onClick={close}>\n            <Icon24Cancel />\n          </IconButton>\n        )}\n        <Typography className={classes.drawerHeaderText}>\n          {headerText}\n        </Typography>\n      </div>\n      <div className={classes.drawerContent}>{children}</div>\n    </div>\n  )\n\n  return disableClose ? (\n    <Drawer\n      open={isOpen}\n      anchor=\"bottom\"\n      classes={{\n        paper: classes.drawerRoot,\n      }}\n      className={classes.margin}\n      style={{ zIndex: 5000 }}\n      elevation={0}\n    >\n      {contents}\n    </Drawer>\n  ) : (\n    <>\n      {!query && (\n        <SwipeableDrawer\n          open={isOpen}\n          anchor=\"bottom\"\n          onClose={close}\n          onOpen={open}\n          disableBackdropTransition\n          disableDiscovery\n          disableSwipeToOpen\n          classes={{\n            paper: classes.drawerRoot,\n          }}\n          className={classes.margin}\n          style={{ zIndex: 5000 }}\n          elevation={0}\n        >\n          {contents}\n        </SwipeableDrawer>\n      )}\n      {query && !hideOnDesktop && (\n        <Dialog onClose={close} open={isOpen}>\n          {contents}\n        </Dialog>\n      )}\n    </>\n  )\n}\n\nexport default React.memo(BottomDrawer)\n","import * as React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  redText: { color: theme.palette.error.main + ' !important' },\r\n  greenText: { color: theme.palette.success.main + ' !important' },\r\n}))\r\n\r\ninterface Props {\r\n  number: string | number\r\n  children?: JSX.Element\r\n  wrapperProps?: Record<string, unknown>\r\n}\r\n\r\nconst GreenRedNumber = ({ children, wrapperProps = {}, number }: Props) => {\r\n  const classes = useStyles()\r\n  const {\r\n    className: wrapperPropsClassName,\r\n    ...otherWrapperProps\r\n  } = wrapperProps\r\n  const wrapperClassName = wrapperPropsClassName\r\n    ? ' ' + wrapperPropsClassName\r\n    : ''\r\n  let className = ''\r\n\r\n  if (number > 0) {\r\n    className = classes.greenText\r\n  } else if (number < 0) {\r\n    className = classes.redText\r\n  }\r\n\r\n  return (\r\n    <div className={className + wrapperClassName} {...otherWrapperProps}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(GreenRedNumber)\r\n","import { Post } from 'src/interfaces'\n\nexport default (post: Post) => {\n  if (!post) return ''\n\n  const { id, isCorporative } = post\n  const companyAlias = isCorporative\n    ? post.hubs.find((e) => e.type === 'corporative').alias\n    : null\n  return isCorporative\n    ? '/company/' + companyAlias + '/blog/' + id\n    : '/post/' + id\n}\n","import { Post } from 'src/interfaces'\nimport formatNumber from './formatNumber'\n\nconst getFavoritesCount = ({\n  post,\n  isBookmarked,\n}: {\n  post: Post\n  isBookmarked: boolean\n}) => {\n  const postBookmarked = post?.relatedData?.bookmarked\n  const favoritesCount = post.statistics.favoritesCount\n  let favoritesCountAddAmount = 0\n\n  if (postBookmarked) {\n    favoritesCountAddAmount = isBookmarked ? 0 : -1\n  } else {\n    favoritesCountAddAmount = isBookmarked ? 1 : 0\n  }\n\n  return formatNumber(favoritesCount + favoritesCountAddAmount)\n}\n\nexport default getFavoritesCount\n","import { Post } from 'src/interfaces'\n\nconst getScoreTotal = ({\n  post,\n  voteState,\n}: {\n  post: Post\n  voteState: {\n    canVote: Post['relatedData']['canVote']\n    vote: Post['relatedData']['vote']\n    voteByDefault: boolean\n  }\n}) => {\n  const total =\n    post.statistics.votesCount +\n    (voteState?.vote?.value && !voteState.voteByDefault ? 1 : 0)\n  const score = Number(\n    post.statistics.score +\n      (!voteState.voteByDefault ? voteState?.vote?.value : 0)\n  )\n  const positive = (total + score) / 2\n  const negative = (total - score) / 2\n  return { total, score, positive, negative }\n}\n\nexport default getScoreTotal\n","import * as React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport { MIDDLE_WIDTH, MIN_WIDTH } from 'src/config/constants'\nimport ThumbsUpDownIcon from '@material-ui/icons/ThumbsUpDown'\nimport BookmarkIcon from '@material-ui/icons/Bookmark'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport CommentsIcon from '@material-ui/icons/CommentRounded'\nimport ThumbDownAltRoundedIcon from '@material-ui/icons/ThumbDownAltRounded'\nimport ThumbUpAltRoundedIcon from '@material-ui/icons/ThumbUpAltRounded'\nimport { Icon28ShareOutline as ShareIcon } from '@vkontakte/icons'\nimport formatNumber from 'src/utils/formatNumber'\nimport { FetchingState, Post } from 'src/interfaces'\nimport {\n  Button,\n  ButtonBase,\n  CircularProgress,\n  Fade,\n  fade,\n  FormControlLabel,\n  IconButton,\n  Radio,\n  RadioGroup,\n  Theme,\n  Tooltip,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { useHistory, useLocation } from 'react-router'\nimport { useSnackbar } from 'notistack'\nimport { useState } from 'react'\nimport BottomDrawer from 'src/components/blocks/BottomDrawer'\nimport { Icon24ChevronCompactRight } from '@vkontakte/icons'\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\nimport { Icon16Up, Icon16Down } from '@vkontakte/icons'\nimport { Link } from 'react-router-dom'\nimport getPostLink from 'src/utils/getPostLink'\nimport getFavoritesCount from 'src/utils/getFavoritesCount'\nimport { useSelector } from 'src/hooks'\nimport setArticleBookmark from 'src/api/setArticleBookmark'\nimport setArticleVote from 'src/api/setArticleVote'\nimport APIError from 'src/interfaces/APIError'\nimport getScoreTotal from 'src/utils/getScoreTotal'\n\nconst getScoreColor = (score: number, theme: Theme) => {\n  if (score === 0) return theme.palette.background.paper\n  else if (score > 0) return theme.palette.success.main\n  else if (score < 0) return theme.palette.error.main\n}\n\nconst SEPARATE_COMMENTS_BUTTON_WIDTH = 1416\nconst MIN_COMMENTS_BUTTON_WIDTH = 1132\nconst useDesktopStyles = makeStyles((theme) => ({\n  root: {\n    display: 'none',\n    marginTop: theme.spacing(2),\n    flexDirection: 'row',\n    gap: theme.spacing(2),\n    [theme.breakpoints.between(MIN_WIDTH, SEPARATE_COMMENTS_BUTTON_WIDTH)]: {\n      flexDirection: 'column',\n    },\n    [theme.breakpoints.between(MIN_COMMENTS_BUTTON_WIDTH, MIDDLE_WIDTH)]: {\n      flexDirection: 'row',\n    },\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      display: 'flex',\n    },\n  },\n  scoreWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    color: theme.palette.text.secondary,\n  },\n  grayIcon: {\n    color: theme.palette.text.secondary,\n    padding: 12,\n  },\n  scoreUpActive: {\n    color: theme.palette.success.main + ' !important',\n    padding: 12,\n  },\n  scoreDownActive: {\n    color: theme.palette.error.main + ' !important',\n    padding: 12,\n  },\n  shareButton: {\n    width: '100%',\n    borderRadius: 8,\n    height: 48,\n    color: theme.palette.text.secondary,\n    textTransform: 'none',\n    fontSize: 16,\n    fontFamily: 'Google Sans',\n  },\n  card: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 8,\n    padding: theme.spacing(0, 2),\n    display: 'flex',\n    gap: theme.spacing(1),\n    height: 48,\n  },\n  section: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  commentsCard: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 8,\n    padding: theme.spacing(0, 2),\n    fontSize: 16,\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    alignItems: 'center',\n    display: 'flex',\n    height: 48,\n    width: '100%',\n  },\n  commentsChevronRightIcon: {\n    marginLeft: theme.spacing(1.5),\n  },\n  commentsCardLink: {\n    display: 'flex',\n    color: theme.palette.text.primary,\n    textDecoration: 'none',\n  },\n  commentsAmount: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.primary.main,\n  },\n  score: {\n    fontSize: 16,\n    fontWeight: 600,\n    fontFamily: 'Google Sans',\n  },\n  spinner: {\n    width: '24px !important',\n    height: '24px !important',\n  },\n}))\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: theme.palette.text.primary,\n    position: 'relative',\n    display: 'flex',\n    zIndex: 5,\n    flexDirection: 'column',\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(0, 2),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      display: 'none',\n    },\n  },\n  title: {\n    textAlign: 'left',\n    fontFamily: 'Google Sans',\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    fontSize: 13,\n    letterSpacing: '1px',\n    color: theme.palette.text.hint,\n    lineHeight: 'normal',\n    padding: theme.spacing(1.8, 0),\n  },\n  shareButton: {\n    width: '100%',\n    borderRadius: 8,\n    height: 48,\n    marginTop: theme.spacing(1),\n    color: theme.palette.text.secondary,\n  },\n  confirmDownvoteButton: {\n    height: 40,\n    marginTop: theme.spacing(2),\n    borderRadius: 8,\n    textTransform: 'none',\n    fontFamily: 'Google Sans',\n    fontSize: 15,\n    fontWeight: 500,\n  },\n  scoreDrawerText: {\n    fontFamily: 'Google Sans',\n    fontSize: 18,\n    fontWeight: 800,\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  scoreDrawerButton: {\n    padding: theme.spacing(1.5),\n    flexGrow: 1,\n    borderRadius: 8,\n    marginTop: theme.spacing(3),\n    // Thumbs Up\n    '&:nth-child(1)': {\n      backgroundColor: fade(theme.palette.success.light, 0.7),\n      marginRight: theme.spacing(1),\n      '&:disabled': {\n        backgroundColor: fade(theme.palette.success.light, 0.4),\n        color: theme.palette.text.disabled,\n      },\n    },\n    // Thumbs Down\n    '&:nth-child(2)': {\n      backgroundColor: fade(theme.palette.error.light, 0.7),\n      marginLeft: theme.spacing(1),\n      '&:disabled': {\n        backgroundColor: fade(theme.palette.error.light, 0.4),\n        color: theme.palette.text.disabled,\n      },\n    },\n  },\n  scoreDrawerScore: {\n    fontWeight: 600,\n    fontFamily: 'Roboto',\n    fontSize: 16,\n    marginRight: theme.spacing(1),\n  },\n  viewsCard: {\n    background: theme.palette.action.hover + ' !important',\n  },\n  favoritesCard: {\n    background: fade(theme.palette.primary.main, 0.5),\n    transitionDuration: theme.transitions.duration.complex.toString() + 'ms',\n    '&:disabled': {\n      pointerEvents: 'none',\n      opacity: 0.8,\n      background: theme.palette.action.hover,\n    },\n  },\n  favoritesCardActive: {\n    background: fade(theme.palette.primary.main, 0.7),\n    transitionDuration: theme.transitions.duration.complex.toString() + 'ms',\n    '&:disabled': {\n      pointerEvents: 'none',\n      opacity: 0.8,\n      background: theme.palette.action.hover,\n    },\n  },\n  commentsCard: {\n    background: fade(theme.palette.background.paper, 0.7),\n    boxShadow: '0 0 0 2px inset ' + theme.palette.primary.main,\n  },\n}))\n\nconst useCardStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: theme.spacing(2),\n    flexDirection: 'column',\n    borderRadius: 8,\n    width: '100%',\n    alignItems: 'baseline',\n    overflow: 'hidden',\n  },\n  amount: {\n    fontFamily: 'Google Sans',\n    fontSize: 32,\n    fontWeight: 800,\n    color: theme.palette.text.primary,\n    lineHeight: '32px',\n    marginBottom: 2,\n  },\n  icon: {\n    position: 'absolute',\n    top: -36,\n    right: 0,\n    opacity: 0.1,\n    borderRadius: 8,\n    '& svg': { fontSize: '6.5rem' },\n  },\n  text: {\n    fontFamily: 'Google Sans',\n    fontSize: 16,\n    lineHeight: '16px',\n    fontWeight: 500,\n    color: fade(theme.palette.text.primary, 0.5),\n  },\n  spinner: {\n    width: '32px !important',\n    height: '32px !important',\n  },\n  spinnerHolder: {\n    position: 'absolute',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: `calc(100% - ${theme.spacing(2)}px)`,\n    heigth: '100%',\n  },\n}))\n\ninterface CardProps {\n  className?: string\n  amount: number | string\n  text: string\n  icon: JSX.Element\n  disabled?: boolean\n  showSpinner?: boolean\n  [key: string]: unknown\n}\n\nconst CardUnmemoized: React.FC<CardProps> = ({\n  className,\n  amount,\n  text,\n  icon,\n  disabled = false,\n  showSpinner = false,\n  ...props\n}) => {\n  const classes = useCardStyles()\n\n  return (\n    <Grid xs={6} lg={3} item>\n      <ButtonBase\n        className={classes.root + ' ' + className}\n        disabled={disabled}\n        {...props}\n      >\n        <Fade in={showSpinner} unmountOnExit mountOnEnter>\n          <div className={classes.spinnerHolder}>\n            <CircularProgress thickness={4} className={classes.spinner} />\n          </div>\n        </Fade>\n        <div className={classes.icon}>{icon}</div>\n        <Typography className={classes.amount}>{amount}</Typography>\n        <Typography className={classes.text}>{text}</Typography>\n      </ButtonBase>\n    </Grid>\n  )\n}\nconst Card = React.memo(CardUnmemoized)\n\nconst ViewsCard: React.FC<{\n  post: Post\n}> = ({ post }) => {\n  const classes = useStyles()\n  const reads = formatNumber(Number(post.statistics.readingCount))\n\n  return (\n    <Card\n      icon={<VisibilityIcon />}\n      className={classes.viewsCard}\n      amount={reads}\n      text={'просмотров'}\n    />\n  )\n}\nconst ScoreCard: React.FC<{\n  post: Post\n  onClick: (d: 'down' | 'up', reason?: string) => void\n  isFetchingScoreResponse: boolean\n  voteState: {\n    canVote: Post['relatedData']['canVote']\n    vote: Post['relatedData']['vote']\n    voteByDefault: boolean\n  }\n  setDownvoteReasonsDrawerOpen: React.Dispatch<React.SetStateAction<boolean>>\n  isScoreCardDrawerOpen: boolean\n  setScoreCardDrawerOpen: React.Dispatch<React.SetStateAction<boolean>>\n}> = ({\n  post,\n  onClick,\n  isFetchingScoreResponse,\n  voteState,\n  setDownvoteReasonsDrawerOpen,\n  isScoreCardDrawerOpen,\n  setScoreCardDrawerOpen,\n}) => {\n  const { total, negative, positive, score } = getScoreTotal({\n    post,\n    voteState,\n  })\n  const theme = useTheme()\n  const classes = useStyles()\n  const authorizedRequestData = useSelector(\n    (store) => store.auth.authorizedRequestData\n  )\n  const shouldDisableButtons =\n    !authorizedRequestData || isFetchingScoreResponse || !voteState.canVote\n  const disableUpButton = voteState.vote.value === -1\n  const disableDownButton = voteState.vote.value === 1\n\n  const handleScoreButtonUpClick = () => {\n    voteState.canVote && onClick('up')\n  }\n  const handleScoreButtonDownClick = () => {\n    if (voteState.canVote) {\n      setDownvoteReasonsDrawerOpen(true)\n      setScoreCardDrawerOpen(false)\n    }\n  }\n\n  React.useEffect(() => {\n    if (voteState.vote.value === -1 && !isFetchingScoreResponse) {\n      setDownvoteReasonsDrawerOpen(false)\n    }\n  }, [isFetchingScoreResponse])\n\n  return (\n    <>\n      <Card\n        icon={<ThumbsUpDownIcon />}\n        style={{ background: fade(getScoreColor(score, theme), 0.7) }}\n        amount={score > 0 ? '+' + formatNumber(score) : formatNumber(score)}\n        text={'голосов'}\n        onClick={() => setScoreCardDrawerOpen(true)}\n      />\n      <BottomDrawer\n        isOpen={isScoreCardDrawerOpen}\n        setOpen={setScoreCardDrawerOpen}\n        headerText={'Голоса'}\n        hideOnDesktop\n      >\n        <Typography className={classes.scoreDrawerText}>\n          Всего голосов: {total}\n        </Typography>\n        <Grid container direction=\"row\">\n          <Grid\n            item\n            component={ButtonBase}\n            className={classes.scoreDrawerButton}\n            onClick={handleScoreButtonUpClick}\n            disableRipple={!voteState.canVote}\n            disabled={shouldDisableButtons || disableUpButton}\n          >\n            <span className={classes.scoreDrawerScore}>{positive}</span>\n            <ThumbUpAltRoundedIcon />\n          </Grid>\n          <Grid\n            item\n            component={ButtonBase}\n            className={classes.scoreDrawerButton}\n            onClick={handleScoreButtonDownClick}\n            disableRipple={!voteState.canVote}\n            disabled={shouldDisableButtons || disableDownButton}\n          >\n            <span className={classes.scoreDrawerScore}>{negative}</span>\n            <ThumbDownAltRoundedIcon />\n          </Grid>\n        </Grid>\n      </BottomDrawer>\n    </>\n  )\n}\nconst FavoritesCard: React.FC<{\n  post: Post\n  isBookmarked: boolean\n  isFetchingBookmarkResponse: boolean\n  onClick: () => void\n}> = ({ post, isBookmarked, onClick, isFetchingBookmarkResponse }) => {\n  const favorites = getFavoritesCount({ post, isBookmarked })\n  const classes = useStyles()\n\n  return (\n    <Card\n      icon={<BookmarkIcon />}\n      className={\n        classes[isBookmarked ? 'favoritesCardActive' : 'favoritesCard']\n      }\n      amount={favorites}\n      showSpinner={isFetchingBookmarkResponse}\n      disabled={isFetchingBookmarkResponse}\n      text={'в закладках'}\n      onClick={onClick}\n    />\n  )\n}\nconst CommentsCard: React.FC<{\n  post: Post\n}> = ({ post }) => {\n  const classes = useStyles()\n  const comments = formatNumber(Number(post.statistics.commentsCount))\n  const postLink = getPostLink(post)\n  const history = useHistory()\n\n  return (\n    <Card\n      icon={<CommentsIcon />}\n      className={classes.commentsCard}\n      amount={comments}\n      text={'комментариев'}\n      onClick={() =>\n        history.push(postLink + '/comments', {\n          from: location.pathname,\n          scroll: window.pageYOffset,\n        })\n      }\n    />\n  )\n}\n\nconst Statistics = ({ post }: { post: Post }) => {\n  const { enqueueSnackbar } = useSnackbar()\n  const { id, titleHtml: title, statistics } = post\n  const { commentsCount, readingCount } = statistics\n  const [isScoreCardDrawerOpen, setScoreCardDrawerOpen] = useState(false)\n  const [isDownvoteReasonsDrawerOpen, setDownvoteReasonsDrawerOpen] = useState(\n    false\n  )\n  const [currentDownvoteReason, setCurrentDownvoteReason] = useState<string>(\n    '1'\n  )\n  const authData = useSelector((store) => store.auth.authData.data)\n  const authorizedRequestData = useSelector(\n    (store) => store.auth.authorizedRequestData\n  )\n  const [isBookmarked, setBookmarkState] = useState(\n    post?.relatedData?.bookmarked\n  )\n  const [isFetchingBookmarkResponse, setIsFetchingBookmarkResponse] = useState(\n    false\n  )\n  const [voteState, setVoteState] = useState({\n    canVote: post?.relatedData?.canVote || false,\n    vote: post?.relatedData?.vote || {\n      value: 0,\n      voteTimeExpired: null,\n    },\n    voteByDefault: !!post?.relatedData?.vote,\n  })\n  const [isFetchingScoreResponse, setIsFetchingScoreResponse] = useState(false)\n  const classes = useStyles()\n  const classesDesktop = useDesktopStyles()\n  const { total: totalScore, negative, positive, score } = getScoreTotal({\n    post,\n    voteState,\n  })\n  const reads = formatNumber(Number(readingCount))\n  const comments = formatNumber(Number(commentsCount))\n  const favorites = getFavoritesCount({ post, isBookmarked })\n  const postLink = getPostLink(post)\n  const shouldDisableScoreButtons =\n    !authorizedRequestData || isFetchingScoreResponse || !voteState.canVote\n  const isScoreUpButtonDisabled = voteState.vote.value === -1\n  const isScoreDownButtonDisabled = voteState.vote.value === 1\n  const downvoteReasonsFetchState = useSelector(\n    (store) => store.post.downvoteReasons.state\n  )\n  const downvoteReasons = useSelector(\n    (store) => store.post.downvoteReasons.data\n  )\n  const share = () => {\n    const shareData = {\n      title,\n      url: process.env.PUBLIC_URL + '/post/' + id,\n    }\n\n    navigator.share(shareData).catch((e) => {\n      if (e.message.startsWith('Internal error:')) {\n        console.log('On share in Statistics:', e)\n        enqueueSnackbar('Не удалось поделиться статьей', {\n          variant: 'error',\n          autoHideDuration: 3000,\n        })\n      }\n    })\n  }\n\n  const handleFavoriteClick = async () => {\n    if (isFetchingBookmarkResponse) return\n    if (authData) {\n      setIsFetchingBookmarkResponse(true)\n      const response = await setArticleBookmark({\n        mode: isBookmarked ? 'remove' : 'add',\n        authData: authorizedRequestData,\n        id: post.id,\n      })\n      if (response.ok) {\n        setBookmarkState((prev) => !prev)\n      } else {\n        enqueueSnackbar('Произошла ошибка', {\n          variant: 'error',\n          autoHideDuration: 4000,\n        })\n        console.error('Error in handleFavoriteClick:', response)\n      }\n      setIsFetchingBookmarkResponse(false)\n    } else {\n      enqueueSnackbar('Нужна авторизация', {\n        variant: 'error',\n        autoHideDuration: 4000,\n      })\n    }\n  }\n\n  const handleScoreClick = async (mode: 'up' | 'down', reason?: string) => {\n    if (isFetchingScoreResponse) return\n    if (authData) {\n      setIsFetchingScoreResponse(true)\n      const response = await setArticleVote({\n        mode,\n        authData: authorizedRequestData,\n        id: post.id,\n        reason,\n      })\n      if (response?.score) {\n        setVoteState({\n          vote: response.vote,\n          canVote: response.canVote,\n          voteByDefault: false,\n        })\n      } else if (\n        ((response as unknown) as APIError)?.additional[0] ===\n        'POST_VOTE_DUPLICATE'\n      ) {\n        enqueueSnackbar('Повторное голосование запрещено', {\n          variant: 'error',\n          autoHideDuration: 4000,\n        })\n      } else {\n        enqueueSnackbar('Произошла ошибка', {\n          variant: 'error',\n          autoHideDuration: 4000,\n        })\n        console.error('Error in handleScoreClick:', response)\n      }\n      setIsFetchingScoreResponse(false)\n    } else {\n      enqueueSnackbar('Нужна авторизация', {\n        variant: 'error',\n        autoHideDuration: 4000,\n      })\n    }\n  }\n\n  const handleDownvoteReasonChange = (\n    _event: React.ChangeEvent<HTMLInputElement>,\n    value: string\n  ) => {\n    setCurrentDownvoteReason(value)\n  }\n  const handleConfirmDownvoteButtonClick = () => {\n    if (!voteState.canVote) return\n    handleScoreClick('down', currentDownvoteReason)\n  }\n  const handleScoreButtonDownClick = () => {\n    if (voteState.canVote) {\n      setDownvoteReasonsDrawerOpen(true)\n      setScoreCardDrawerOpen(false)\n    }\n  }\n  const handleScoreButtonUpClick = () => {\n    voteState.canVote && handleScoreClick('up')\n  }\n\n  return (\n    <>\n      {/** Desktop Statistics */}\n      <div className={classesDesktop.root}>\n        <div className={classesDesktop.card}>\n          <div className={classesDesktop.section}>\n            <IconButton\n              className={\n                classesDesktop[\n                  isScoreDownButtonDisabled ? 'scoreUpActive' : 'grayIcon'\n                ]\n              }\n              onClick={handleScoreButtonUpClick}\n              disabled={shouldDisableScoreButtons || isScoreUpButtonDisabled}\n            >\n              <Icon16Up width={24} height={24} />\n            </IconButton>\n            <GreenRedNumber\n              number={post.statistics.score}\n              wrapperProps={{ className: classesDesktop.scoreWrapper }}\n            >\n              <Tooltip\n                placement=\"top\"\n                title={`Всего голосов ${totalScore}: ↑${positive} и ↓${negative}`}\n                arrow\n              >\n                <Typography className={classesDesktop.score}>\n                  {score > 0 ? '+' : ''}\n                  {score}\n                </Typography>\n              </Tooltip>\n            </GreenRedNumber>\n            <IconButton\n              className={\n                classesDesktop[\n                  isScoreUpButtonDisabled ? 'scoreDownActive' : 'grayIcon'\n                ]\n              }\n              onClick={handleScoreButtonDownClick}\n              disabled={shouldDisableScoreButtons || isScoreDownButtonDisabled}\n            >\n              <Icon16Down width={24} height={24} />\n            </IconButton>\n          </div>\n          <div className={classesDesktop.section}>\n            <IconButton\n              className={classesDesktop.grayIcon}\n              onClick={handleFavoriteClick}\n              color={isBookmarked ? 'primary' : 'default'}\n            >\n              {isFetchingBookmarkResponse && (\n                <CircularProgress\n                  className={classesDesktop.spinner}\n                  thickness={4}\n                />\n              )}\n              {!isFetchingBookmarkResponse && (\n                <BookmarkIcon color={isBookmarked ? 'primary' : 'inherit'} />\n              )}\n            </IconButton>\n            <Typography className={classesDesktop.score}>\n              {favorites}\n            </Typography>\n          </div>\n          <div className={classesDesktop.section} style={{ marginLeft: 8 }}>\n            <VisibilityIcon className={classesDesktop.grayIcon} />\n            <Typography className={classesDesktop.score}>{reads}</Typography>\n          </div>\n          <div className={classesDesktop.section} style={{ marginLeft: 16 }}>\n            <Button\n              className={classesDesktop.shareButton}\n              variant=\"text\"\n              onClick={share}\n              startIcon={<ShareIcon height={20} width={20} />}\n            >\n              Поделиться\n            </Button>\n          </div>\n        </div>\n        <Link\n          to={postLink + '/comments'}\n          className={classesDesktop.commentsCardLink}\n        >\n          <ButtonBase className={classesDesktop.commentsCard}>\n            Комментарии\n            <span className={classesDesktop.commentsAmount}>{comments}</span>\n            <Icon24ChevronCompactRight\n              className={classesDesktop.commentsChevronRightIcon}\n            />\n          </ButtonBase>\n        </Link>\n      </div>\n\n      {/** Mobile Statistics */}\n      <div className={classes.root}>\n        <Typography className={classes.title}>Статистика</Typography>\n        <Grid container direction=\"row\" spacing={2}>\n          <ViewsCard post={post} />\n          <ScoreCard\n            post={post}\n            onClick={handleScoreClick}\n            isFetchingScoreResponse={isFetchingScoreResponse}\n            voteState={voteState}\n            setDownvoteReasonsDrawerOpen={setDownvoteReasonsDrawerOpen}\n            isScoreCardDrawerOpen={isScoreCardDrawerOpen}\n            setScoreCardDrawerOpen={setScoreCardDrawerOpen}\n          />\n          <FavoritesCard\n            post={post}\n            onClick={handleFavoriteClick}\n            isFetchingBookmarkResponse={isFetchingBookmarkResponse}\n            isBookmarked={isBookmarked}\n          />\n          <CommentsCard post={post} />\n        </Grid>\n        <Button\n          className={classes.shareButton}\n          variant=\"text\"\n          onClick={share}\n          startIcon={<ShareIcon height={20} width={20} />}\n        >\n          Поделиться\n        </Button>\n      </div>\n\n      <BottomDrawer\n        isOpen={isDownvoteReasonsDrawerOpen}\n        setOpen={setDownvoteReasonsDrawerOpen}\n        headerText={'Причина минуса'}\n      >\n        <Typography gutterBottom>\n          Укажите причину минуса, чтобы автор поработал над ошибками\n        </Typography>\n        {downvoteReasonsFetchState === FetchingState.Fetched && (\n          <RadioGroup\n            aria-label=\"downvote-reasons\"\n            name=\"downvote-reasons\"\n            value={currentDownvoteReason}\n            onChange={handleDownvoteReasonChange}\n          >\n            {downvoteReasons.map((e) => (\n              <FormControlLabel\n                value={e.id}\n                key={e.id}\n                control={\n                  <Radio disabled={shouldDisableScoreButtons} color=\"primary\" />\n                }\n                label={e.title}\n              />\n            ))}\n          </RadioGroup>\n        )}\n        <Button\n          color=\"primary\"\n          disableElevation\n          className={classes.confirmDownvoteButton}\n          fullWidth\n          disabled={shouldDisableScoreButtons}\n          variant=\"contained\"\n          onClick={handleConfirmDownvoteButtonClick}\n        >\n          Отправить анонимно\n        </Button>\n      </BottomDrawer>\n    </>\n  )\n}\n\nexport default React.memo(Statistics)\n","import * as React from 'react'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(1),\n    background: 'transparent',\n    borderRadius: 0,\n  },\n  skeleton: {\n    backgroundColor: theme.palette.action.hover,\n    borderRadius: 4,\n  },\n  padding: {\n    padding: theme.spacing(2),\n  },\n  holder: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n}))\n\nconst DensePostsSkeleton = ({ n = 3 }: { n?: number }) => {\n  const classes = useStyles()\n\n  return (\n    <>\n      {new Array(n).fill(null).map((_, i) => (\n        <Paper key={i} elevation={0} className={classes.root}>\n          <Grid container>\n            <Skeleton\n              variant=\"text\"\n              width={128}\n              className={classes.skeleton}\n              height={20}\n            />\n            <Grid container>\n              <Grid item xs={12}>\n                <Skeleton\n                  variant=\"rect\"\n                  width=\"90%\"\n                  className={classes.skeleton}\n                  height={14}\n                  style={{ marginTop: 8 }}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Skeleton\n                  variant=\"rect\"\n                  width=\"55%\"\n                  className={classes.skeleton}\n                  height={14}\n                  style={{ marginTop: 12 }}\n                />\n              </Grid>\n              <Grid container style={{ width: '100%' }} direction=\"row\">\n                {Array(4)\n                  .fill(null)\n                  .map((_, i) => (\n                    <Grid\n                      justify=\"center\"\n                      style={{ width: '25%' }}\n                      container\n                      key={i}\n                    >\n                      <Skeleton\n                        variant=\"rect\"\n                        width={64}\n                        style={{ marginTop: 16 }}\n                        className={classes.skeleton}\n                        height={18}\n                      />\n                    </Grid>\n                  ))}\n              </Grid>\n            </Grid>\n          </Grid>\n        </Paper>\n      ))}\n    </>\n  )\n}\n\nexport default React.memo(DensePostsSkeleton)\n","import React from 'react'\nimport { Link, LinkProps, useLocation } from 'react-router-dom'\nimport { useRoute } from 'src/hooks'\n\nconst LinkToOutsidePage = (\n  {\n    to,\n    children,\n    ...props\n  }: { to: string } & LinkProps & React.RefAttributes<HTMLAnchorElement>,\n  ref\n) => {\n  const location = useLocation()\n  const route = useRoute()\n\n  return (\n    <Link\n      to={() => ({\n        pathname: to,\n        state: {\n          from: location.pathname + location.search,\n          scroll: window.pageYOffset,\n        },\n      })}\n      ref={ref}\n      {...props}\n    >\n      {children}\n    </Link>\n  )\n}\n\nexport default React.memo(React.forwardRef(LinkToOutsidePage))\n","import React from 'react'\nimport { Grid, Paper, Typography } from '@material-ui/core'\nimport { fade, makeStyles, lighten, darken } from '@material-ui/core/styles'\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\nimport dayjs from 'dayjs'\nimport parse from 'html-react-parser'\nimport { useHistory, useLocation } from 'react-router'\nimport OutsidePageLocationState from 'src/interfaces/OutsidePageLocationState'\nimport formatNumber from 'src/utils/formatNumber'\nimport getPostLink from 'src/utils/getPostLink'\nimport { Post } from 'src/interfaces'\nimport ThumbsUpDownIcon from '@material-ui/icons/ThumbsUpDown'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport BookmarkIcon from '@material-ui/icons/Bookmark'\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble'\n\nconst ld = { lighten, darken }\nconst useStyles = makeStyles((theme) => ({\n  noDeco: {\n    textDecoration: 'none !important',\n  },\n  postLink: {\n    color: theme.palette.text.primary,\n    '&:visited > p': {\n      color: ld[theme.palette.type + 'en'](theme.palette.text.primary, 0.4),\n    },\n    fontWeight: 800,\n    fontFamily: '\"Google Sans\"',\n    fontSize: 16,\n    marginTop: (hasImage) => (hasImage ? 0 : theme.spacing(1)),\n    '& .searched-item': {\n      color: theme.palette.primary.light, // Highlight the search query in post's title\n    },\n  },\n  paper: {\n    background: 'transparent',\n    borderRadius: 0,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  postTs: {\n    color: theme.palette.text.hint,\n    flexGrow: 1,\n    marginBottom: theme.spacing(0.75),\n  },\n  postBottomRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  postBottomRowItem: {\n    color: theme.palette.text.hint,\n    textDecoration: 'none',\n    paddingTop: theme.spacing(1.5),\n    paddingBottom: theme.spacing(1.5),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: 600,\n    '-webkit-tap-highlight-color': fade(theme.palette.background.paper, 0.3),\n  },\n  postBottomRowItemIcon: {\n    fontSize: 16,\n    marginRight: theme.spacing(1),\n  },\n  postBottomRowItemText: {\n    fontSize: 13,\n    fontWeight: 600,\n  },\n}))\n\ninterface BottomRowItemType {\n  icon: typeof ThumbsUpDownIcon\n  text: string | number\n  coloredText?: boolean\n  number?: number\n  isActive?: boolean\n  action?: () => void\n}\n\nconst DensePostItem = ({\n  post,\n  className,\n}: {\n  post?: Post\n  className?: string\n}) => {\n  const classes = useStyles()\n  const [isBookmarked, setBookmarkState] = React.useState<boolean>()\n  const { titleHtml: unparsedTitle, statistics } = post || {}\n  const history = useHistory<OutsidePageLocationState>()\n  const location = useLocation()\n  const currentLocation = location.pathname\n  const ts = dayjs(post.timePublished).calendar().toLowerCase()\n  const {\n    readingCount,\n    favoritesCount,\n    commentsCount,\n    score: unformattedScore,\n  } = statistics\n  const score = formatNumber(unformattedScore)\n  const title = parse(unparsedTitle)\n  const reads = formatNumber(readingCount)\n  const favorites = formatNumber(favoritesCount + (isBookmarked ? 1 : 0))\n  const comments = formatNumber(Number(commentsCount))\n  const postLink = getPostLink(post)\n  const bottomRow: BottomRowItemType[] = [\n    {\n      icon: ThumbsUpDownIcon,\n      text: score,\n      coloredText: true,\n      number: unformattedScore,\n    },\n    {\n      icon: VisibilityIcon,\n      text: reads,\n    },\n    {\n      icon: BookmarkIcon,\n      text: favorites,\n      isActive: isBookmarked,\n      action: () => {\n        setBookmarkState((prev) => !prev)\n      },\n    },\n    {\n      icon: ChatBubbleIcon,\n      text: comments,\n      action: () => {\n        history.push(postLink + '/comments', {\n          from: currentLocation,\n          scroll: window.pageYOffset,\n        })\n      },\n    },\n  ]\n\n  const BottomRowItem = ({ item }: { item: BottomRowItemType }) => {\n    const itemIcon = (\n      <item.icon\n        className={classes.postBottomRowItemIcon}\n        color={item.isActive ? 'primary' : 'inherit'}\n      />\n    )\n    return (\n      <Grid\n        xs={3}\n        item\n        onClick={item.action}\n        color={item.isActive ? 'primary' : 'default'}\n        style={{\n          cursor: item.action ? 'pointer' : 'inherit',\n        }}\n        className={classes.postBottomRowItem}\n      >\n        {item.coloredText ? (\n          <GreenRedNumber\n            number={item.number}\n            wrapperProps={{ style: { display: 'flex', alignItems: 'center' } }}\n          >\n            <>\n              {itemIcon}\n              <Typography className={classes.postBottomRowItemText}>\n                {item.number > 0 ? '+' : ''}\n                {item.text}\n              </Typography>\n            </>\n          </GreenRedNumber>\n        ) : (\n          <>\n            {itemIcon}\n            <Typography className={classes.postBottomRowItemText}>\n              {item.text}\n            </Typography>\n          </>\n        )}\n      </Grid>\n    )\n  }\n\n  return (\n    <Paper elevation={0} className={classes.paper + ' ' + className}>\n      <Typography className={classes.postTs} variant=\"caption\">\n        {ts}\n      </Typography>\n\n      <LinkToOutsidePage\n        className={classes.postLink + ' ' + classes.noDeco}\n        to={postLink}\n      >\n        {title}\n      </LinkToOutsidePage>\n\n      <div className={classes.postBottomRow}>\n        {bottomRow.map((e, i) => (\n          <BottomRowItem item={e} key={i} />\n        ))}\n      </div>\n    </Paper>\n  )\n}\n\nexport default React.memo(DensePostItem)\n","import React, { useState, useEffect } from 'react'\r\nimport { Typography, Paper } from '@material-ui/core'\r\nimport { makeStyles, fade } from '@material-ui/core/styles'\r\nimport { Posts } from 'src/interfaces'\r\nimport DensePostsSkeleton from 'src/components/skeletons/DensePosts'\r\nimport getSimilar from 'src/api/getSimilar'\r\nimport DensePostItem from './DensePostItem'\r\nimport { MIN_WIDTH } from 'src/config/constants'\r\n\r\ninterface Props {\r\n  id: number | string\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(1.5),\r\n    padding: theme.spacing(0, 2),\r\n    borderRadius: 0,\r\n    backgroundColor: theme.palette.background.paper,\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      marginTop: theme.spacing(2),\r\n      borderRadius: 8,\r\n      paddingBottom: theme.spacing(1),\r\n    },\r\n  },\r\n  header: {\r\n    fontFamily: 'Google Sans',\r\n    textTransform: 'uppercase',\r\n    fontWeight: 500,\r\n    fontSize: 13,\r\n    letterSpacing: '1px',\r\n    color: theme.palette.text.hint,\r\n    lineHeight: 'normal',\r\n    borderBottom: '1px solid ' + theme.palette.divider,\r\n    padding: theme.spacing(2, 0, 1.8, 0),\r\n  },\r\n  error: {\r\n    color: theme.palette.error.light,\r\n    fontWeight: 800,\r\n  },\r\n  postItem: {\r\n    paddingTop: theme.spacing(1.5),\r\n    marginTop: theme.spacing(0.5),\r\n    '&:not(:first-child)': {\r\n      borderTop: '1px solid ' + fade(theme.palette.divider, 0.05),\r\n    },\r\n    '&:first-child': {\r\n      paddingTop: theme.spacing(1),\r\n    },\r\n  },\r\n}))\r\n\r\nconst SimilarPosts = (props: Props) => {\r\n  const { id } = props\r\n  const classes = useStyles()\r\n  const [data, setData] = useState<Posts>()\r\n  const [error, setError] = useState<string>()\r\n\r\n  useEffect(() => {\r\n    const get = async () => {\r\n      try {\r\n        setData(await getSimilar(Number(id)))\r\n      } catch (e) {\r\n        console.warn('Could not fetch similar posts:', e.message)\r\n        setError(e.message)\r\n      }\r\n    }\r\n    get()\r\n  }, [id])\r\n\r\n  return data && data.articleIds.length !== 0 ? (\r\n    <Paper elevation={0} className={classes.root}>\r\n      <Typography className={classes.header}>Похожие статьи</Typography>\r\n      {error && (\r\n        <Typography className={classes.error}>\r\n          Произошла ошибка при запросе\r\n        </Typography>\r\n      )}\r\n      <div>\r\n        {!data && <DensePostsSkeleton n={3} />}\r\n        {data &&\r\n          data.articleIds.map((e, i) => (\r\n            <DensePostItem\r\n              className={classes.postItem}\r\n              post={data.articleRefs[e]}\r\n              key={i}\r\n            />\r\n          ))}\r\n      </div>\r\n    </Paper>\r\n  ) : null\r\n}\r\n\r\nexport default React.memo(SimilarPosts)\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Typography, Paper } from '@material-ui/core'\r\nimport { makeStyles, fade } from '@material-ui/core/styles'\r\nimport { Posts } from 'src/interfaces'\r\nimport DensePostsSkeleton from 'src/components/skeletons/DensePosts'\r\nimport { getPosts } from 'src/api'\r\nimport DensePostItem from './DensePostItem'\r\nimport { MIN_WIDTH } from 'src/config/constants'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(1.5),\r\n    padding: theme.spacing(0, 2),\r\n    borderRadius: 0,\r\n    backgroundColor: theme.palette.background.paper,\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      borderRadius: 8,\r\n      marginTop: theme.spacing(2),\r\n      paddingBottom: theme.spacing(1),\r\n    },\r\n  },\r\n  header: {\r\n    fontFamily: 'Google Sans',\r\n    textTransform: 'uppercase',\r\n    fontWeight: 500,\r\n    fontSize: 13,\r\n    letterSpacing: '1px',\r\n    color: theme.palette.text.hint,\r\n    lineHeight: 'normal',\r\n    borderBottom: '1px solid ' + theme.palette.divider,\r\n    padding: theme.spacing(2, 0, 1.8, 0),\r\n  },\r\n  error: {\r\n    color: theme.palette.error.light,\r\n    fontWeight: 800,\r\n  },\r\n  postItem: {\r\n    paddingTop: theme.spacing(1.5),\r\n    marginTop: theme.spacing(0.5),\r\n    '&:not(:first-child)': {\r\n      borderTop: '1px solid ' + fade(theme.palette.divider, 0.05),\r\n    },\r\n    '&:first-child': {\r\n      paddingTop: theme.spacing(1),\r\n    },\r\n  },\r\n}))\r\n\r\nconst TopDayPosts = () => {\r\n  const classes = useStyles()\r\n  const [data, setData] = useState<Posts>()\r\n  const [error, setError] = useState<string>()\r\n\r\n  useEffect(() => {\r\n    const get = async () => {\r\n      try {\r\n        setData(await getPosts({ mode: 'daily', page: 1 }))\r\n      } catch (e) {\r\n        console.warn('Could not fetch top day posts:', e.message)\r\n        setError(e.message)\r\n      }\r\n    }\r\n    get()\r\n  }, [])\r\n\r\n  return (\r\n    <Paper elevation={0} className={classes.root}>\r\n      <Typography className={classes.header}>Лучшее за день</Typography>\r\n      {error && (\r\n        <Typography className={classes.error}>\r\n          Произошла ошибка при запросе\r\n        </Typography>\r\n      )}\r\n      <div>\r\n        {!data && <DensePostsSkeleton n={5} />}\r\n        {data &&\r\n          data.articleIds\r\n            .slice(0, 5)\r\n            .map((id, i) => (\r\n              <DensePostItem\r\n                className={classes.postItem}\r\n                post={data.articleRefs[id]}\r\n                key={i}\r\n              />\r\n            ))}\r\n      </div>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default React.memo(TopDayPosts)\r\n","import { useTheme, useMediaQuery } from '@material-ui/core'\nimport { MIN_WIDTH } from 'src/config/constants'\n\nconst useMediaExtendedQuery = () => {\n  const theme = useTheme()\n  const query = useMediaQuery(theme.breakpoints.up(MIN_WIDTH), {\n    noSsr: true,\n  })\n  return query\n}\n\nexport default useMediaExtendedQuery\n","import { darken, Theme } from '@material-ui/core'\nimport isDarkTheme from './isDarkTheme'\n\nexport default (theme: Theme) =>\n  darken(theme.palette.background.paper, isDarkTheme(theme) ? 0.175 : 0.01)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  AppBar,\n  ButtonBase,\n  darken,\n  Fade,\n  IconButton,\n  lighten,\n  Toolbar,\n  Typography,\n} from '@material-ui/core'\nimport BackRoundedIcon from '@material-ui/icons/ArrowBackRounded'\nimport { useHistory } from 'react-router'\nimport {\n  APP_BAR_HEIGHT,\n  DRAWER_WIDTH,\n  MAX_WIDTH,\n  MIDDLE_WIDTH,\n  MIN_WIDTH,\n} from 'src/config/constants'\nimport isMobile from 'is-mobile'\nimport { chromeAddressBarHeight } from 'src/config/constants'\nimport { useScrollTrigger } from 'src/hooks'\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\nimport getInvertedContrastPaperColor from 'src/utils/getInvertedContrastPaperColor'\nimport useMediaExtendedQuery from 'src/hooks/useMediaExtendedQuery'\nimport getCachedMode from 'src/utils/getCachedMode'\nimport getSecondaryAppBarColor from 'src/utils/getSecondaryAppBarColor'\nimport { History } from 'history'\nimport isDarkTheme from 'src/utils/isDarkTheme'\n\ninterface StyleProps {\n  isShrinked?: boolean\n  scrollProgress?: number\n  backgroundColor?: string\n  shrinkedBackgroundColor?: string\n  disableShrinking?: boolean\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: theme.palette.background.default,\n    minHeight: '100%',\n    width: '100%',\n  },\n  children: {\n    maxWidth: MAX_WIDTH,\n    display: 'flex',\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    alignItems: 'flex-start',\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      marginTop: APP_BAR_HEIGHT,\n    },\n  },\n}))\n\nconst useAppBarStyles = makeStyles((theme) => ({\n  toolbarIcons: {\n    marginRight: theme.spacing(2),\n    display: 'flex',\n  },\n  header: {\n    backgroundColor: ({\n      isShrinked,\n      backgroundColor,\n      shrinkedBackgroundColor,\n    }: StyleProps) =>\n      isShrinked\n        ? shrinkedBackgroundColor || getInvertedContrastPaperColor(theme)\n        : backgroundColor || getContrastPaperColor(theme),\n    color: theme.palette.text.primary,\n    position: 'fixed',\n    willChange: 'transform',\n    flexGrow: 1,\n    transform: ({ isShrinked }: StyleProps) =>\n      `translateZ(0) translateY(${isShrinked ? -16 : 0}px)`,\n    transition: ({ disableShrinking }: StyleProps) =>\n      disableShrinking ? 'none' : 'all .3s cubic-bezier(0.4, 0, 0.2, 1)',\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      paddingLeft: DRAWER_WIDTH,\n      backgroundColor: getSecondaryAppBarColor(theme) + ' !important',\n    },\n    [theme.breakpoints.between(MIN_WIDTH, MIDDLE_WIDTH)]: {\n      backgroundColor: theme.palette.background.paper + ' !important',\n    },\n  },\n  toolbar: {\n    minHeight: 'unset',\n    padding: 0,\n    maxWidth: '100%',\n    width: '100%',\n    '&::before': {\n      position: 'absolute',\n      width: ({ scrollProgress }: StyleProps) => scrollProgress * 100 + '%',\n      background:\n        theme.palette.type === 'dark'\n          ? 'rgba(255, 255, 255, .1)'\n          : 'rgba(0, 0, 0, .1)',\n      height: '100%',\n      content: '\"\"',\n      transform: 'translateZ(0)',\n    },\n  },\n  headerTitle: {\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    color: theme.palette.text.primary,\n    fontSize: 20,\n    letterHeight: '1.6',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    zIndex: 1000,\n    textOverflow: 'ellipsis',\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      marginLeft: theme.spacing(2),\n    },\n  },\n  headerIcon: {\n    marginLeft: 4,\n    color: theme.palette.text.primary,\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      display: 'none',\n    },\n  },\n  marginContainer: {\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n  },\n  content: {\n    display: 'flex',\n    flexDirection: 'row',\n    width: '100%',\n    alignItems: 'center',\n    transform: 'translateZ(0)',\n    height: APP_BAR_HEIGHT,\n    flexGrow: 1,\n  },\n  shrinkedHeaderTitle: {\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    color: theme.palette.text.secondary,\n    fontSize: 16,\n    transform: 'translateX(16px) translateY(8px)',\n    letterHeight: '1.6',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    zIndex: 1000,\n    maxWidth: 'calc(100% - 32px)',\n    position: 'absolute',\n    textOverflow: 'ellipsis',\n  },\n  backButtonDesktop: {\n    width: DRAWER_WIDTH,\n    height: APP_BAR_HEIGHT,\n    display: 'none',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    zIndex: theme.zIndex.drawer + 1,\n    background: theme.palette.background.paper,\n    cursor: 'pointer',\n    '&:hover': {\n      background: isDarkTheme(theme)\n        ? lighten(theme.palette.background.paper, 0.05)\n        : darken(theme.palette.background.paper, 0.05),\n    },\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      display: 'flex',\n    },\n  },\n  backButtonDesktopWrapper: {\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    display: 'flex',\n    flexDirection: 'row',\n    padding: theme.spacing(0, 2),\n    width: '100%',\n  },\n  backButtonDesktopText: {\n    marginLeft: theme.spacing(2),\n    fontFamily: 'Google Sans',\n    fontSize: 20,\n    fontWeight: 500,\n  },\n}))\n\ninterface Props {\n  children: unknown\n  headerText: unknown\n  hidePositionBar: boolean\n  shrinkedHeaderText: unknown\n  shrinkedBackgroundColor: string\n  disableShrinking: boolean\n  backgroundColor: string\n  toolbarIcons: JSX.Element\n  onBackClick: (\n    backLinkFunction: (history: History<unknown>) => void\n  ) => unknown\n  scrollElement?: HTMLElement\n}\n\nconst ShrinkedContentUnmemoized = ({ isShrinked, shrinkedHeaderText }) => {\n  const classes = useAppBarStyles({})\n  return (\n    <Fade in={isShrinked} unmountOnExit mountOnEnter>\n      <Typography className={classes.shrinkedHeaderTitle}>\n        {shrinkedHeaderText}\n      </Typography>\n    </Fade>\n  )\n}\nconst ShrinkedContent = React.memo(ShrinkedContentUnmemoized)\n\nconst backLinkFunction = (history: History<unknown>) => {\n  const goHome = () => history.push(getCachedMode().to + '/p/1')\n  if (history.length > 1) {\n    history.goBack()\n  } else goHome()\n}\n\nconst UnshrinkedContentUnmemoized = ({\n  headerText,\n  onBackClick,\n  isShrinked,\n  headerTextUpdated,\n}) => {\n  const classes = useAppBarStyles({})\n  const history = useHistory()\n  const text = (\n    <Typography className={classes.headerTitle}>{headerText}</Typography>\n  )\n\n  const onClick = () => {\n    if (onBackClick) onBackClick(backLinkFunction)\n    else backLinkFunction(history)\n  }\n\n  return (\n    <Fade in={!isShrinked} appear={false}>\n      <div className={classes.content} style={{ overflow: 'hidden' }}>\n        <IconButton\n          disableRipple={isShrinked}\n          className={classes.headerIcon}\n          onClick={() => (isShrinked ? {} : onClick())}\n        >\n          <BackRoundedIcon />\n        </IconButton>\n        {headerText && headerTextUpdated ? <Fade in>{text}</Fade> : text}\n      </div>\n    </Fade>\n  )\n}\nconst UnshrinkedContent = React.memo(UnshrinkedContentUnmemoized)\n\nconst ToolbarIconsWrapperUnmemoized = ({ isShrinked, children }) => {\n  const classes = useAppBarStyles({})\n  return (\n    <Fade in={!isShrinked}>\n      <div className={classes.toolbarIcons}>{children}</div>\n    </Fade>\n  )\n}\nconst ToolbarIconsWrapper = React.memo(ToolbarIconsWrapperUnmemoized)\n\nconst NavBarUnmemoized = ({\n  headerText,\n  shrinkedHeaderText,\n  hidePositionBar = false,\n  shrinkedBackgroundColor,\n  backgroundColor,\n  onBackClick,\n  disableShrinking,\n  toolbarIcons,\n  scrollElement,\n}: Partial<Props>) => {\n  const isShrinkedTrigger = useScrollTrigger({\n    threshold: 48,\n    triggerValue: false,\n  })\n  const [headerTextUpdated, setHeaderTextUpdated] = useState(false)\n  const [scrollProgress, setScrollProgress] = useState(0)\n  const isExtended = useMediaExtendedQuery()\n  const history = useHistory()\n  const isShrinked = disableShrinking || isExtended ? false : isShrinkedTrigger\n  const classes = useAppBarStyles({\n    isShrinked,\n    scrollProgress,\n    backgroundColor,\n    shrinkedBackgroundColor,\n    disableShrinking,\n  })\n  const scrollCallback = useCallback(\n    () =>\n      requestAnimationFrame(() => {\n        const getElementScroll = (el: HTMLElement) => {\n          const docElement = document.documentElement\n          const docBody = document.body\n          const element = el || docElement || docBody\n          return (\n            (docElement.scrollTop || docBody.scrollTop) /\n            (element.offsetHeight - docElement.clientHeight)\n          )\n        }\n        const newScrollProgress = getElementScroll(scrollElement)\n        setScrollProgress(newScrollProgress)\n      }),\n    [scrollElement]\n  )\n\n  useEffect(() => {\n    if (!hidePositionBar && !disableShrinking) {\n      // passive: true enhances scrolling experience\n      window.addEventListener('scroll', scrollCallback, { passive: true })\n      return () => window.removeEventListener('scroll', scrollCallback)\n    } else return () => null\n  }, [hidePositionBar, disableShrinking, scrollElement])\n\n  // Remove fade effect on a title if it was set by default\n  // If the title is being fetched (ex. Post),\n  // we need to change the state and render Fade component\n  useEffect(() => {\n    !headerTextUpdated && setHeaderTextUpdated(!headerText)\n  }, [headerText])\n\n  const onBackButtonClick = () => {\n    if (onBackClick) onBackClick(backLinkFunction)\n    else backLinkFunction(history)\n  }\n\n  return (\n    <>\n      <div\n        onClick={() => onBackButtonClick()}\n        className={classes.backButtonDesktop}\n      >\n        <div className={classes.backButtonDesktopWrapper}>\n          <BackRoundedIcon />\n          <Typography className={classes.backButtonDesktopText}>\n            Назад\n          </Typography>\n        </div>\n      </div>\n      <AppBar className={classes.header} elevation={0}>\n        <Toolbar className={classes.toolbar}>\n          <div className={classes.marginContainer}>\n            <div className={classes.content}>\n              <UnshrinkedContent\n                isShrinked={isShrinked}\n                headerText={headerText}\n                onBackClick={onBackClick}\n                headerTextUpdated={headerTextUpdated}\n              />\n              <ShrinkedContent\n                isShrinked={isShrinked}\n                shrinkedHeaderText={shrinkedHeaderText || headerText}\n              />\n              <ToolbarIconsWrapper isShrinked={isShrinked}>\n                {toolbarIcons}\n              </ToolbarIconsWrapper>\n            </div>\n          </div>\n        </Toolbar>\n      </AppBar>\n    </>\n  )\n}\nconst NavBar = React.memo(NavBarUnmemoized)\n\nconst OutsidePage: React.FC<Partial<Props>> = ({ children, ...props }) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <NavBar {...props} />\n      <div className={classes.children}>{children}</div>\n    </div>\n  )\n}\n\nexport default React.memo(OutsidePage)\n","/**\n * Safely parses JSON string\n * @param s JSON string\n * @param fallbackData Fallback data to return on parsing error\n */\nexport default <T = Record<string, unknown>, U = Record<string, unknown>>(\n  s: string,\n  fallbackData?: U\n): T | U => {\n  try {\n    return JSON.parse(s)\n  } catch (e) {\n    if (fallbackData) return fallbackData\n    else throw e\n  }\n}\n","import { Post } from 'src/interfaces'\nimport { SchemaJsonLd } from 'src/interfaces/Post'\nimport getPostLink from './getPostLink'\nimport getPostSocialImage from './getPostSocialImage'\nimport safeJSONParse from './safeJSONParse'\n\nexport default (post: Post) => {\n  if (!post) return ''\n\n  const { schemaJsonLd } = post.metadata\n  const schema = safeJSONParse<SchemaJsonLd, Partial<SchemaJsonLd>>(\n    schemaJsonLd,\n    {}\n  )\n  schema.mainEntityOfPage['@id'] = process.env.PUBLIC_URL + getPostLink(post)\n  schema.url = process.env.PUBLIC_URL + getPostLink(post)\n  schema.image = schema.image.filter(\n    (e) => !e.startsWith('https://habr.com/share/publication')\n  )\n  schema.image.unshift(getPostSocialImage(post))\n\n  return JSON.stringify(schema)\n}\n","import { API_TOKEN_URL } from 'src/config/constants'\nimport { Post } from 'src/interfaces'\n\nexport default (post: Post) => {\n  if (!post) return ''\n\n  const { titleHtml } = post\n  return encodeURI(\n    API_TOKEN_URL + 'social?t=' + titleHtml + '&s=' + post.hubs[0].title\n  )\n}\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { MIN_WIDTH } from 'src/config/constants'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flex: 1,\n    marginRight: theme.spacing(2),\n    maxWidth: `calc(100% - 300px - ${theme.spacing(2)}px)`,\n    flexDirection: 'column',\n    width: '100%',\n    [theme.breakpoints.down(MIN_WIDTH)]: {\n      maxWidth: '100%',\n      marginRight: 0,\n    },\n  },\n}))\n\nconst MainBlock = ({ children }) => {\n  const classes = useStyles()\n\n  return <div className={classes.root}>{children}</div>\n}\n\nexport default MainBlock\n","import React from 'react'\nimport { makeStyles, fade } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    background: theme.palette.background.paper,\n    borderRadius: 8,\n    marginTop: theme.spacing(1.5),\n    '&:first-child': {\n      marginTop: 0,\n    },\n  },\n  titleContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  title: {\n    fontFamily: 'Google Sans',\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    fontSize: 13,\n    letterSpacing: '1px',\n    color: theme.palette.text.hint,\n    lineHeight: 'normal',\n    padding: theme.spacing(1.8, 2),\n  },\n  children: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(0, 2),\n    marginBottom: theme.spacing(2),\n  },\n}))\n\ninterface Props {\n  title: string\n  childrenContainerProps?: React.DetailedHTMLProps<\n    React.HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n  >\n}\n\nconst SideBlock: React.FC<Props> = ({\n  children,\n  title,\n  childrenContainerProps,\n}) => {\n  const classes = useStyles()\n\n  return (\n    <section className={classes.root}>\n      <div className={classes.titleContainer}>\n        <Typography className={classes.title}>{title}</Typography>\n      </div>\n      <div\n        {...childrenContainerProps}\n        className={childrenContainerProps?.className || classes.children}\n      >\n        {children}\n      </div>\n    </section>\n  )\n}\n\nexport default SideBlock\n","import React from 'react'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport StickyBox from 'react-sticky-box'\nimport {\n  APP_BAR_HEIGHT,\n  BOTTOM_BAR_HEIGHT,\n  MIDDLE_WIDTH,\n  MIN_WIDTH,\n} from 'src/config/constants'\nimport { useMediaQuery } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    width: 300,\n    flexDirection: 'column',\n  },\n}))\n\nconst Sidebar: React.FC = ({ children }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  // future: https://material-ui.com/components/use-media-query/#server-side-rendering\n  // when ssr is implemented, change `noSsr` to false.\n  const shouldShowSidebar = useMediaQuery(theme.breakpoints.up(MIN_WIDTH), {\n    noSsr: true,\n  })\n  const disableBottomOffset = useMediaQuery(\n    theme.breakpoints.up(MIDDLE_WIDTH),\n    {\n      noSsr: true,\n    }\n  )\n\n  return shouldShowSidebar ? (\n    <StickyBox\n      className={classes.root}\n      offsetTop={theme.spacing(1.5) + APP_BAR_HEIGHT}\n      offsetBottom={\n        theme.spacing(2) + (disableBottomOffset ? 0 : BOTTOM_BAR_HEIGHT)\n      }\n    >\n      {children}\n    </StickyBox>\n  ) : null\n}\n\nexport default Sidebar\n","import { DEFAULT_UPDATE_INTERVAL } from 'src/config/constants'\r\n\r\nexport const parse = (data: string) => {\r\n  if (!data) return false\r\n\r\n  try {\r\n    return JSON.parse(data)\r\n  } catch (e) {\r\n    console.error('Cannot parse object:', e, '\\nGot:', data)\r\n    return false\r\n  }\r\n}\r\n\r\nexport const shouldUpdate = (storeData) => {\r\n  const now = Date.now()\r\n  const shouldUpdateByTS = (d: number) => now - d >= DEFAULT_UPDATE_INTERVAL\r\n\r\n  if (storeData) {\r\n    return shouldUpdateByTS(storeData.lastUpdated)\r\n  } else return true\r\n}\r\n","export const HOME_PREFIX = 'HOME_'\r\nexport const SET_HOME_POST_ITEM_SIZE = HOME_PREFIX + 'SET_POST_ITEM_SIZE'\r\nexport const ADVERTS_PREFIX = HOME_PREFIX + 'ADVERTS_'\r\nexport const SIDEBAR_TOP_COMPANIES = HOME_PREFIX + 'SIDEBAR_TOP_COMPANIES_'\r\nexport const SIDEBAR_MOST_READING = HOME_PREFIX + 'SIDEBAR_MOST_READING_'\r\n","import * as api from 'src/api'\r\nimport { Mode } from 'src/config/constants'\r\nimport FlowAlias from 'src/interfaces/FlowAlias'\r\nimport { shouldUpdate } from 'src/utils/cache'\r\nimport { RootState } from '..'\r\nimport {\r\n  HOME_PREFIX,\r\n  ADVERTS_PREFIX,\r\n  SIDEBAR_MOST_READING,\r\n  SIDEBAR_TOP_COMPANIES,\r\n  SET_HOME_POST_ITEM_SIZE,\r\n} from '../reducers/home/types'\r\n\r\ninterface GetPostsParams {\r\n  mode: Mode\r\n  page: number\r\n  flow: FlowAlias\r\n  forceUpdate?: boolean\r\n}\r\n\r\nexport const getPosts = ({\r\n  mode,\r\n  page,\r\n  flow,\r\n  forceUpdate = false,\r\n}: GetPostsParams) => async (dispatch, getState: () => RootState) => {\r\n  const type = HOME_PREFIX + 'FETCH'\r\n  // Get data from root store to find out if we're going to fetch a data or not\r\n  const storeState = getState()\r\n  const storeData =\r\n    flow === 'all'\r\n      ? storeState.home.data[mode].pages[page]\r\n      : storeState.home.flows.data[flow][mode].pages[page]\r\n\r\n  if (!shouldUpdate(storeData) && !forceUpdate) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  dispatch({ type, payload: { mode, flow } })\r\n\r\n  try {\r\n    const data = await api.getPosts({ mode, page, flow })\r\n    const pagesCount = data?.pagesCount\r\n\r\n    dispatch({\r\n      type: type + '_FULFILLED',\r\n      payload: { data: data, mode, page, pagesCount, flow },\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: type + '_REJECTED',\r\n      payload: { error: error.message, mode, page, flow },\r\n    })\r\n  }\r\n}\r\n\r\nexport const getAdverts = () => async (dispatch) => {\r\n  const type = ADVERTS_PREFIX + 'FETCH'\r\n\r\n  dispatch({ type })\r\n\r\n  try {\r\n    const data = await api.getAdverts()\r\n\r\n    dispatch({\r\n      type: type + '_FULFILLED',\r\n      payload: data.adverts,\r\n    })\r\n  } catch (error) {\r\n    dispatch({ type: type + '_REJECTED', payload: { error: error.message } })\r\n  }\r\n}\r\n\r\nexport const getMostReading = () => async (dispatch) => {\r\n  const type = SIDEBAR_MOST_READING + 'FETCH'\r\n\r\n  dispatch({ type })\r\n\r\n  try {\r\n    const data = await api.getMostReadingArticles()\r\n\r\n    dispatch({\r\n      type: type + '_FULFILLED',\r\n      payload: data?.articles,\r\n    })\r\n  } catch (error) {\r\n    dispatch({ type: type + '_REJECTED', payload: { error: error.message } })\r\n  }\r\n}\r\n\r\nexport const getTopCompanies = () => async (dispatch) => {\r\n  const type = SIDEBAR_TOP_COMPANIES + 'FETCH'\r\n\r\n  dispatch({ type })\r\n\r\n  try {\r\n    const data = await api.getCompanies({})\r\n\r\n    dispatch({\r\n      type: type + '_FULFILLED',\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({ type: type + '_REJECTED', payload: { error: error.message } })\r\n  }\r\n}\r\n\r\nexport const setPostItemSize = (id: number | string, size: number) => (\r\n  dispatch,\r\n  getState: () => RootState\r\n) => {\r\n  const sizesMap = getState().home.sizesMap\r\n\r\n  if (!sizesMap[id]) {\r\n    dispatch({ type: SET_HOME_POST_ITEM_SIZE, payload: { id, size } })\r\n  }\r\n}\r\n","import React, { useEffect } from 'react'\nimport SideBlock from 'src/components/blocks/SideBlock'\nimport Sidebar from 'src/components/blocks/Sidebar'\nimport { getMostReading } from 'src/store/actions/home'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'src/hooks'\nimport { FetchingState, Post } from 'src/interfaces'\nimport { makeStyles, lighten, darken, fade } from '@material-ui/core/styles'\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble'\nimport getPostLink from 'src/utils/getPostLink'\nimport parse from 'html-react-parser'\nimport formatNumber from 'src/utils/formatNumber'\nimport purple from '@material-ui/core/colors/purple'\nimport { Skeleton } from '@material-ui/lab'\n\nconst ld = { lighten, darken }\nconst useSkeletonStyles = makeStyles((theme) => ({\n  skeleton: {\n    backgroundColor: theme.palette.action.hover,\n    borderRadius: 8,\n  },\n}))\n\nconst useStyles = makeStyles((theme) => ({\n  companiesChildrenContainerProps: {\n    marginBottom: 12,\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(0, 2),\n  },\n  button: {\n    marginTop: 12,\n    width: '100%',\n  },\n}))\n\nconst usePostItemStyles = makeStyles((theme) => ({\n  root: {\n    background: 'transparent',\n    borderRadius: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    marginTop: theme.spacing(2),\n    paddingTop: theme.spacing(2),\n    borderTop: '1px solid ' + fade(theme.palette.divider, 0.05),\n    '&:first-child': {\n      marginTop: 0,\n      paddingTop: 0,\n      borderTop: 'none',\n    },\n  },\n  bottomRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: '100%',\n  },\n  bottomRowItem: {\n    color: theme.palette.text.hint,\n    textDecoration: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: 600,\n    '-webkit-tap-highlight-color': fade(theme.palette.background.paper, 0.3),\n  },\n  bottomRowItemIcon: {\n    fontSize: 16,\n    marginRight: theme.spacing(1),\n  },\n  bottomRowItemText: {\n    fontSize: 13,\n    fontWeight: 600,\n  },\n  title: {\n    color: theme.palette.text.primary,\n    '&:visited > p': {\n      color: ld[theme.palette.type + 'en'](theme.palette.text.primary, 0.4),\n    },\n    fontWeight: 800,\n    fontFamily: '\"Google Sans\"',\n    fontSize: 15,\n    marginTop: (hasImage) => (hasImage ? 0 : theme.spacing(1)),\n    textDecoration: 'none !important',\n    marginBottom: theme.spacing(1),\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(3),\n  },\n}))\n\nconst useCompanyItemStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    textDecoration: 'none !important',\n    background: 'transparent !important',\n    marginTop: theme.spacing(2),\n    color: theme.palette.text.primary,\n    '&:first-child': {\n      marginTop: 0,\n    },\n  },\n  avatar: {\n    marginRight: theme.spacing(1.5),\n    width: 36,\n    height: 36,\n    borderRadius: 4,\n  },\n  title: {\n    fontSize: 13,\n    fontWeight: 700,\n    lineHeight: '18px',\n  },\n  rating: {\n    marginLeft: 'auto',\n    fontSize: 13,\n    fontWeight: 700,\n    lineHeight: '18px',\n    color: theme.palette.type === 'dark' ? purple[200] : purple.A700,\n  },\n}))\n\nconst PostItem: React.FC<{ data: Post }> = ({ data }) => {\n  const classes = usePostItemStyles()\n  const { titleHtml: unparsedTitle, statistics } = data\n  const postLink = getPostLink(data)\n  const title = parse(unparsedTitle)\n  const { readingCount, commentsCount } = statistics\n  const comments = formatNumber(Number(commentsCount))\n  const reads = formatNumber(readingCount)\n\n  return (\n    <div className={classes.root}>\n      <LinkToOutsidePage className={classes.title} to={postLink}>\n        {title}\n      </LinkToOutsidePage>\n\n      <div className={classes.bottomRow}>\n        <div className={classes.bottomRowItem}>\n          <VisibilityIcon className={classes.bottomRowItemIcon} />\n          <span className={classes.bottomRowItemText}>{reads}</span>\n        </div>\n        <LinkToOutsidePage\n          to={postLink + '/comments'}\n          className={classes.bottomRowItem + ' ' + classes.marginLeft}\n        >\n          <ChatBubbleIcon className={classes.bottomRowItemIcon} />\n          <span className={classes.bottomRowItemText}>{comments}</span>\n        </LinkToOutsidePage>\n      </div>\n    </div>\n  )\n}\n\nconst MostReadingSideBlockSkeleton = () => {\n  const classes = useSkeletonStyles()\n  const postItemClasses = usePostItemStyles()\n  return (\n    <>\n      {[...Array(5)].map((_, i) => (\n        <div key={i} className={postItemClasses.root}>\n          <Skeleton\n            variant=\"rect\"\n            width={'85%'}\n            height={13}\n            className={[classes.skeleton, postItemClasses.title].join(' ')}\n          />\n          <Skeleton\n            variant=\"rect\"\n            width={'70%'}\n            height={13}\n            style={{ marginTop: 4 }}\n            className={[classes.skeleton, postItemClasses.title].join(' ')}\n          />\n          <Skeleton\n            variant=\"rect\"\n            width={'75%'}\n            height={13}\n            style={{ marginTop: 4 }}\n            className={[classes.skeleton, postItemClasses.title].join(' ')}\n          />\n          <div className={postItemClasses.bottomRow} style={{ marginTop: 4 }}>\n            <div className={postItemClasses.bottomRowItem}>\n              <Skeleton\n                width={14}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemIcon,\n                ].join(' ')}\n              />\n              <Skeleton\n                width={44}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemText,\n                ].join(' ')}\n              />\n            </div>\n            <div\n              className={\n                postItemClasses.bottomRowItem + ' ' + postItemClasses.marginLeft\n              }\n            >\n              <Skeleton\n                width={14}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemIcon,\n                ].join(' ')}\n              />\n              <Skeleton\n                width={32}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemText,\n                ].join(' ')}\n              />\n            </div>\n          </div>\n        </div>\n      ))}\n    </>\n  )\n}\n\nconst PostSidebar = () => {\n  const dispatch = useDispatch()\n  const mostReadingState = useSelector(\n    (store) => store.home.sidebar.mostReading.state\n  )\n  const mostReadingFetchError = useSelector(\n    (store) => store.home.sidebar.mostReading.fetchError\n  )\n  const mostReading = useSelector(\n    (store) => store.home.sidebar.mostReading.data\n  )\n\n  useEffect(() => {\n    dispatch(getMostReading())\n\n    if (mostReadingState === FetchingState.Error) {\n      console.error(\n        'Fetch error in PostSidebar (mostReading):',\n        mostReadingFetchError\n      )\n    }\n  }, [])\n\n  return (\n    <Sidebar>\n      {mostReadingState !== FetchingState.Error && (\n        <SideBlock title={'Читают сейчас'}>\n          {mostReadingState !== FetchingState.Fetched && (\n            <MostReadingSideBlockSkeleton />\n          )}\n          {mostReadingState === FetchingState.Fetched &&\n            mostReading.articleIds\n              .slice(0, 5)\n              .map((e) => (\n                <PostItem data={mostReading.articleRefs[e]} key={e} />\n              ))}\n        </SideBlock>\n      )}\n    </Sidebar>\n  )\n}\n\nexport default PostSidebar\n","import makeRequest from 'src/api/makeRequest'\nimport { UserExtended } from 'src/interfaces/User'\n\nexport default async (alias: string) =>\n  await makeRequest<UserExtended>({\n    path: `users/${alias}/card`,\n    version: 2,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { APIResponse } from 'src/interfaces'\nimport { UserWhois } from 'src/interfaces/User'\n\nexport default async (alias: string) =>\n  await makeRequest<UserWhois>({\n    path: `users/${alias}/whois`,\n    version: 2,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { Posts } from 'src/interfaces'\n\nexport default async (login: string, page: number) =>\n  await makeRequest<Posts>({\n    path: 'articles',\n    params: {\n      user: login,\n      page: page.toString(),\n    },\n    version: 2,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { UserChildren } from 'src/interfaces/User'\n\nexport default async (login: string) =>\n  await makeRequest<UserChildren>({\n    path: `users/${login}/invited`,\n    version: 2,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { APIResponse, Comments } from 'src/interfaces'\n\nexport default async (login: string, page: number) =>\n  await makeRequest<APIResponse<Comments>>({\n    path: `users/${login}/comments`,\n    params: {\n      comments: 'true',\n      user: login,\n      page: page.toString(),\n    },\n    version: 1,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { UserCompanies } from 'src/interfaces/User'\n\nexport default async (alias: string) =>\n  await makeRequest<UserCompanies>({\n    path: `users/${alias}/subscriptions/companies`,\n    version: 2,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { APIResponse, Posts } from 'src/interfaces'\n\nexport default async (login: string, page: number) =>\n  await makeRequest<APIResponse<Posts>>({\n    path: 'articles',\n    params: {\n      user: login,\n      user_bookmarks: 'true',\n      page: page.toString(),\n    },\n    version: 1,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { APIResponse, Comments } from 'src/interfaces'\n\nexport default async (login: string, page: number) =>\n  await makeRequest<APIResponse<Comments>>({\n    path: `users/${login}/comments`,\n    params: {\n      user: login,\n      bookmarks: 'true',\n      page: page.toString(),\n    },\n    version: 1,\n  })\n","import makeRequest from 'src/api/makeRequest'\nimport { UserHubs } from 'src/interfaces/User'\n\nexport default async (login: string) =>\n  await makeRequest<UserHubs>({\n    path: `users/${login}/subscriptions/hubs`,\n    version: 2,\n  })\n","import { Company, Hub } from 'src/interfaces'\nimport {\n  UserChildren,\n  UserCompanies,\n  UserExtended,\n  UserHubs,\n  UserWhois,\n} from 'src/interfaces/User'\n\nexport const PROFILE = 'PROFILE_'\nexport const PROFILE_CARD = PROFILE + 'CARD_'\nexport const PROFILE_WHOIS = PROFILE + 'WHOIS_'\nexport const PROFILE_COMPANIES = PROFILE + 'COMPANIES_'\nexport const PROFILE_CHILDREN = PROFILE + 'CHILDREN_'\nexport const PROFILE_HUBS = PROFILE + 'HUBS_'\n\nexport const PROFILE_ARTICLES = 'PROFILE_ARTICLES_'\n\nexport interface PromiseItem<T> {\n  data: T\n  fetching: boolean\n  fetched: boolean\n  error: null | string\n}\nexport interface State {\n  hubs?: PromiseItem<UserHubs>\n  card?: PromiseItem<UserExtended>\n  whois?: PromiseItem<UserWhois>\n  companies?: PromiseItem<UserCompanies>\n  children?: PromiseItem<UserChildren>\n}\n\nexport const fieldsMap = ['card', 'whois', 'companies', 'children', 'hubs']\nexport const typesMap = [\n  PROFILE_CARD,\n  PROFILE_WHOIS,\n  PROFILE_COMPANIES,\n  PROFILE_CHILDREN,\n  PROFILE_HUBS,\n]\n","import * as api from 'src/api/profile'\nimport {\n  PROFILE_CARD,\n  PROFILE_WHOIS,\n  PROFILE_CHILDREN,\n  PROFILE_COMPANIES,\n  PROFILE_HUBS,\n  PROFILE_ARTICLES,\n} from '../reducers/profile/types'\n\ninterface RequestParams {\n  method: string\n  storeType: string\n  params: unknown[]\n  v2?: boolean\n  dispatch: (...params: unknown[]) => unknown\n}\n\nexport const request = async ({\n  method,\n  storeType,\n  params,\n  v2 = false,\n  dispatch,\n}: RequestParams) => {\n  const type = storeType + 'FETCH'\n  dispatch({ type })\n\n  try {\n    const data = await api[method](...params)\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: { data: v2 ? data : data?.data },\n    })\n  } catch (error) {\n    dispatch({\n      type: type + '_REJECTED',\n      payload: { error: error.message, ...params },\n    })\n  }\n}\n\nexport const getProfileCard = (alias: string) => async (dispatch) => {\n  return await request({\n    method: 'getProfileCard',\n    storeType: PROFILE_CARD,\n    params: [alias],\n    dispatch,\n    v2: true,\n  })\n}\n\nexport const getProfileWhois = (alias: string) => async (dispatch) => {\n  return await request({\n    method: 'getProfileWhois',\n    storeType: PROFILE_WHOIS,\n    params: [alias],\n    dispatch,\n    v2: true,\n  })\n}\n\nexport const getProfileCompanies = (alias: string) => async (dispatch) => {\n  return await request({\n    method: 'getProfileCompanies',\n    storeType: PROFILE_COMPANIES,\n    params: [alias],\n    dispatch,\n    v2: true,\n  })\n}\n\nexport const getProfileChildren = (alias: string) => async (dispatch) => {\n  return await request({\n    method: 'getProfileChildren',\n    storeType: PROFILE_CHILDREN,\n    params: [alias],\n    dispatch,\n    v2: true,\n  })\n}\n\nexport const getProfileHubs = (alias: string) => async (dispatch) => {\n  return await request({\n    method: 'getProfileHubs',\n    storeType: PROFILE_HUBS,\n    params: [alias],\n    v2: true,\n    dispatch,\n  })\n}\n\nexport const getProfileArticles = (alias: string, page: number) => async (\n  dispatch\n) => {\n  const type = PROFILE_ARTICLES + 'FETCH'\n  dispatch({ type })\n\n  try {\n    const data = await api.getProfileArticles(alias, page)\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: { data, page, pagesCount: data.pagesCount },\n    })\n  } catch (error) {\n    dispatch({\n      type: type + '_REJECTED',\n      payload: { error: error.message, page },\n    })\n  }\n}\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  Typography,\r\n  Grid,\r\n  Button,\r\n  Chip,\r\n  Collapse,\r\n  Fade,\r\n} from '@material-ui/core'\r\nimport { ComponentWithUserParams } from './index'\r\nimport { makeStyles, fade } from '@material-ui/core/styles'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getProfileHubs } from 'src/store/actions/profile'\r\nimport { useSelector } from 'src/hooks'\r\nimport { Hub } from 'src/interfaces'\r\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  blockTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  linkItem: {\r\n    marginLeft: theme.spacing(0.5),\r\n  },\r\n  item: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n  },\r\n  itemChip: {\r\n    background: fade(theme.palette.primary.main, 0.1),\r\n    borderRadius: 4,\r\n    color: fade(theme.palette.text.primary, 0.8),\r\n    fontWeight: 500,\r\n  },\r\n  holder: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  errorText: {\r\n    color: theme.palette.error.main,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  collapse: {\r\n    position: 'relative',\r\n  },\r\n  collapseShadow: {\r\n    position: 'absolute',\r\n    background:\r\n      'linear-gradient(0deg,' + getContrastPaperColor(theme) + ',transparent)',\r\n    bottom: 0,\r\n    pointerEvents: 'none',\r\n    height: 40,\r\n    width: '100%',\r\n  },\r\n}))\r\n\r\nexport const HubsItem = ({ data }: { data: Hub }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <Grid\r\n      item\r\n      className={classes.item}\r\n      component={LinkToOutsidePage}\r\n      to={'/hub/' + data.alias + '/p/1'}\r\n    >\r\n      <Chip\r\n        style={{ cursor: 'pointer' }}\r\n        title={data.descriptionHtml}\r\n        className={classes.itemChip}\r\n        variant=\"default\"\r\n        color=\"primary\"\r\n        label={data.titleHtml}\r\n      />\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst Hubs = ({ classes: additionalClasses }: ComponentWithUserParams) => {\r\n  const dispatch = useDispatch()\r\n  const [showAll, setShowAll] = useState<boolean>(false)\r\n  const classes = useStyles()\r\n  const profile = useSelector((store) => store.profile.profile.card.data)\r\n  const hubs = useSelector((store) => store.profile.profile.hubs.data)\r\n  const isFetched = useSelector((store) => store.profile.profile.hubs.fetched)\r\n  const isFetching = useSelector((store) => store.profile.profile.hubs.fetching)\r\n  const fetchError = useSelector((store) => store.profile.profile.hubs.error)\r\n  const shouldCollapse = hubs ? hubs.hubIds.length > 25 : false\r\n\r\n  useEffect(() => {\r\n    setShowAll(false)\r\n    if (!isFetched) dispatch(getProfileHubs(profile.alias))\r\n  }, [profile.alias, dispatch, isFetched])\r\n\r\n  if (fetchError)\r\n    return (\r\n      <Typography className={classes.errorText}>\r\n        Не удалось загрузить список хабов\r\n      </Typography>\r\n    )\r\n  if (isFetching) return null\r\n\r\n  return isFetched && hubs && hubs.hubIds.length !== 0 ? (\r\n    <div className={additionalClasses}>\r\n      <Typography className={classes.blockTitle}>Состоит в хабах</Typography>\r\n      <Collapse\r\n        className={classes.collapse}\r\n        in={showAll}\r\n        style={{ height: shouldCollapse ? 100 : '100%' }}\r\n        collapsedHeight={shouldCollapse ? 100 : '100%'}\r\n      >\r\n        <Grid spacing={1} container className={classes.holder}>\r\n          {hubs.hubIds.map((e, i) => (\r\n            <HubsItem data={hubs.hubRefs[e]} key={i} />\r\n          ))}\r\n        </Grid>\r\n        {shouldCollapse && (\r\n          <Fade appear={false} in={!showAll}>\r\n            <div className={classes.collapseShadow} />\r\n          </Fade>\r\n        )}\r\n      </Collapse>\r\n\r\n      {shouldCollapse && (\r\n        <Button\r\n          size=\"small\"\r\n          style={{ marginTop: 8 }}\r\n          onClick={() => setShowAll((prev) => !prev)}\r\n          variant=\"outlined\"\r\n        >\r\n          {showAll ? 'Скрыть' : 'Показать всe'}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  ) : null\r\n}\r\n\r\nexport default React.memo(Hubs)\r\n","import {\n  ButtonBase,\n  darken,\n  lighten,\n  makeStyles,\n  Theme,\n} from '@material-ui/core'\nimport React from 'react'\nimport isDarkTheme from 'src/utils/isDarkTheme'\n\nconst useStyles = makeStyles<\n  Theme,\n  {\n    backgroundColor: string\n    isSubscribed: boolean\n  }\n>((theme) => ({\n  subscribeButtonWrapper: {\n    height: 32,\n    width: 112,\n    position: 'relative',\n    justifyContent: 'initial',\n  },\n  subscribeButton: {\n    color: ({ isSubscribed }) =>\n      isSubscribed ? 'white' : theme.palette.success.main,\n    fontSize: 12,\n    height: 32,\n    padding: 0,\n    textAlign: 'center',\n    lineHeight: '16px',\n    position: 'absolute',\n    width: ({ isSubscribed }) => (isSubscribed ? 'calc(100% - 26px)' : '100%'),\n    borderRadius: 4,\n    boxSizing: 'border-box',\n    border: ({ isSubscribed }) =>\n      isSubscribed ? 'none' : '1px solid ' + theme.palette.success.main,\n    background: ({ isSubscribed, backgroundColor }) =>\n      isSubscribed ? theme.palette.success.main : backgroundColor,\n    backgroundSize: '500%',\n    transition: 'width .2s ease, background-color .2s ease',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '&:hover': {\n      color: 'white',\n      background: (isSubscribed) =>\n        (isSubscribed ? lighten : darken)(theme.palette.success.main, 0.1),\n    },\n  },\n  subscribeButtonSpan: {\n    transition: 'width .2s ease,background-color .2s ease',\n    borderRadius: 4,\n    border: '1px solid ' + theme.palette.success.main,\n    boxSizing: 'border-box',\n    color: theme.palette.text.secondary,\n    fontSize: 15,\n    height: 32,\n    left: 0,\n    lineHeight: '29px',\n    padding: '0 9px',\n    position: 'absolute',\n    textAlign: 'right',\n    top: 0,\n    width: '100%',\n  },\n}))\n\nconst SubscribeButton: React.FC<{\n  isSubscribed: boolean\n  setSubscribed: React.Dispatch<React.SetStateAction<boolean>>\n  backgroundColor: string\n}> = ({ isSubscribed, setSubscribed, backgroundColor }) => {\n  const classes = useStyles({ isSubscribed, backgroundColor })\n\n  return (\n    <ButtonBase\n      className={classes.subscribeButtonWrapper}\n      onClick={() => setSubscribed((prev) => !prev)}\n      disableRipple\n    >\n      <span className={classes.subscribeButtonSpan}>×</span>\n      <div className={classes.subscribeButton}>\n        {isSubscribed ? 'Подписан' : 'Подписаться'}\n      </div>\n    </ButtonBase>\n  )\n}\n\nexport default SubscribeButton\n","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  DONATION_LINKS_MAP,\n  DONATION_TITLES_MAP,\n  MIN_WIDTH,\n} from 'src/config/constants'\nimport { Post } from 'src/interfaces'\nimport UserAvatar from 'src/components/blocks/UserAvatar'\nimport {\n  Typography,\n  useTheme,\n  IconButton,\n  Button,\n  Dialog,\n  DialogTitle,\n  List,\n  ListItem,\n  ListItemText,\n  Link as MUILink,\n} from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport SubscribeButton from 'src/components/blocks/SubscribeButton'\nimport { Icon16Up, Icon16Down } from '@vkontakte/icons'\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\nimport { CloseRounded } from '@material-ui/icons'\n\nconst INLINE_BUTTONS_WIDTH = 660\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    background: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    padding: theme.spacing(1.8, 2),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      marginTop: theme.spacing(2),\n      borderRadius: 8,\n    },\n    [theme.breakpoints.up(INLINE_BUTTONS_WIDTH)]: {\n      flexDirection: 'row',\n    },\n  },\n  flexRow: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  flexColumn: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  avatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 4,\n  },\n  flexGrow: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  avatarAndLoginWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n  },\n  nameAndAlias: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginTop: theme.spacing(1),\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n  },\n  fullname: {\n    fontFamily: 'Google Sans',\n    color: theme.palette.text.primary,\n    fontSize: 24,\n    fontWeight: 800,\n  },\n  alias: {\n    fontFamily: 'Roboto',\n    color: theme.palette.primary.main,\n    fontSize: 14,\n    fontWeight: 500,\n  },\n  grayIcon: {\n    color: theme.palette.text.secondary,\n    width: 40,\n    height: 40,\n  },\n  statisticsNumber: {\n    fontSize: 24,\n    fontWeight: 800,\n    fontFamily: 'Google Sans',\n  },\n  statisticsTitle: {\n    fontSize: 12,\n    color: theme.palette.text.hint,\n  },\n  statisticsWrapper: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: theme.spacing(1),\n  },\n  section: {\n    marginTop: theme.spacing(2),\n  },\n  button: {\n    fontSize: 12,\n    fontFamily: 'Arial',\n    height: 32,\n    textTransform: 'none',\n  },\n  cardWithoutButtonsWrapper: {\n    [theme.breakpoints.up(INLINE_BUTTONS_WIDTH)]: {\n      flexGrow: 1,\n    },\n  },\n  buttonsWrapper: {\n    display: 'flex',\n    marginTop: theme.spacing(2),\n    gap: theme.spacing(1),\n    flexDirection: 'row',\n    [theme.breakpoints.up(INLINE_BUTTONS_WIDTH)]: {\n      flexDirection: 'row-reverse',\n      marginTop: 0,\n    },\n  },\n  aliasBig: {\n    fontFamily: 'Roboto',\n    color: theme.palette.primary.main,\n    fontSize: 20,\n    fontWeight: 800,\n  },\n}))\n\nconst DonateDialog: React.FC<{\n  open: boolean\n  post: Post\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n}> = ({ open, setOpen, post }) => {\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const paymentDetails = Object.keys(post.author.paymentDetails).map((e) => ({\n    field: e,\n    value: post.author.paymentDetails[e],\n  }))\n\n  return (\n    <Dialog onClose={handleClose} open={open}>\n      <DialogTitle\n        style={{\n          padding: '8px 20px 0 4px',\n        }}\n      >\n        <IconButton onClick={handleClose} style={{ marginRight: 8 }}>\n          <CloseRounded />\n        </IconButton>\n        Платежная система\n      </DialogTitle>\n      <List>\n        {paymentDetails.map(\n          (e) =>\n            e.value && (\n              <ListItem\n                button\n                key={e.field}\n                component={'a'}\n                target={'_blank'}\n                href={DONATION_LINKS_MAP[e.field] + e.value}\n              >\n                <ListItemText\n                  primary={DONATION_TITLES_MAP[e.field]}\n                  secondary={e.value}\n                />\n              </ListItem>\n            )\n        )}\n      </List>\n    </Dialog>\n  )\n}\n\nconst AuthorCard: React.FC<{\n  post: Post\n}> = ({ post }) => {\n  if (!post) return null\n\n  const classes = useStyles()\n  const [isSubscribed, setSubscribed] = useState(false)\n  const [isDonateDialogOpen, setDonateDialogOpen] = useState(false)\n  const theme = useTheme()\n  const shouldShowDonateButton = Object.values(post.author.paymentDetails).some(\n    (e) => !!e\n  )\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.cardWithoutButtonsWrapper}>\n        <div className={classes.flexRow}>\n          <div className={classes.flexGrow}>\n            <Link\n              to={'/user/' + post.author.alias}\n              className={classes.avatarAndLoginWrapper}\n            >\n              <UserAvatar\n                className={classes.avatar}\n                src={post.author.avatarUrl}\n                alias={post.author.alias}\n              />\n            </Link>\n            <div className={classes.statisticsWrapper}>\n              <IconButton className={classes.grayIcon}>\n                <Icon16Up width={24} height={24} />\n              </IconButton>\n              <div className={classes.flexColumn}>\n                <Typography className={classes.statisticsTitle}>\n                  КАРМА\n                </Typography>\n                <GreenRedNumber number={post.author.scoreStats.score}>\n                  <Typography className={classes.statisticsNumber}>\n                    {post.author.scoreStats.score > 0 ? '+' : ''}\n                    {post.author.scoreStats.score}\n                  </Typography>\n                </GreenRedNumber>\n              </div>\n              <IconButton className={classes.grayIcon}>\n                <Icon16Down width={24} height={24} />\n              </IconButton>\n            </div>\n            <div\n              className={classes.flexColumn}\n              style={{ marginLeft: 8, marginRight: 8 }}\n            >\n              <Typography className={classes.statisticsTitle}>\n                РЕЙТИНГ\n              </Typography>\n              <Typography className={classes.statisticsNumber}>\n                {post.author.rating}\n              </Typography>\n            </div>\n          </div>\n        </div>\n        <Link\n          to={'/user/' + post.author.alias}\n          className={classes.nameAndAlias}\n        >\n          <Typography className={classes.fullname}>\n            {post.author.fullname}\n          </Typography>\n          <Typography\n            className={post.author.fullname ? classes.alias : classes.aliasBig}\n          >\n            @{post.author.alias}\n          </Typography>\n        </Link>\n        {post.author.speciality && (\n          <div className={[classes.flexRow, classes.section].join(' ')}>\n            <Typography variant=\"body1\">{post.author.speciality}</Typography>\n          </div>\n        )}\n        {post.author.contacts.length !== 0 && (\n          <div className={[classes.flexRow, classes.section].join(' ')}>\n            <div className={classes.flexGrow}>\n              {post.author.contacts.map((e, i) => (\n                <MUILink style={{ marginRight: 8 }} href={e.url} key={i}>\n                  {e.title}\n                </MUILink>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n      <div className={classes.buttonsWrapper}>\n        <SubscribeButton\n          isSubscribed={isSubscribed}\n          setSubscribed={setSubscribed}\n          backgroundColor={theme.palette.background.paper}\n        />\n        {shouldShowDonateButton && (\n          <>\n            <Button\n              variant={'outlined'}\n              color={'primary'}\n              className={classes.button}\n              onClick={() => setDonateDialogOpen(true)}\n            >\n              Задонатить\n            </Button>\n            <DonateDialog\n              open={isDonateDialogOpen}\n              setOpen={setDonateDialogOpen}\n              post={post}\n            />\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default AuthorCard\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport { Post } from 'src/interfaces'\nimport UserAvatar from 'src/components/blocks/UserAvatar'\nimport { Fade, Typography } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'src/hooks'\nimport FormattedText from 'src/components/formatters/FormattedText'\nimport Skeleton from '@material-ui/lab/Skeleton'\n\nconst useStyles = makeStyles((theme) => ({\n  skeleton: {\n    backgroundColor: theme.palette.action.hover,\n    borderRadius: 8,\n  },\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    background: theme.palette.background.paper,\n    marginTop: 0,\n    borderRadius: 0,\n    overflow: 'hidden',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n      marginTop: theme.spacing(1.5),\n    },\n  },\n  paper: {\n    padding: theme.spacing(1.8, 2),\n    display: 'none',\n    flexDirection: 'column',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      display: 'flex',\n    },\n  },\n  flexRow: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  flexColumn: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  avatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 4,\n  },\n  avatarLink: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n  },\n  companyNameAndDescription: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginTop: theme.spacing(1),\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n  },\n  companyName: {\n    fontFamily: 'Google Sans',\n    color: theme.palette.text.primary,\n    fontSize: 24,\n    fontWeight: 800,\n  },\n  statisticsNumber: {\n    fontSize: 24,\n    fontWeight: 800,\n    fontFamily: 'Google Sans',\n  },\n  statisticsTitle: {\n    fontSize: 12,\n    color: theme.palette.text.hint,\n  },\n  statisticsWrapper: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: theme.spacing(1),\n  },\n  description: {\n    color: theme.palette.text.secondary,\n    fontSize: 14,\n    lineHeight: '20px',\n    margin: 0,\n    marginTop: 4,\n  },\n  companyHeaderLink: {\n    display: 'flex',\n    flexDirection: 'column',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      marginTop: theme.spacing(1.5),\n    },\n  },\n  companyHeader: {\n    width: '100%',\n    borderRadius: 0,\n    minHeight: 'calc(100% / 4.4)',\n  },\n  brandingLink: {\n    display: 'flex',\n    height: '100%',\n    position: 'relative',\n    background: theme.palette.action.hover,\n    '&::before': {\n      paddingBottom: 'calc(100% / 4.4)',\n      content: '\"\"',\n      width: '100%',\n    },\n  },\n}))\n\nconst CompanyCardSkeleton = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Skeleton\n        variant=\"rect\"\n        style={{ borderRadius: 0 }}\n        className={[classes.skeleton, classes.brandingLink].join(' ')}\n      />\n      <div className={classes.paper}>\n        <div className={classes.flexRow}>\n          <div className={classes.avatarLink}>\n            <Skeleton\n              className={classes.avatar}\n              style={{ borderRadius: 4 }}\n              variant=\"rect\"\n            />\n          </div>\n          <div\n            className={classes.flexColumn}\n            style={{ marginLeft: 16, marginRight: 16 }}\n          >\n            <div className={classes.statisticsTitle}>\n              <Skeleton\n                className={classes.skeleton}\n                width={54}\n                height={16}\n                variant=\"rect\"\n              />\n            </div>\n            <div className={classes.statisticsNumber}>\n              <Skeleton\n                className={classes.skeleton}\n                width={86}\n                height={24}\n                style={{ marginTop: 8 }}\n                variant=\"rect\"\n              />\n            </div>\n          </div>\n        </div>\n        <div className={classes.companyNameAndDescription}>\n          <Skeleton\n            className={[classes.skeleton, classes.companyName].join(' ')}\n            width={'25%'}\n            height={25}\n            style={{ marginTop: 12, minWidth: 200 }}\n            variant=\"rect\"\n          />\n          <Skeleton\n            className={[classes.skeleton, classes.description].join(' ')}\n            width={'50%'}\n            height={16}\n            style={{ marginTop: 12, minWidth: 360 }}\n            variant=\"rect\"\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst CompanyCard: React.FC<{\n  post: Post\n  companyAlias: string\n}> = ({ post, companyAlias }) => {\n  const company = useSelector((store) => store.post.company.data)\n  const classes = useStyles()\n\n  if (!companyAlias) return null\n  if (!post || !company) return <CompanyCardSkeleton />\n\n  return (\n    <div className={classes.root}>\n      {company?.settings?.branding?.imageUrl && (\n        <a\n          className={classes.brandingLink}\n          href={company.settings.branding.linkUrl}\n        >\n          <Fade in>\n            <img\n              alt={company.alias}\n              className={classes.companyHeader}\n              src={company.settings.branding.imageUrl}\n            />\n          </Fade>\n        </a>\n      )}\n      <div className={classes.paper}>\n        <div className={classes.flexRow}>\n          <Link to={'/company/' + company.alias} className={classes.avatarLink}>\n            <UserAvatar\n              className={classes.avatar}\n              src={company.imageUrl}\n              alias={company.alias}\n            />\n          </Link>\n          <div\n            className={classes.flexColumn}\n            style={{ marginLeft: 16, marginRight: 16 }}\n          >\n            <Typography className={classes.statisticsTitle}>РЕЙТИНГ</Typography>\n            <Typography className={classes.statisticsNumber}>\n              {company.statistics.rating}\n            </Typography>\n          </div>\n        </div>\n        <Link\n          to={'/company/' + company.alias}\n          className={classes.companyNameAndDescription}\n        >\n          <Typography className={classes.companyName}>\n            {company.titleHtml}\n          </Typography>\n          {company.descriptionHtml && (\n            <FormattedText className={classes.description}>\n              {company.descriptionHtml}\n            </FormattedText>\n          )}\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nexport default CompanyCard\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport { Post } from 'src/interfaces'\nimport UserAvatar from 'src/components/blocks/UserAvatar'\nimport { Typography, Link as MUILink } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'src/hooks'\nimport FormattedText from 'src/components/formatters/FormattedText'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    background: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    padding: theme.spacing(1.8, 2),\n    borderRadius: 0,\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      display: 'flex',\n      borderRadius: 8,\n      marginTop: theme.spacing(2),\n    },\n  },\n  flexRow: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  avatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 4,\n  },\n  link: {\n    display: 'flex',\n    flexDirection: 'row',\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n  },\n  companyNameAndDescription: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginLeft: theme.spacing(1),\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n  },\n  companyName: {\n    fontFamily: 'Google Sans',\n    color: theme.palette.text.primary,\n    fontSize: 15,\n    fontWeight: 800,\n    lineHeight: '16px',\n  },\n  grayIcon: {\n    color: theme.palette.text.secondary,\n    width: 40,\n    height: 40,\n  },\n  statisticsNumber: {\n    fontSize: 24,\n    fontWeight: 800,\n    fontFamily: 'Google Sans',\n  },\n  statisticsTitle: {\n    fontSize: 12,\n    color: theme.palette.text.hint,\n  },\n  statisticsWrapper: {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: theme.spacing(1),\n  },\n  description: {\n    color: theme.palette.text.secondary,\n    fontSize: 13,\n    lineHeight: '16px',\n    margin: 0,\n    marginTop: 6,\n  },\n  links: {\n    marginTop: theme.spacing(1.8),\n    display: 'flex',\n    gap: theme.spacing(1),\n  },\n  contactLink: {\n    fontSize: 14,\n  },\n}))\n\nconst CompanyCardWithLinks: React.FC<{\n  post: Post\n}> = ({ post }) => {\n  if (!post) return null\n\n  const company = useSelector((store) => store.post.company.data)\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.flexRow}>\n        <Link to={'/company/' + company.alias} className={classes.link}>\n          <UserAvatar\n            className={classes.avatar}\n            src={company.imageUrl}\n            alias={company.alias}\n          />\n          <div className={classes.companyNameAndDescription}>\n            <Typography className={classes.companyName}>\n              {company.titleHtml}\n            </Typography>\n            {company.descriptionHtml && (\n              <FormattedText className={classes.description}>\n                {company.descriptionHtml}\n              </FormattedText>\n            )}\n          </div>\n        </Link>\n      </div>\n      <div className={classes.links}>\n        {company.contacts.map((e, i) => (\n          <MUILink\n            target={'_blank'}\n            href={e.url}\n            key={i}\n            className={classes.contactLink}\n          >\n            {e.title}\n          </MUILink>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default CompanyCardWithLinks\n","import * as React from 'react'\r\nimport { useEffect } from 'react'\r\nimport Container from '@material-ui/core/Container'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { fade, makeStyles, darken, lighten } from '@material-ui/core/styles'\r\nimport { useParams } from 'react-router'\r\nimport { getPost, getCompany } from 'src/store/actions/post'\r\nimport { Link } from 'react-router-dom'\r\nimport PostViewSkeleton from 'src/components/skeletons/PostView'\r\nimport ErrorComponent from 'src/components/blocks/Error'\r\nimport dayjs from 'dayjs'\r\nimport FormattedText from 'src/components/formatters/FormattedText'\r\nimport { Theme } from '@material-ui/core/styles'\r\nimport UserAvatar from 'src/components/blocks/UserAvatar'\r\nimport Statistics from './Statistics'\r\nimport SimilarPosts from './SimilarPosts'\r\nimport TopDayPosts from './TopDayPosts'\r\nimport { Chip, Fade, Link as MUILink } from '@material-ui/core'\r\nimport { MIN_WIDTH, POST_LABELS as postLabels } from 'src/config/constants'\r\nimport OutsidePage from 'src/components/blocks/OutsidePage'\r\nimport { useSelector } from 'src/hooks'\r\nimport { useDispatch } from 'react-redux'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\r\nimport ThumbsUpDownIcon from '@material-ui/icons/ThumbsUpDown'\r\nimport MetaTags from 'react-meta-tags'\r\nimport getPostLink from 'src/utils/getPostLink'\r\nimport getPostSocialImage from 'src/utils/getPostSocialImage'\r\nimport formatLdJsonSchema from 'src/utils/formatLdJsonSchema'\r\nimport MainBlock from 'src/components/blocks/MainBlock'\r\nimport PostSidebar from './Sidebar'\r\nimport { HubsItem } from '../User/Hubs'\r\nimport { Hub } from 'src/interfaces'\r\nimport AuthorCard from './AuthorCard'\r\nimport CompanyCard from './CompanyCard'\r\nimport CompanyCardWithLinks from './CompanyCardWithLinks'\r\n\r\nconst makeGradient = (theme: Theme) => {\r\n  const t =\r\n    theme.palette.type === 'light'\r\n      ? lighten(theme.palette.background.default, 0.1)\r\n      : darken(theme.palette.background.paper, 0.1)\r\n  const colors = [\r\n    t,\r\n    fade(t, 0.98),\r\n    fade(t, 0.94),\r\n    fade(t, 0.88),\r\n    fade(t, 0.8),\r\n    fade(t, 0.71),\r\n    fade(t, 0.61),\r\n    fade(t, 0.5),\r\n    fade(t, 0.39),\r\n    fade(t, 0.29),\r\n    fade(t, 0.2),\r\n    fade(t, 0.12),\r\n    fade(t, 0.06),\r\n    fade(t, 0.02),\r\n    fade(t, 0),\r\n  ]\r\n\r\n  return `linear-gradient(to bottom, ${colors.join(',')})`\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    paddingBottom: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  hubs: {\r\n    wordBreak: 'break-word',\r\n    width: '100%',\r\n    marginBottom: theme.spacing(0.5),\r\n  },\r\n  hubLink: {\r\n    color: theme.palette.text.hint,\r\n    fontFamily: 'Roboto',\r\n    fontWeight: 400,\r\n    fontSize: 13,\r\n    transitionDuration: '100ms',\r\n    textDecoration: 'none',\r\n    '&:hover': {\r\n      color: theme.palette.primary.light,\r\n    },\r\n    ...theme.typography.body2,\r\n  },\r\n  hubWrapper: {\r\n    color: theme.palette.text.hint,\r\n    '&::after': {\r\n      content: '\",\\u2004\"',\r\n    },\r\n    '&:last-child::after': {\r\n      content: '\"\"',\r\n    },\r\n  },\r\n  authorBar: { paddingTop: theme.spacing(2) },\r\n  avatar: {\r\n    width: theme.spacing(2.5),\r\n    height: theme.spacing(2.5),\r\n    marginRight: theme.spacing(1),\r\n    borderRadius: 2,\r\n  },\r\n  author: {\r\n    color: theme.palette.primary.light,\r\n    marginRight: theme.spacing(1),\r\n    fontWeight: 700,\r\n    fontSize: 13,\r\n    textDecoration: 'none',\r\n  },\r\n  ts: {\r\n    color: theme.palette.text.hint,\r\n    fontWeight: 400,\r\n    fontSize: 13,\r\n    flexGrow: 1,\r\n  },\r\n  score: {\r\n    fontWeight: 700,\r\n    fontSize: 13,\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  scoreIcon: {\r\n    fontSize: '1rem',\r\n  },\r\n  scoreWrapper: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  text: {\r\n    marginTop: theme.spacing(3),\r\n    paddingBottom: theme.spacing(1),\r\n    lineHeight: '1.56',\r\n    wordBreak: 'break-word',\r\n    hyphens: 'auto',\r\n    color: theme.palette.text.primary,\r\n  },\r\n  title: {\r\n    fontWeight: 800,\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 24,\r\n    lineHeight: '32px',\r\n    wordBreak: 'break-word',\r\n    hyphens: 'auto',\r\n    marginBottom: theme.spacing(1),\r\n    marginTop: theme.spacing(1.5),\r\n  },\r\n  commentsButton: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  translatedBox: {\r\n    backgroundColor: fade(theme.palette.primary.dark, 0.1),\r\n    padding: theme.spacing(1, 2),\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    display: 'flex',\r\n    fontSize: 14,\r\n    borderRadius: 2,\r\n    '-webkit-tap-highlight-color': 'transparent !important',\r\n    textDecoration: 'none !important',\r\n    '&:active': {\r\n      opacity: 0.9,\r\n    },\r\n  },\r\n  content: {\r\n    paddingBottom: theme.spacing(1.5),\r\n    backgroundColor: getContrastPaperColor(theme),\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      borderRadius: 8,\r\n      backgroundColor: theme.palette.background.paper + ' !important',\r\n      marginTop: theme.spacing(1.5),\r\n    },\r\n  },\r\n  sectionTitle: {\r\n    fontFamily: 'Google Sans',\r\n    textTransform: 'uppercase',\r\n    fontWeight: 500,\r\n    fontSize: 13,\r\n    letterSpacing: '1px',\r\n    color: theme.palette.text.hint,\r\n    lineHeight: 'normal',\r\n    padding: theme.spacing(0.5, 0),\r\n  },\r\n  section: {\r\n    padding: theme.spacing(1.8 / 2, 0),\r\n  },\r\n  sectionLinkWrapper: {\r\n    '&::after': {\r\n      content: '\",\\u2004\"',\r\n    },\r\n    '&:last-child::after': {\r\n      content: '\"\"',\r\n    },\r\n    color: theme.palette.primary.main,\r\n  },\r\n  sectionLink: {\r\n    color: theme.palette.primary.main,\r\n    fontFamily: 'Roboto',\r\n    fontWeight: 400,\r\n    fontSize: 13,\r\n    textDecoration: 'none',\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n    },\r\n    ...theme.typography.body2,\r\n  },\r\n  hubsContainer: {\r\n    marginTop: theme.spacing(0.5),\r\n  },\r\n  postHeader: {\r\n    background: makeGradient(theme),\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      background: 'transparent',\r\n    },\r\n  },\r\n}))\r\n\r\ninterface Params {\r\n  id: string\r\n  alias?: string\r\n}\r\n\r\nconst Post = () => {\r\n  const dispatch = useDispatch()\r\n  const company = useSelector((store) => store.post.company.data)\r\n  const companyFetchError = useSelector(\r\n    (store) => store.post.company.fetchError\r\n  )\r\n  const post = useSelector((store) => store.post.post.data)\r\n  const fetchError = useSelector((store) => store.post.post.fetchError)\r\n  const { id: strigifiedId, alias: companyAlias } = useParams<Params>()\r\n  const id = Number(strigifiedId)\r\n  const classes = useStyles()\r\n  const contentsRef = React.useRef<HTMLDivElement>()\r\n  const isTranslated = post && !!post.translationData\r\n  const shouldShowContents = post && (companyAlias ? post && company : post)\r\n  const shouldShowCompanyInfo = !!company\r\n  const labels =\r\n    shouldShowContents &&\r\n    post.postLabels.map((e, i) => {\r\n      const labelData = postLabels[e.type]\r\n      return (\r\n        <Chip\r\n          label={labelData.text}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          key={i}\r\n          component={labelData.link ? MUILink : 'span'}\r\n          style={{ marginRight: 8, marginTop: 8 }}\r\n        />\r\n      )\r\n    })\r\n\r\n  // Start fetching post data\r\n  useEffect(() => {\r\n    dispatch(getPost(id))\r\n    companyAlias && dispatch(getCompany(companyAlias))\r\n  }, [id, companyAlias])\r\n\r\n  if (fetchError) return <ErrorComponent message={fetchError} />\r\n  if (companyFetchError)\r\n    console.error('Could not fetch company data:', companyFetchError)\r\n\r\n  return (\r\n    <OutsidePage\r\n      hidePositionBar={!shouldShowContents}\r\n      headerText={post?.titleHtml}\r\n      scrollElement={contentsRef.current}\r\n    >\r\n      <MetaTags>\r\n        <title>{(post ? post.titleHtml : 'Публикация') + ' | habra.'}</title>\r\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n        <meta name=\"twitter:site\" content=\"@habrahabr\" />\r\n        <meta name=\"twitter:title\" content={post?.titleHtml} />\r\n        <meta name=\"description\" content={post?.metadata.metaDescription} />\r\n        <meta itemProp=\"description\" content={post?.metadata.metaDescription} />\r\n        <meta\r\n          property=\"og:description\"\r\n          content={post?.metadata.metaDescription}\r\n        />\r\n        <meta\r\n          property=\"aiturec:description\"\r\n          content={post?.metadata.metaDescription}\r\n        />\r\n        <meta\r\n          name=\"twitter:description\"\r\n          content={post?.metadata.metaDescription}\r\n        />\r\n        {/* <meta itemProp=\"image\" content={getPostSocialImage(post)} />\r\n        <meta property=\"og:image\" content={getPostSocialImage(post)} />\r\n        <meta property=\"vk:image\" content={getPostSocialImage(post)} />\r\n        <meta name=\"twitter:image\" content={getPostSocialImage(post)} /> */}\r\n        <meta property=\"og:type\" content=\"article\" />\r\n        <meta\r\n          property=\"og:url\"\r\n          content={process.env.PUBLIC_URL + getPostLink(post)}\r\n        />\r\n        <meta itemProp=\"name\" content={post?.titleHtml} />\r\n        <meta property=\"og:title\" content={post?.titleHtml} />\r\n        <meta property=\"aiturec:title\" content={post?.titleHtml} />\r\n        <meta property=\"aiturec:item_id\" content={post?.id.toString()} />\r\n        <meta property=\"aiturec:datetime\" content={post?.timePublished} />\r\n        <script type=\"application/ld+json\">{formatLdJsonSchema(post)}</script>\r\n      </MetaTags>\r\n\r\n      <MainBlock>\r\n        <div className={classes.root}>\r\n          {/** Company header */}\r\n          <CompanyCard post={post} companyAlias={companyAlias} />\r\n\r\n          <div className={classes.content} ref={contentsRef}>\r\n            {shouldShowContents && (\r\n              <>\r\n                {/** Post header */}\r\n                <Fade in>\r\n                  <div className={classes.postHeader}>\r\n                    <Container>\r\n                      <Grid\r\n                        className={classes.authorBar}\r\n                        container\r\n                        direction=\"row\"\r\n                        alignItems=\"center\"\r\n                      >\r\n                        <UserAvatar\r\n                          alias={post.author.alias}\r\n                          src={post.author.avatarUrl}\r\n                          className={classes.avatar}\r\n                        />\r\n                        <Typography\r\n                          component={Link}\r\n                          to={'/user/' + post.author.alias}\r\n                          className={classes.author}\r\n                        >\r\n                          {post.author.alias}\r\n                        </Typography>\r\n                        <Typography className={classes.ts}>\r\n                          {dayjs(post.timePublished).fromNow()}\r\n                        </Typography>\r\n                        <GreenRedNumber\r\n                          number={post.statistics.score}\r\n                          wrapperProps={{ className: classes.scoreWrapper }}\r\n                        >\r\n                          <>\r\n                            <ThumbsUpDownIcon className={classes.scoreIcon} />\r\n                            <Typography className={classes.score}>\r\n                              {post.statistics.score > 0 ? '+' : ''}\r\n                              {post.statistics.score}\r\n                            </Typography>\r\n                          </>\r\n                        </GreenRedNumber>\r\n                      </Grid>\r\n                      <FormattedText className={classes.title}>\r\n                        {post.titleHtml}\r\n                      </FormattedText>\r\n                      <div className={classes.hubs}>\r\n                        {post.hubs.map((hub, i) => (\r\n                          <span key={i} className={classes.hubWrapper}>\r\n                            <Link\r\n                              className={classes.hubLink}\r\n                              to={'/hub/' + hub.alias + '/p/1'}\r\n                            >\r\n                              {hub.title}\r\n                            </Link>\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                      {labels}\r\n                      {isTranslated && (\r\n                        <MUILink\r\n                          href={post.translationData.originalUrl}\r\n                          className={classes.translatedBox}\r\n                        >\r\n                          Автор оригинала:{' '}\r\n                          {post.translationData.originalAuthorName}\r\n                        </MUILink>\r\n                      )}\r\n                    </Container>\r\n                  </div>\r\n                </Fade>\r\n\r\n                {/* Article text */}\r\n                <Fade in>\r\n                  <Container>\r\n                    <FormattedText\r\n                      className={classes.text}\r\n                      oldHabrFormat={post.editorVersion === '1.0'}\r\n                    >\r\n                      {post.textHtml}\r\n                    </FormattedText>\r\n\r\n                    <div className={classes.section}>\r\n                      <Typography className={classes.sectionTitle}>\r\n                        Теги\r\n                      </Typography>\r\n                      {post.tags.map((e, i) => (\r\n                        <span key={i} className={classes.sectionLinkWrapper}>\r\n                          <Link\r\n                            to={`/search/p/1?q=[${e.titleHtml}]`}\r\n                            className={classes.sectionLink}\r\n                          >\r\n                            {e.titleHtml}\r\n                          </Link>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                    <div className={classes.section}>\r\n                      <Typography className={classes.sectionTitle}>\r\n                        Хабы\r\n                      </Typography>\r\n                      <Grid\r\n                        spacing={1}\r\n                        container\r\n                        className={classes.hubsContainer}\r\n                      >\r\n                        {post.hubs.map((e, i) => (\r\n                          <HubsItem data={(e as unknown) as Hub} key={i} />\r\n                        ))}\r\n                      </Grid>\r\n                    </div>\r\n                  </Container>\r\n                </Fade>\r\n              </>\r\n            )}\r\n            {!shouldShowContents && <PostViewSkeleton />}\r\n          </div>\r\n\r\n          {/* Bottom bar with some article info */}\r\n          {post && <Statistics post={post} />}\r\n          {shouldShowCompanyInfo && <CompanyCardWithLinks post={post} />}\r\n          <AuthorCard post={post} />\r\n          <SimilarPosts id={id} />\r\n          <TopDayPosts />\r\n        </div>\r\n      </MainBlock>\r\n      <PostSidebar />\r\n    </OutsidePage>\r\n  )\r\n}\r\n\r\nexport default React.memo(Post)\r\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { fade, Typography, useTheme } from '@material-ui/core'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\nimport isDarkTheme from 'src/utils/isDarkTheme'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\n\nimport { Icon24PaletteOutline } from '@vkontakte/icons'\nimport { Icon24HideOutline } from '@vkontakte/icons'\nimport { Icon24ChevronRight } from '@vkontakte/icons'\nimport { Icon243SquareOutline } from '@vkontakte/icons'\nimport { Icon28ArticleOutline } from '@vkontakte/icons'\nimport { Icon28GlobeOutline } from '@vkontakte/icons'\nimport { Icon28PrivacyOutline } from '@vkontakte/icons'\n\nconst items = [\n  {\n    icon: Icon24PaletteOutline,\n    to: '/appearance',\n    text: 'Внешний вид',\n  },\n  {\n    icon: Icon24HideOutline,\n    to: '/blacklist',\n    text: 'Чёрный список',\n  },\n  {\n    icon: Icon243SquareOutline,\n    to: '/interface',\n    text: 'Настройки интерфейса',\n  },\n  {\n    icon: Icon28ArticleOutline,\n    to: '/reader',\n    text: 'Параметры чтения',\n  },\n  {\n    icon: Icon28PrivacyOutline,\n    to: '/privacy',\n    text: 'Приватность',\n  },\n  {\n    icon: Icon28GlobeOutline,\n    to: '/language',\n    text: 'Настройки языка',\n  },\n]\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      padding: theme.spacing(1, 0),\n      borderRadius: 8,\n    },\n  },\n  link: {\n    display: 'flex',\n    padding: theme.spacing(1.5, 2),\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n    alignItems: 'center',\n    '-webkit-tap-highlight-color': 'transparent !important',\n    '&:hover': {\n      backgroundColor: fade(\n        theme.palette.common[isDarkTheme(theme) ? 'white' : 'black'],\n        0.05\n      ),\n    },\n    '&:active': {\n      background: fade(\n        theme.palette.common[isDarkTheme(theme) ? 'white' : 'black'],\n        0.2\n      ),\n    },\n  },\n  linkText: {\n    marginLeft: theme.spacing(1.5),\n    fontSize: 16,\n    flexGrow: 1,\n  },\n  linkIcon: {\n    color: theme.palette.primary.main,\n  },\n  linkIconChevronRight: {\n    color: theme.palette.text.hint,\n  },\n}))\n\nconst Settings = () => {\n  const classes = useStyles()\n  const theme = useTheme()\n\n  return (\n    <OutsidePage\n      headerText={'Настройки'}\n      disableShrinking\n      backgroundColor={theme.palette.background.paper}\n    >\n      <div className={classes.root}>\n        {items.map((e, i) => (\n          <LinkToOutsidePage\n            to={'/settings' + e.to}\n            key={i}\n            className={classes.link}\n          >\n            <e.icon className={classes.linkIcon} width={28} height={28} />\n            <Typography className={classes.linkText}>{e.text}</Typography>\n            <Icon24ChevronRight\n              className={classes.linkIconChevronRight}\n              width={18}\n              height={18}\n            />\n          </LinkToOutsidePage>\n        ))}\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Settings)\n","export const PREFIX = 'SETTINGS_'\r\nexport const SET_SETTINGS = PREFIX + 'SET_SETTINGS'\r\nexport const GET_SETTINGS = PREFIX + 'GET_SETTINGS'\r\n","import { UserSettings } from 'src/interfaces'\r\nimport { SET_SETTINGS, GET_SETTINGS } from '../reducers/settings/types'\r\n\r\nexport const setSettings = (payload: Partial<UserSettings>) => (dispatch) =>\r\n  dispatch({\r\n    type: SET_SETTINGS,\r\n    payload,\r\n  })\r\n\r\nexport const getSettings = () => (dispatch) =>\r\n  dispatch({\r\n    type: GET_SETTINGS,\r\n  })\r\n","import React, { useEffect, useRef, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { useDispatch } from 'react-redux'\nimport { setSettings } from 'src/store/actions/settings'\nimport { useSelector } from 'src/hooks'\nimport {\n  BACKGROUND_COLORS_DEFAULT,\n  BACKGROUND_COLORS_PAPER,\n  MIN_WIDTH,\n  PaletteType,\n  THEMES,\n  THEME_NAMES,\n  THEME_PRIMARY_COLORS,\n  THEME_TEXT_COLORS,\n  THEME_TYPES,\n} from 'src/config/constants'\nimport {\n  Radio,\n  Typography,\n  Grid,\n  useTheme,\n  GridSize,\n  ButtonBase,\n  FormControl,\n  darken,\n  lighten,\n  ListItem,\n  ListItemText,\n  Switch,\n  fade,\n  Divider,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n  FormControlLabel,\n  RadioGroup,\n} from '@material-ui/core'\nimport AddCircleRoundedIcon from '@material-ui/icons/AddCircleRounded'\nimport getInvertedContrastPaperColor from 'src/utils/getInvertedContrastPaperColor'\nimport isMobile from 'is-mobile'\nimport isDarkTheme from 'src/utils/isDarkTheme'\nimport { useHistory } from 'react-router'\nimport { CustomTheme } from 'src/interfaces/UserSettings'\nimport { EditRounded } from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n  },\n  section: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: 12,\n    paddingBottom: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n  },\n  sectionHeader: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    marginBottom: theme.spacing(1.5),\n    paddingBottom: 0,\n    padding: theme.spacing(1.5, 2),\n  },\n  singleRowGrid: {\n    display: 'flex',\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  oneByTwoGrid: {\n    display: 'none',\n    width: '100%',\n    [theme.breakpoints.down('xs')]: {\n      display: 'flex',\n    },\n  },\n  previewContainer: {\n    position: 'relative',\n    background: lighten(\n      theme.palette.background.default,\n      isDarkTheme(theme) ? 0.01 : 0.3\n    ),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      border: '1px solid ' + fade(theme.palette.divider, 0.03),\n      borderRadius: 8,\n      marginTop: theme.spacing(1.5),\n    },\n  },\n  leftItem: {\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderBottomLeftRadius: 8,\n    },\n  },\n  rightItem: {\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderBottomRightRadius: 8,\n    },\n  },\n  themeCardsContainer: {\n    whiteSpace: 'nowrap',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    display: 'flex',\n    flexWrap: 'nowrap',\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: 'translateZ(0)',\n    overflowX: 'auto',\n    overflowY: 'hidden',\n    paddingTop: 1,\n    // Do not change the scrollbar on mobile due to design flaws\n    // If the -webkit-scrollbar is empty, any other scrollbar style will not be applied.\n    '&::-webkit-scrollbar': !isMobile() && {\n      background: isDarkTheme(theme)\n        ? lighten(theme.palette.background.default, 0.03)\n        : theme.palette.background.paper,\n      border: '1px solid ' + darken(theme.palette.background.paper, 0.05),\n      borderRadius: 4,\n      height: 12,\n    },\n    '&::-webkit-scrollbar-thumb': {\n      minHeight: 12,\n      borderRadius: 4,\n      background: isDarkTheme(theme)\n        ? lighten(theme.palette.background.paper, 0.08)\n        : darken(theme.palette.background.paper, 0.08),\n      transition: '0.1s',\n      '&:hover': {\n        background: isDarkTheme(theme)\n          ? lighten(theme.palette.background.paper, 0.1)\n          : darken(theme.palette.background.paper, 0.1),\n      },\n      '&:active': {\n        background: isDarkTheme(theme)\n          ? lighten(theme.palette.background.paper, 0.2)\n          : darken(theme.palette.background.paper, 0.2),\n      },\n    },\n  },\n  newThemeButton: {\n    marginRight: theme.spacing(2),\n    display: 'inline-flex',\n    marginLeft: theme.spacing(2),\n    justifyContent: 'center',\n    height: 128,\n    width: 96,\n    borderRadius: 12,\n    alignItems: 'center',\n    flexDirection: 'column',\n    background: getInvertedContrastPaperColor(theme),\n    boxShadow: '0 0 0 1px ' + theme.palette.divider,\n  },\n  newThemeButtonText: {\n    fontSize: 14,\n    marginTop: theme.spacing(0.5),\n  },\n  dividerHolder: {\n    display: 'inline-flex',\n    flexDirection: 'column',\n    marginLeft: theme.spacing(2),\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  divider: {\n    position: 'absolute',\n    height: 96,\n  },\n  editThemeButton: {\n    width: '100%',\n    justifyContent: 'start',\n    padding: theme.spacing(1.5, 2),\n  },\n  editThemeIcon: {\n    marginRight: theme.spacing(2),\n  },\n  editThemeText: {\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n  },\n}))\n\nexport const usePaletteGridItemStyles = makeStyles((theme) => ({\n  gridItem: {\n    position: 'relative',\n    alignItems: 'baseline',\n    justifyContent: 'start',\n    width: '100%',\n    '&::before': {\n      content: '\"\"',\n      paddingBottom: (p: number) => p * 100 + '%',\n    },\n  },\n  floatText: {\n    position: 'absolute',\n    marginTop: 4,\n    marginLeft: 8,\n    fontSize: 14,\n    fontWeight: 700,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    maxWidth: 'calc(100% - ' + theme.spacing(2) + 'px)',\n  },\n  floatSubtext: {\n    position: 'absolute',\n    marginTop: 22,\n    marginLeft: 8,\n    fontSize: 14,\n    fontWeight: 500,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    opacity: 0.8,\n    maxWidth: 'calc(100% - ' + theme.spacing(2) + 'px)',\n  },\n  paletteSymbolContainer: {\n    height: 30,\n    left: '50%',\n    position: 'absolute',\n    top: '50%',\n    width: 30,\n    transform: 'translate(-50%, -50%)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: 16,\n    fontWeight: 700,\n    background: theme.palette.getContrastText(theme.palette.primary.main),\n    color: theme.palette.primary.main,\n    borderRadius: '50%',\n  },\n}))\n\nconst useThemeCardStyles = makeStyles((theme) => ({\n  root: {\n    display: 'inline-flex',\n    flexDirection: 'column',\n    marginLeft: theme.spacing(2),\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    '&:last-child': {\n      paddingRight: theme.spacing(2),\n    },\n  },\n  border: {\n    boxShadow: '0 0 0 1px ' + theme.palette.divider,\n  },\n  box: {\n    height: 128,\n    width: 96,\n    borderRadius: 12,\n    alignItems: 'baseline',\n  },\n  item: {\n    height: '50%',\n  },\n  type: {\n    fontSize: 14,\n    marginTop: theme.spacing(0.5),\n    maxWidth: 100,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  radioHolder: {\n    height: '50%',\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  radio: {\n    color: ({ color }: { color: string }) => color,\n  },\n  radioChecked: {\n    color: theme.palette.primary.main,\n  },\n}))\n\nconst makeCustomThemeFromThemeType = (type: PaletteType): CustomTheme => ({\n  name: THEME_NAMES[type],\n  type,\n  palette: {\n    type: THEME_TYPES[type],\n    primary: THEME_PRIMARY_COLORS[type],\n    background: {\n      paper: BACKGROUND_COLORS_PAPER[type],\n      default: BACKGROUND_COLORS_DEFAULT[type],\n    },\n    text: THEME_TEXT_COLORS[type],\n  },\n})\n\nconst ThemeCard = ({ theme }: { theme: CustomTheme }) => {\n  const paper = theme.palette.background.paper\n  const defaultColor = theme.palette.background.default\n  const primaryColor = theme.palette.primary.main\n  const textColor = theme.palette.text.primary\n  const dispatch = useDispatch()\n  const classes = useThemeCardStyles({ color: textColor })\n  const themeType = useSelector((state) => state.settings.themeType)\n  const isCurrent = themeType === theme.type\n  const ref = useRef<HTMLDivElement>()\n  const changeTheme: React.MouseEventHandler<HTMLButtonElement> = (_event) => {\n    if (!isCurrent) dispatch(setSettings({ themeType: theme.type }))\n  }\n\n  // Scroll to the element on page first load\n  useEffect(() => {\n    if (ref.current && isCurrent) {\n      ref.current.scrollIntoView({\n        behavior: 'auto',\n        block: 'end',\n        inline: 'center',\n      })\n    }\n  }, [])\n\n  return (\n    <div className={classes.root} ref={ref}>\n      <Grid\n        component={ButtonBase}\n        onClick={changeTheme}\n        container\n        justify=\"center\"\n        className={`${classes.box} ${isCurrent ? classes.border : ''}`}\n        style={{ background: paper }}\n      >\n        <Grid\n          item\n          xs={6}\n          style={{ background: primaryColor, borderTopLeftRadius: 12 }}\n          className={classes.item}\n        />\n        <Grid\n          item\n          xs={6}\n          style={{ background: defaultColor, borderTopRightRadius: 12 }}\n          className={classes.item}\n        />\n        <div className={classes.radioHolder}>\n          <Radio\n            disableRipple\n            value={theme.type}\n            color=\"primary\"\n            checked={isCurrent}\n            classes={{\n              colorPrimary: classes.radio,\n            }}\n          />\n        </div>\n      </Grid>\n      <Typography className={classes.type}>{theme.name}</Typography>\n    </div>\n  )\n}\n\nconst PaletteGridItem = ({\n  width,\n  color,\n  text,\n  withSymbol,\n  height = 1,\n  className = '',\n}: {\n  width: number\n  color: string\n  text: string\n  withSymbol?: boolean\n  height?: number\n  className?: string\n}) => {\n  const theme = useTheme()\n  const classes = usePaletteGridItemStyles(height)\n\n  return (\n    <Grid\n      item\n      component={ButtonBase}\n      xs={width as boolean | GridSize}\n      className={classes.gridItem + ' ' + className}\n      style={{\n        background: color,\n        color: theme.palette.getContrastText(color),\n      }}\n    >\n      <Typography className={classes.floatText}>{text}</Typography>\n      <Typography className={classes.floatSubtext}>{color}</Typography>\n      {withSymbol && <span className={classes.paletteSymbolContainer}>P</span>}\n    </Grid>\n  )\n}\n\nconst Switcher = ({\n  onClick: onSwitcherClick = null,\n  primary,\n  secondary,\n  checked = false,\n}) => {\n  const [isChecked, setChecked] = useState(checked)\n  const onClick = () => {\n    setChecked((prev) => !prev)\n    onSwitcherClick()\n  }\n\n  return (\n    <ListItem button onClick={onClick}>\n      <ListItemText primary={primary} secondary={secondary} />\n      <Switch disableRipple checked={isChecked} color=\"primary\" />\n    </ListItem>\n  )\n}\n\nexport const OneByTwoGrid = ({ component: Item = PaletteGridItem }) => {\n  const classes = useStyles()\n  const theme = useTheme()\n\n  return (\n    <div className={classes.oneByTwoGrid}>\n      <Grid item xs={6}>\n        <Grid container direction=\"column\">\n          <Item\n            width={12}\n            color={theme.palette.primary.main}\n            text=\"main\"\n            height={0.5}\n            withSymbol\n          />\n          <Grid container direction=\"row\">\n            <Item\n              width={6}\n              height={1}\n              color={theme.palette.primary.light}\n              text=\"light\"\n            />\n            <Item\n              width={6}\n              height={1}\n              color={theme.palette.primary.dark}\n              text=\"dark\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs={6}>\n        <Grid container direction=\"column\">\n          <Item\n            width={12}\n            height={0.5}\n            color={theme.palette.background.paper}\n            text=\"paper\"\n          />\n          <Grid container direction=\"row\">\n            <Item\n              width={6}\n              height={1}\n              color={theme.palette.background.default}\n              text=\"default\"\n            />\n            <Item\n              width={6}\n              height={1}\n              color={theme.palette.text.primary}\n              text=\"text\"\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport const SingleRowGrid = ({ component: Item = PaletteGridItem }) => {\n  const theme = useTheme()\n  const classes = useStyles()\n\n  return (\n    <Grid\n      item\n      xs={12}\n      container\n      direction=\"row\"\n      className={classes.singleRowGrid}\n    >\n      <Item\n        width={2}\n        height={1}\n        color={theme.palette.primary.light}\n        text=\"light\"\n        className={classes.leftItem}\n      />\n      <Item\n        width={2}\n        height={1}\n        color={theme.palette.primary.main}\n        text=\"main\"\n        withSymbol\n      />\n      <Item\n        width={2}\n        height={1}\n        color={theme.palette.primary.dark}\n        text=\"dark\"\n      />\n      <Item\n        width={2}\n        height={1}\n        color={theme.palette.background.default}\n        text=\"default\"\n      />\n      <Item\n        width={2}\n        height={1}\n        color={theme.palette.background.paper}\n        text=\"paper\"\n      />\n      <Item\n        width={2}\n        height={1}\n        color={theme.palette.text.primary}\n        text=\"text\"\n        className={classes.rightItem}\n      />\n    </Grid>\n  )\n}\n\ninterface AddDialogProps {\n  isOpen: boolean\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n  onSubmit: (login: string) => void\n  placeholder: string\n  title: string\n}\nconst AddDialog: React.FC<AddDialogProps> = ({\n  isOpen,\n  setOpen,\n  onSubmit,\n  placeholder,\n  title,\n}) => {\n  const textInputRef = useRef<HTMLInputElement>()\n  const handleClose = () => setOpen(false)\n  const handleSubmit = () => {\n    if (textInputRef.current) {\n      onSubmit(textInputRef.current.value)\n      setOpen(false)\n    }\n  }\n\n  return (\n    <Dialog fullWidth maxWidth=\"xs\" open={isOpen} onClose={handleClose}>\n      <DialogTitle style={{ paddingBottom: 0 }} id=\"add-dialog-title\">\n        {title}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          inputRef={textInputRef}\n          autoFocus\n          margin=\"dense\"\n          name=\"title\"\n          label=\"Логин\"\n          placeholder={placeholder}\n          type=\"text\"\n          fullWidth\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"default\">\n          Отмена\n        </Button>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          disableElevation\n          onClick={handleSubmit}\n        >\n          Добавить\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport interface ThemeSelectDialogProps {\n  classes?: Record<'paper', string>\n  id: string\n  keepMounted?: boolean\n  value: string\n  open: boolean\n  onClose: (value?: string) => void\n}\n\nconst ThemeSelectDialog = (props: ThemeSelectDialogProps) => {\n  const { onClose, value: valueProp, open, ...other } = props\n  const [value, setValue] = React.useState(valueProp)\n  const radioGroupRef = React.useRef<HTMLElement>(null)\n  const customThemes = useSelector((store) => store.settings.customThemes)\n  const options = THEMES.map((e) => makeCustomThemeFromThemeType(e)).concat(\n    customThemes\n  )\n\n  useEffect(() => {\n    if (!open) {\n      setValue(valueProp)\n    }\n  }, [valueProp, open])\n\n  const handleEntering = () => {\n    if (radioGroupRef.current != null) {\n      radioGroupRef.current.focus()\n    }\n  }\n\n  const handleCancel = () => onClose()\n  const handleOk = () => onClose(value)\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValue((event.target as HTMLInputElement).value)\n  }\n\n  return (\n    <Dialog\n      disableBackdropClick\n      disableEscapeKeyDown\n      maxWidth=\"xs\"\n      onEntering={handleEntering}\n      aria-labelledby=\"theme-select-dialog-title\"\n      open={open}\n      {...other}\n    >\n      <DialogTitle id=\"theme-select-dialog-title\">Выбор темы</DialogTitle>\n      <DialogContent dividers>\n        <RadioGroup\n          ref={radioGroupRef}\n          aria-label=\"theme-select\"\n          name=\"theme-select\"\n          value={value}\n          onChange={handleChange}\n        >\n          {options.map((option) => (\n            <FormControlLabel\n              value={option.type}\n              key={option.type}\n              control={<Radio color=\"primary\" />}\n              label={option.name}\n            />\n          ))}\n        </RadioGroup>\n      </DialogContent>\n      <DialogActions>\n        <Button autoFocus onClick={handleCancel} color=\"primary\">\n          Отмена\n        </Button>\n        <Button onClick={handleOk} color=\"primary\">\n          Ok\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nconst Appearance = () => {\n  const classes = useStyles()\n  const history = useHistory()\n  const theme = useTheme()\n  const dispatch = useDispatch()\n  const customThemes = useSelector((store) => store.settings.customThemes)\n  const autoChangeTheme = useSelector((store) => store.settings.autoChangeTheme)\n  const preferredLightTheme = useSelector(\n    (store) => store.settings.preferredLightTheme\n  )\n  const preferredDarkTheme = useSelector(\n    (store) => store.settings.preferredDarkTheme\n  )\n  const themeType = useSelector((state) => state.settings.themeType)\n  const isCustomThemeChosen = customThemes.some((e) => e.type === themeType)\n  const preferredLightThemeName =\n    preferredLightTheme in THEME_NAMES\n      ? THEME_NAMES[preferredLightTheme]\n      : customThemes.find((e) => e.type === preferredLightTheme)?.name\n  const preferredDarkThemeName =\n    preferredDarkTheme in THEME_NAMES\n      ? THEME_NAMES[preferredDarkTheme]\n      : customThemes.find((e) => e.type === preferredDarkTheme)?.name\n  const [\n    isPreferredLightThemeDialogOpen,\n    setPreferredLightThemeDialogOpen,\n  ] = useState(false)\n  const [\n    isPreferredDarkThemeDialogOpen,\n    setPreferredDarkThemeDialogOpen,\n  ] = useState(false)\n\n  const handlePreferredLightThemeDialogClose = (value?: string) => {\n    setPreferredLightThemeDialogOpen(false)\n    value &&\n      dispatch(\n        setSettings({\n          preferredLightTheme: value,\n        })\n      )\n  }\n  const handlePreferredDarkThemeDialogClose = (value?: string) => {\n    setPreferredDarkThemeDialogOpen(false)\n    value &&\n      dispatch(\n        setSettings({\n          preferredDarkTheme: value,\n        })\n      )\n  }\n\n  return (\n    <OutsidePage\n      headerText={'Внешний вид'}\n      disableShrinking\n      backgroundColor={theme.palette.background.paper}\n    >\n      <div className={classes.root}>\n        <Grid container className={classes.previewContainer} direction=\"row\">\n          <Typography className={classes.sectionHeader}>Палитра</Typography>\n          <SingleRowGrid />\n          <OneByTwoGrid />\n        </Grid>\n        <div\n          className={classes.section}\n          style={{ paddingBottom: isCustomThemeChosen ? 0 : null }}\n        >\n          <Typography className={classes.sectionHeader}>Темы</Typography>\n          <FormControl\n            component=\"fieldset\"\n            aria-label=\"theme-type\"\n            name=\"theme-type\"\n            className={classes.themeCardsContainer}\n          >\n            {THEMES.map((e, i) => (\n              <ThemeCard theme={makeCustomThemeFromThemeType(e)} key={i} />\n            ))}\n            <div className={classes.dividerHolder}>\n              <Divider className={classes.divider} orientation=\"vertical\" />\n            </div>\n            {customThemes.map((e, i) => (\n              <ThemeCard theme={e} key={i} />\n            ))}\n            <div style={{ display: 'inline-flex' }}>\n              <ButtonBase\n                className={classes.newThemeButton}\n                onClick={() =>\n                  history.push('/settings/appearance/new-theme', {\n                    from: history.location.pathname,\n                  })\n                }\n              >\n                <AddCircleRoundedIcon />\n                <Typography className={classes.newThemeButtonText}>\n                  Создать\n                </Typography>\n              </ButtonBase>\n            </div>\n          </FormControl>\n          {isCustomThemeChosen && (\n            <ButtonBase\n              className={classes.editThemeButton}\n              onClick={() =>\n                history.push('/settings/appearance/edit-theme/' + themeType, {\n                  from: history.location.pathname,\n                })\n              }\n            >\n              <EditRounded className={classes.editThemeIcon} />\n              <Typography className={classes.editThemeText}>\n                Изменить тему\n              </Typography>\n            </ButtonBase>\n          )}\n        </div>\n        <div className={classes.section}>\n          <Typography\n            className={classes.sectionHeader}\n            style={{ marginBottom: 0 }}\n          >\n            Настройки\n          </Typography>\n          <Switcher\n            primary={'Использовать системную тему'}\n            secondary={\n              'Внешний вид приложения будет меняться автоматически при изменении темы на устройстве'\n            }\n            checked={autoChangeTheme}\n            onClick={() => {\n              dispatch(\n                setSettings({\n                  autoChangeTheme: !autoChangeTheme,\n                })\n              )\n            }}\n          />\n          <ListItem\n            button\n            disabled={!autoChangeTheme}\n            onClick={() => setPreferredLightThemeDialogOpen(true)}\n          >\n            <ListItemText\n              primary={'Предпочитаемая светлая тема'}\n              secondary={preferredLightThemeName}\n            />\n          </ListItem>\n          <ListItem\n            button\n            disabled={!autoChangeTheme}\n            onClick={() => setPreferredDarkThemeDialogOpen(true)}\n          >\n            <ListItemText\n              primary={'Предпочитаемая темная тема'}\n              secondary={preferredDarkThemeName}\n            />\n          </ListItem>\n          <ThemeSelectDialog\n            keepMounted={false}\n            id=\"preferred-light-theme-select-dialog\"\n            open={isPreferredLightThemeDialogOpen}\n            onClose={handlePreferredLightThemeDialogClose}\n            value={preferredLightTheme}\n          />\n          <ThemeSelectDialog\n            keepMounted={false}\n            id=\"preferred-dark-theme-select-dialog\"\n            open={isPreferredDarkThemeDialogOpen}\n            onClose={handlePreferredDarkThemeDialogClose}\n            value={preferredDarkTheme}\n          />\n        </div>\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Appearance)\n","import React, { useRef, useState } from 'react'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { makeStyles } from '@material-ui/core/styles'\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport {\n  Typography,\n  List as MUIList,\n  ListItem,\n  IconButton,\n  ListItemText,\n  Dialog,\n  Button,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n  useTheme,\n} from '@material-ui/core'\nimport { useSelector } from 'src/hooks'\nimport { useDispatch } from 'react-redux'\nimport { setSettings } from 'src/store/actions/settings'\nimport AddRoundedIcon from '@material-ui/icons/AddRounded'\nimport MainBlock from 'src/components/blocks/MainBlock'\nimport Sidebar from 'src/components/blocks/Sidebar'\nimport SideBlock from 'src/components/blocks/SideBlock'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme) => ({\n  section: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  sectionHeader: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    paddingBottom: 0,\n    padding: theme.spacing(1.8, 2),\n  },\n  emptyText: {\n    padding: theme.spacing(2.5, 0),\n    textAlign: 'center',\n  },\n  addButton: {\n    position: 'absolute',\n    right: 0,\n    top: -3,\n  },\n}))\n\nconst List = ({ items, setItems }) => {\n  const { t } = useTranslation()\n  const [selectedItem, setSelectedItem] = useState<string>()\n  const [isAlertDialogOpen, setAlertDialogOpen] = useState(false)\n  const handleAlertClose = () => setAlertDialogOpen(false)\n  const handleAlertCloseWithDeletion = () => {\n    const selectedItemIndex = items.findIndex((e) => e === selectedItem)\n    items.splice(selectedItemIndex, 1)\n    setItems(items)\n    handleAlertClose()\n  }\n  const openAlertDialog = (item: string) => {\n    setSelectedItem(item)\n    setAlertDialogOpen(true)\n  }\n\n  return (\n    <MUIList>\n      <Dialog open={isAlertDialogOpen} onClose={handleAlertClose}>\n        <DialogTitle id=\"alert-dialog-title\">{t`pages.SettingsBlacklist.ListDialogTitle`}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            {t`pages.SettingsBlacklist.ListDialogContentText`}{' '}\n            <b>&quot;{selectedItem}&quot;</b>?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleAlertClose} color=\"default\">\n            {t`common.cancel`}\n          </Button>\n          <Button\n            onClick={handleAlertCloseWithDeletion}\n            color=\"primary\"\n            variant=\"contained\"\n            disableElevation\n            autoFocus\n          >\n            {t`common.delete`}\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {items.map((e, i) => (\n        <ListItem key={i} dense>\n          <ListItemText>{e}</ListItemText>\n          <IconButton onClick={() => openAlertDialog(e)}>\n            <CloseRoundedIcon />\n          </IconButton>\n        </ListItem>\n      ))}\n    </MUIList>\n  )\n}\n\ninterface AddDialogProps {\n  isOpen: boolean\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n  onSubmit: (login: string) => void\n  placeholder: string\n  title: string\n}\nconst AddDialog: React.FC<AddDialogProps> = ({\n  isOpen,\n  setOpen,\n  onSubmit,\n  placeholder,\n  title,\n}) => {\n  const textInputRef = useRef<HTMLInputElement>()\n  const handleClose = () => setOpen(false)\n  const { t } = useTranslation()\n  const handleSubmit = () => {\n    if (textInputRef.current) {\n      onSubmit(textInputRef.current.value)\n      setOpen(false)\n    }\n  }\n\n  return (\n    <Dialog fullWidth maxWidth=\"xs\" open={isOpen} onClose={handleClose}>\n      <DialogTitle style={{ paddingBottom: 0 }} id=\"add-dialog-title\">\n        {title}\n      </DialogTitle>\n      <DialogContent>\n        <TextField\n          inputRef={textInputRef}\n          autoFocus\n          margin=\"dense\"\n          name=\"title\"\n          label=\"Логин\"\n          placeholder={placeholder}\n          type=\"text\"\n          fullWidth\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"default\">\n          {t`common.cancel`}\n        </Button>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          disableElevation\n          onClick={handleSubmit}\n        >\n          {t`common.add`}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nconst Blacklist = () => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const { t } = useTranslation()\n  const [isAddAuthorDialogOpen, setAddAuthorDialogOpen] = useState(false)\n  const [isAddCompanyDialogOpen, setAddCompanyDialogOpen] = useState(false)\n  const hiddenAuthors = useSelector((store) => store.settings.hiddenAuthors)\n  const hiddenCompanies = useSelector((store) => store.settings.hiddenCompanies)\n  const dispatch = useDispatch()\n  const setHiddenAuthors = (items: string[]) =>\n    dispatch(\n      setSettings({\n        hiddenAuthors: items,\n      })\n    )\n  const setHiddenCompanies = (items: string[]) =>\n    dispatch(\n      setSettings({\n        hiddenCompanies: items,\n      })\n    )\n  const addHiddenAuthor = (login: string) => {\n    const newHiddenAuthors = [...hiddenAuthors, login]\n    setHiddenAuthors(newHiddenAuthors)\n  }\n  const addHiddenCompany = (login: string) => {\n    const newHiddenCompanies = [...hiddenCompanies, login]\n    setHiddenCompanies(newHiddenCompanies)\n  }\n  const openAddHiddenAuthorDialog = () => {\n    setAddAuthorDialogOpen(true)\n  }\n  const openAddHiddenCompanyDialog = () => {\n    setAddCompanyDialogOpen(true)\n  }\n  const emptyText = (\n    <Typography\n      color=\"textSecondary\"\n      variant=\"body2\"\n      className={classes.emptyText}\n    >\n      {t`pages.SettingsBlacklist.emptyText`}\n    </Typography>\n  )\n\n  return (\n    <OutsidePage\n      headerText={t`pages.SettingsBlacklist.pageTitle`}\n      disableShrinking\n      backgroundColor={theme.palette.background.paper}\n    >\n      <MainBlock>\n        <div className={classes.section}>\n          <Typography className={classes.sectionHeader}>\n            {t`pages.SettingsBlacklist.hiddenAuthors`}\n          </Typography>\n          <IconButton\n            className={classes.addButton}\n            onClick={openAddHiddenAuthorDialog}\n          >\n            <AddRoundedIcon />\n          </IconButton>\n          {hiddenAuthors.length !== 0 && (\n            <List items={hiddenAuthors} setItems={setHiddenAuthors} />\n          )}\n          {hiddenAuthors.length === 0 && emptyText}\n        </div>\n        <div className={classes.section}>\n          <Typography className={classes.sectionHeader}>\n            {t`pages.SettingsBlacklist.hiddenCompanies`}\n          </Typography>\n          <IconButton\n            className={classes.addButton}\n            onClick={openAddHiddenCompanyDialog}\n          >\n            <AddRoundedIcon />\n          </IconButton>\n          {hiddenCompanies.length !== 0 && (\n            <List items={hiddenCompanies} setItems={setHiddenCompanies} />\n          )}\n          {hiddenCompanies.length === 0 && emptyText}\n        </div>\n        <AddDialog\n          isOpen={isAddAuthorDialogOpen}\n          setOpen={setAddAuthorDialogOpen}\n          onSubmit={addHiddenAuthor}\n          placeholder={t`pages.SettingsBlacklist.authorDialogPlaceholder`}\n          title={t`pages.SettingsBlacklist.addAuthor`}\n        />\n        <AddDialog\n          isOpen={isAddCompanyDialogOpen}\n          setOpen={setAddCompanyDialogOpen}\n          onSubmit={addHiddenCompany}\n          placeholder={t`pages.SettingsBlacklist.companyDialogPlaceholder`}\n          title={t`pages.SettingsBlacklist.addCompany`}\n        />\n      </MainBlock>\n      <Sidebar>\n        <SideBlock title={t`pages.SettingsBlacklist.sidebarTitle`}>\n          <Typography variant=\"body2\">\n            {t`pages.SettingsBlacklist.sidebarText`}\n          </Typography>\n        </SideBlock>\n      </Sidebar>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Blacklist)\n","import React, {\n  ChangeEvent,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react'\nimport {\n  Button,\n  ButtonBase,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Divider,\n  Fade,\n  fade,\n  FormControlLabel,\n  Grid,\n  IconButton,\n  InputBase,\n  PaletteType,\n  Paper,\n  Radio,\n  RadioGroup,\n  TextField,\n  ThemeProvider,\n  Toolbar,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { makeStyles, createMuiTheme } from '@material-ui/core/styles'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { Alert } from '@material-ui/lab'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport EditRoundedIcon from '@material-ui/icons/EditRounded'\nimport DeleteRoundedIcon from '@material-ui/icons/DeleteRounded'\nimport BottomDrawer from 'src/components/blocks/BottomDrawer'\nimport { HexColorPicker } from 'react-colorful'\nimport { CustomTheme } from 'src/interfaces/UserSettings'\nimport SaveRoundedIcon from '@material-ui/icons/SaveRounded'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'src/hooks'\nimport { setSettings } from 'src/store/actions/settings'\nimport { useSnackbar } from 'notistack'\nimport tinycolor from 'tinycolor2'\nimport {\n  deepPurple,\n  pink,\n  red,\n  purple,\n  indigo,\n  blue,\n  lightBlue,\n  cyan,\n  teal,\n  green,\n  lightGreen,\n  lime,\n  yellow,\n  amber,\n  orange,\n  deepOrange,\n} from '@material-ui/core/colors'\nimport { Redirect, useHistory, useParams } from 'react-router'\nimport { History } from 'history'\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\n\ninterface PaletteGridItem {\n  text: string\n  color: string\n}\n\ninterface PaletteItem {\n  title: string\n  items: PaletteGridItem[]\n}\n\ninterface ColorPickerState {\n  open: boolean\n  color?: string\n  item?: string\n}\n\nconst COLOR_PICKER_PRESET_COLORS = [\n  red[500],\n  pink[500],\n  purple[500],\n  deepPurple[500],\n  indigo[500],\n  blue[500],\n  lightBlue[500],\n  cyan[500],\n  teal[500],\n  green[500],\n  lightGreen[500],\n  lime[500],\n  yellow[500],\n  amber[500],\n  orange[500],\n  deepOrange[500],\n]\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n  },\n  section: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n  },\n  sectionHeader: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    marginBottom: theme.spacing(1.5),\n    paddingBottom: '0 !important',\n  },\n  padding: {\n    padding: theme.spacing(1.8, 2),\n  },\n  infoAlert: {\n    backgroundColor: 'rgb(0 107 204 / 7%)',\n    marginTop: theme.spacing(1.8),\n    borderRadius: 0,\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n  },\n  themeNameInput: {\n    marginTop: theme.spacing(3),\n  },\n  deleteIcon: {\n    transition: 'all 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms !important',\n    marginRight: ({\n      isAlreadySavedLocally = false,\n    }: {\n      isAlreadySavedLocally?: boolean\n    }) => (isAlreadySavedLocally ? 0 : -48),\n  },\n  code: {\n    background: getContrastPaperColor(theme),\n    padding: '3px 6px',\n    borderRadius: theme.shape.borderRadius,\n    wordBreak: 'break-word',\n  },\n}))\n\nconst usePreviewStyles = makeStyles((theme) => ({\n  box: {\n    background: theme.palette.background.default,\n    margin: theme.spacing(0, 2, 1.8, 2),\n    borderRadius: 8,\n    padding: theme.spacing(1.8, 2),\n  },\n  paper: {\n    height: 128,\n    marginBottom: theme.spacing(1.8),\n  },\n  button: {\n    marginRight: theme.spacing(2),\n    marginBottom: theme.spacing(1.8),\n  },\n  appbar: {\n    height: 49,\n    flexGrow: 1,\n    marginBottom: theme.spacing(2),\n    borderRadius: 8,\n    zIndex: 1,\n    width: '100%',\n    display: 'flex',\n    boxSizing: 'border-box',\n    flexShrink: 0,\n    flexDirection: 'column',\n  },\n  toolbar: {\n    margin: 'auto',\n    minHeight: 'unset',\n    height: 48,\n    padding: 0,\n    maxWidth: MIN_WIDTH,\n    width: '100%',\n    flexDirection: 'column',\n  },\n  headerTitle: {\n    fontWeight: 800,\n    height: '100%',\n    alignItems: 'center',\n    display: 'flex',\n    fontFamily: 'Google Sans',\n  },\n  appbarContent: {\n    display: 'flex',\n    alignItems: 'center',\n    width: `calc(100% - ${theme.spacing(2) * 2}px)`,\n    height: '100%',\n  },\n  dividerWrapper: {\n    background: theme.palette.background.paper,\n    display: 'flex',\n    width: `calc(100% - ${theme.spacing(2) * 2}px)`,\n  },\n}))\n\nconst usePaletteGridItemStyles = makeStyles((theme) => ({\n  gridItem: {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'start',\n    borderRadius: 4,\n    transition: 'all 250ms 0ms cubic-bezier(0.25, 1, 0.25, 1)',\n  },\n  box: {\n    width: 48,\n    height: 48,\n    flexShrink: 0,\n    marginRight: theme.spacing(1),\n    borderRadius: 4,\n  },\n  gridItemTitle: {\n    marginTop: theme.spacing(3),\n  },\n  textHolder: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'baseline',\n    flexGrow: 1,\n  },\n  iconHolder: {\n    display: 'flex',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: theme.spacing(0, 1),\n  },\n  icon: {\n    transform: 'scale(0.5)',\n    opacity: 0,\n    transition: 'all 250ms 0ms cubic-bezier(0.25, 1, 0.25, 1)',\n  },\n  checked: {\n    transform: 'scale(1)',\n    opacity: 1,\n  },\n  checkedBackground: {\n    background: fade(theme.palette.text.primary, 0.05),\n  },\n}))\n\nconst useColorPickerStyles = makeStyles((theme) => ({\n  picker: {\n    width: '100% !important',\n    height: '256px !important',\n    '& .react-colorful': {\n      width: '100%',\n    },\n  },\n  swatches: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    marginTop: theme.spacing(1.5),\n    marginBottom: theme.spacing(1.5),\n  },\n  swatch: {\n    width: 32,\n    height: 32,\n    margin: 4,\n    border: 'none !important',\n    padding: 0,\n    borderRadius: 4,\n    outline: 'none',\n    cursor: 'pointer',\n    '-webkit-tap-highlight-color': fade(theme.palette.divider, 0.3),\n  },\n  input: {\n    color: theme.palette.text.primary,\n    width: '100%',\n    fontWeight: 500,\n  },\n  preview: {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'start',\n    borderRadius: 4,\n    transition: 'all 250ms 0ms cubic-bezier(0.25, 1, 0.25, 1)',\n    marginBottom: theme.spacing(2),\n  },\n  box: {\n    width: 24,\n    height: 24,\n    flexShrink: 0,\n    marginRight: theme.spacing(2),\n    borderRadius: '50%',\n  },\n  inputHolder: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'baseline',\n    flexGrow: 1,\n  },\n}))\n\nconst PaletteGridItem = ({\n  title,\n  items,\n  setColorPickerState,\n}: {\n  title: string\n  items: PaletteItem['items']\n  setColorPickerState: React.Dispatch<React.SetStateAction<ColorPickerState>>\n}) => {\n  const theme = useTheme()\n  const classes = usePaletteGridItemStyles()\n  const handleClick = (item: PaletteGridItem) => {\n    setColorPickerState({\n      open: true,\n      color: item.color,\n      item: item.text,\n    })\n  }\n\n  return (\n    <>\n      <Typography gutterBottom className={classes.gridItemTitle}>\n        {title}\n      </Typography>\n      <Grid container spacing={1}>\n        {items.map((e, i) => (\n          <Grid\n            key={i}\n            item\n            xs={12}\n            sm={6}\n            md={4}\n            className={classes.gridItem}\n            component={ButtonBase}\n            onClick={() => handleClick(e)}\n          >\n            <div\n              className={classes.box}\n              style={{\n                backgroundColor: e.color,\n                border:\n                  'background.paper' === e.text ||\n                  'background.default' === e.text\n                    ? '1px solid ' + theme.palette.divider\n                    : null,\n              }}\n            />\n            <div className={classes.textHolder}>\n              <Typography variant=\"body2\">{e.text}</Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {e.color}\n              </Typography>\n            </div>\n          </Grid>\n        ))}\n      </Grid>\n    </>\n  )\n}\n\nconst paletteTextToThemeField = {\n  'primary.light': (t: CustomTheme, c: string) => {\n    t.palette.primary.light = c\n    return t\n  },\n  'primary.main': (t: CustomTheme, c: string) => {\n    t.palette.primary.main = c\n    return t\n  },\n  'primary.dark': (t: CustomTheme, c: string) => {\n    t.palette.primary.dark = c\n    return t\n  },\n  'background.paper': (t: CustomTheme, c: string) => {\n    t.palette.background.paper = c\n    return t\n  },\n  'background.default': (t: CustomTheme, c: string) => {\n    t.palette.background.default = c\n    return t\n  },\n  'text.primary': (t, c) => {\n    t.palette.text.primary = c\n    t.palette.text.secondary = fade(c, 0.54)\n    t.palette.text.disabled = fade(c, 0.38)\n    t.palette.text.hint = fade(c, 0.38)\n    return t\n  },\n}\n\nconst CustomColorfulPicker = ({ color, presetColors, onChange, ...props }) => {\n  const classes = useColorPickerStyles()\n  const hexString = useMemo(() => {\n    return color.startsWith('#') ? color : tinycolor(color).toHexString()\n  }, [color])\n\n  return (\n    <>\n      <HexColorPicker\n        className={classes.picker}\n        onChange={onChange}\n        color={hexString}\n        {...props}\n      />\n      <div className={classes.swatches}>\n        {presetColors.map((presetColor) => (\n          <button\n            key={presetColor}\n            className={classes.swatch}\n            style={{ background: presetColor }}\n            onClick={() => onChange(presetColor)}\n          />\n        ))}\n      </div>\n    </>\n  )\n}\n\nconst ColorPicker = ({\n  setState,\n  state,\n  setCurrentTheme,\n}: {\n  setState: React.Dispatch<React.SetStateAction<ColorPickerState>>\n  state: ColorPickerState\n  setCurrentTheme: React.Dispatch<React.SetStateAction<CustomTheme>>\n}) => {\n  const classes = useColorPickerStyles()\n  const theme = useTheme()\n  const [color, setColor] = useState(state.color)\n  const handleSubmit = () => {\n    setCurrentTheme((theme) =>\n      paletteTextToThemeField[state.item](theme, color)\n    )\n    setState({\n      open: false,\n    })\n  }\n  const handleCancel = () => {\n    setState({\n      open: false,\n      item: state.item,\n      color,\n    })\n  }\n  const handleInputChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setColor(event.target.value)\n  }\n\n  useEffect(() => {\n    state.open && setColor(state.color)\n  }, [state.color])\n\n  return (\n    <BottomDrawer isOpen={state.open} disableClose headerText={'Выбор цвета'}>\n      <div className={classes.preview}>\n        <div\n          className={classes.box}\n          style={{\n            backgroundColor: color,\n            border:\n              theme.palette.background.paper === color\n                ? '1px solid ' + theme.palette.divider\n                : null,\n          }}\n        />\n        <div className={classes.inputHolder}>\n          <InputBase\n            endAdornment={<EditRoundedIcon color=\"disabled\" />}\n            value={color}\n            onChange={handleInputChange}\n            className={classes.input}\n          />\n        </div>\n      </div>\n      <CustomColorfulPicker\n        presetColors={COLOR_PICKER_PRESET_COLORS}\n        color={color}\n        onChange={setColor}\n      />\n      <Grid container direction=\"row\" spacing={1}>\n        <Grid item xs={6}>\n          <Button\n            fullWidth\n            variant=\"text\"\n            disableElevation\n            onClick={handleCancel}\n          >\n            Отмена\n          </Button>\n        </Grid>\n        <Grid item xs={6}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disableElevation\n            fullWidth\n            onClick={handleSubmit}\n          >\n            Сохранить\n          </Button>\n        </Grid>\n      </Grid>\n    </BottomDrawer>\n  )\n}\n\nconst getPaletteItems = (theme: CustomTheme) => [\n  {\n    title: 'Акцент',\n    items: [\n      {\n        text: 'primary.light',\n        color: theme.palette.primary.light,\n      },\n      {\n        text: 'primary.main',\n        color: theme.palette.primary.main,\n      },\n      {\n        text: 'primary.dark',\n        color: theme.palette.primary.dark,\n      },\n    ],\n  },\n  {\n    title: 'Поверхности',\n    items: [\n      {\n        text: 'background.paper',\n        color: theme.palette.background.paper,\n      },\n      {\n        text: 'background.default',\n        color: theme.palette.background.default,\n      },\n    ],\n  },\n  {\n    title: 'Текст',\n    items: [\n      {\n        text: 'text.primary',\n        color: theme.palette.text.primary,\n      },\n    ],\n  },\n]\n\nconst PreviewBox = ({ currentTheme }: { currentTheme: CustomTheme }) => {\n  const rootClasses = useStyles({})\n  const classes = usePreviewStyles()\n  const compiledCurrentTheme = useCallback(() => createMuiTheme(currentTheme), [\n    JSON.stringify(currentTheme),\n  ])\n  const buttonVariants: ['contained', 'outlined', 'text'] = [\n    'contained',\n    'outlined',\n    'text',\n  ]\n\n  return (\n    <ThemeProvider theme={compiledCurrentTheme}>\n      <div className={rootClasses.section}>\n        <Typography\n          className={[rootClasses.sectionHeader, rootClasses.padding].join(' ')}\n        >\n          Предпросмотр\n        </Typography>\n        <div className={classes.box}>\n          <Grid container spacing={2}>\n            {[1, 3, 5].map((e, i) => (\n              <Grid item key={i} xs={4}>\n                <Paper elevation={e} className={classes.paper} />\n              </Grid>\n            ))}\n          </Grid>\n          <Paper className={classes.appbar} elevation={0}>\n            <Toolbar className={classes.toolbar}>\n              <div className={classes.appbarContent}>\n                <Typography\n                  variant=\"h6\"\n                  color=\"textPrimary\"\n                  className={classes.headerTitle}\n                >\n                  habra.\n                </Typography>\n              </div>\n              <div className={classes.dividerWrapper}>\n                <Divider style={{ width: '100%' }} />\n              </div>\n            </Toolbar>\n          </Paper>\n          <Grid container alignItems=\"center\">\n            {buttonVariants.map((e, i) => (\n              <Button\n                className={classes.button}\n                key={i}\n                variant={e}\n                color=\"primary\"\n                disableElevation\n              >\n                Кнопка\n              </Button>\n            ))}\n          </Grid>\n          <Typography color=\"textPrimary\">\n            У этого текста цвет text.primary\n          </Typography>\n          <Typography color=\"textSecondary\">\n            А у этого - text.secondary\n          </Typography>\n        </div>\n      </div>\n    </ThemeProvider>\n  )\n}\n\nconst NewTheme = ({ isEditMode = false }: { isEditMode?: boolean }) => {\n  const theme = useTheme()\n  const history = useHistory()\n  const customThemes = useSelector((store) => store.settings.customThemes)\n  const { themeType: paramsThemeType } = useParams<{ themeType: string }>()\n  const editTheme =\n    isEditMode && customThemes.find((e) => e.type === paramsThemeType)\n  const [colorPickerState, setColorPickerState] = useState<ColorPickerState>({\n    open: false,\n    color: null,\n    item: null,\n  })\n  const defaultTheme = {\n    name: 'Новая тема',\n    type: Date.now().toString(),\n    palette: {\n      type: theme.palette.type,\n      primary: {\n        main: theme.palette.primary.main,\n        light: theme.palette.primary.light,\n        dark: theme.palette.primary.dark,\n      },\n      background: {\n        paper: theme.palette.background.paper,\n        default: theme.palette.background.default,\n      },\n      text: {\n        primary: theme.palette.text.primary,\n        secondary: theme.palette.text.secondary,\n        hint: theme.palette.text.hint,\n        disabled: theme.palette.text.disabled,\n      },\n    },\n  }\n  const titleInputRef = useRef<HTMLInputElement>()\n  const [isTitleEditDialogOpen, setTitleEditDialogOpen] = useState(false)\n  const [isDeleteDialogOpen, setDeleteDialogOpen] = useState(false)\n  const [isSaveDialogOpen, setSaveDialogOpen] = useState(false)\n  const [hasBeenEdited, setHasBeenEdited] = useState<boolean>(false)\n  const [currentTheme, setCurrentThemeUnwrapped] = useState<CustomTheme>(\n    isEditMode ? editTheme : defaultTheme\n  )\n  const dispatch = useDispatch()\n  const { enqueueSnackbar } = useSnackbar()\n  const paletteItems = React.useMemo(() => getPaletteItems(currentTheme), [\n    JSON.stringify(currentTheme),\n  ])\n  const isAlreadySavedLocally = React.useMemo(\n    () => customThemes.some((e) => e.type === currentTheme.type),\n    [customThemes]\n  )\n  const classes = useStyles({ isAlreadySavedLocally })\n  const setCurrentTheme: React.Dispatch<React.SetStateAction<CustomTheme>> = (\n    ...props\n  ) => {\n    !hasBeenEdited && setHasBeenEdited(true)\n    setCurrentThemeUnwrapped(...props)\n  }\n\n  if (isEditMode && !editTheme) {\n    return <Redirect to=\"/settings/appearance\" />\n  }\n\n  const handleSaveClick = () => {\n    const newCustomThemes = [...customThemes]\n    if (isAlreadySavedLocally) {\n      const themeIndex = newCustomThemes.findIndex(\n        (e) => e.type === currentTheme.type\n      )\n      newCustomThemes.splice(themeIndex, 1, currentTheme)\n    } else {\n      newCustomThemes.push(currentTheme)\n    }\n\n    dispatch(\n      setSettings({\n        customThemes: newCustomThemes,\n      })\n    )\n    setHasBeenEdited(false)\n    enqueueSnackbar('Тема сохранена', {\n      variant: 'success',\n      autoHideDuration: 3000,\n    })\n  }\n  const handleSaveDialogCancel = () => setSaveDialogOpen(false)\n  const handleSaveDialogDelete = () => {\n    setSaveDialogOpen(false)\n    history.goBack()\n  }\n  const handleSaveDialogSubmit = () => {\n    handleSaveClick()\n    setSaveDialogOpen(false)\n    history.goBack()\n  }\n  const handleDeleteClick = () => setDeleteDialogOpen(true)\n  const handleDeleteDialogCancel = () => setDeleteDialogOpen(false)\n  const handleDeleteDialogSubmit = () => {\n    const newCustomThemes = [...customThemes]\n    const themeIndex = newCustomThemes.findIndex(\n      (e) => e.type === currentTheme.type\n    )\n    newCustomThemes.splice(themeIndex, 1)\n    dispatch(\n      setSettings({\n        customThemes: newCustomThemes,\n        themeType: 'light',\n      })\n    )\n    enqueueSnackbar('Тема удалена', {\n      variant: 'success',\n      autoHideDuration: 3000,\n    })\n    setDeleteDialogOpen(false)\n    history.goBack()\n  }\n  const handleTitleEditClick = () => setTitleEditDialogOpen(true)\n  const handleTitleEditDialogCancel = () => setTitleEditDialogOpen(false)\n  const handleTitleEditDialogSubmit = () => {\n    if (titleInputRef.current.value) {\n      setCurrentTheme((prev) => ({\n        ...prev,\n        name: titleInputRef.current.value,\n      }))\n      setTitleEditDialogOpen(false)\n    }\n  }\n  const handleThemeTypeChange = (_event, type: string) => {\n    setCurrentTheme((prev) => ({\n      ...prev,\n      palette: {\n        ...prev.palette,\n        type: type as PaletteType,\n      },\n    }))\n  }\n\n  const toolbarIcons = (\n    <>\n      <IconButton onClick={handleTitleEditClick}>\n        <EditRoundedIcon />\n      </IconButton>\n      <IconButton onClick={handleSaveClick} disabled={!hasBeenEdited}>\n        <SaveRoundedIcon />\n      </IconButton>\n      <Fade in={isAlreadySavedLocally}>\n        <IconButton onClick={handleDeleteClick} className={classes.deleteIcon}>\n          <DeleteRoundedIcon />\n        </IconButton>\n      </Fade>\n\n      {/** Title edit Dialog */}\n      <Dialog\n        open={isTitleEditDialogOpen}\n        onClose={handleTitleEditDialogCancel}\n      >\n        <DialogTitle>Название темы</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Название будет отображаться в настройках рядом с темами по\n            умолчанию. Это название можно будет поменять.\n          </DialogContentText>\n          <TextField\n            inputRef={titleInputRef}\n            autoFocus\n            margin=\"dense\"\n            name=\"title\"\n            label=\"Название темы\"\n            type=\"text\"\n            autoComplete=\"off\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleTitleEditDialogCancel} color=\"primary\">\n            Отмена\n          </Button>\n          <Button color=\"primary\" onClick={handleTitleEditDialogSubmit}>\n            Сохранить\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/** Delete theme Dialog */}\n      <Dialog open={isDeleteDialogOpen} onClose={handleDeleteDialogCancel}>\n        <DialogTitle>Удалить тему</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Созданную тему будет невозможно восстановить. Вы точно хотите её\n            удалить?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDeleteDialogCancel} color=\"primary\">\n            Отмена\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            disableElevation\n            onClick={handleDeleteDialogSubmit}\n          >\n            Удалить\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n\n  const onBackClick = (\n    backLinkFunction: (history: History<unknown>) => void\n  ) => {\n    // We need to update current theme if it was edited, so colors will be updated\n    if (hasBeenEdited && isEditMode) {\n      dispatch(\n        setSettings({\n          themeType: currentTheme.type,\n        })\n      )\n    }\n\n    // If the theme was edited, but user wants to exit, show saving warning dialog\n    if (hasBeenEdited) {\n      setSaveDialogOpen(true)\n    } else {\n      // Otherwise, exit the page.\n      backLinkFunction(history)\n    }\n  }\n\n  return (\n    <OutsidePage\n      hidePositionBar\n      disableShrinking\n      headerText={currentTheme.name}\n      backgroundColor={theme.palette.background.paper}\n      toolbarIcons={toolbarIcons}\n      onBackClick={(backLinkFunction) =>\n        onBackClick(backLinkFunction.bind(history))\n      }\n    >\n      <div className={classes.root}>\n        {/** Save theme Dialog */}\n        <Dialog open={isSaveDialogOpen} onClose={handleSaveDialogCancel}>\n          <DialogTitle>Cохранение</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              Остались несохранённые изменения, сохранить? Нажмите{' '}\n              <code className={classes.code}>Esc</code>, чтобы отменить.\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleSaveDialogDelete} color=\"primary\">\n              Выйти без изменений\n            </Button>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              disableElevation\n              onClick={handleSaveDialogSubmit}\n            >\n              Сохранить\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Alert severity=\"info\" className={classes.infoAlert}>\n          Чтобы поменять цвет в теме, нажмите на его поле, а затем выберите\n          нужный цвет.\n        </Alert>\n        <PreviewBox currentTheme={currentTheme} />\n        <div className={classes.section}>\n          <div className={classes.padding}>\n            <Typography className={classes.sectionHeader}>Палитра</Typography>\n            <div>\n              <Typography gutterBottom>Тип темы</Typography>\n              <RadioGroup\n                value={currentTheme.palette.type}\n                onChange={handleThemeTypeChange}\n              >\n                <FormControlLabel\n                  value=\"light\"\n                  control={<Radio color=\"primary\" />}\n                  label={'Светлая'}\n                />\n                <FormControlLabel\n                  value=\"dark\"\n                  control={<Radio color=\"primary\" />}\n                  label={'Тёмная'}\n                />\n              </RadioGroup>\n              {paletteItems.map((e, i) => (\n                <PaletteGridItem\n                  key={i}\n                  items={e.items}\n                  title={e.title}\n                  setColorPickerState={setColorPickerState}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n        <ColorPicker\n          setCurrentTheme={setCurrentTheme}\n          state={colorPickerState}\n          setState={setColorPickerState}\n        />\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(NewTheme)\n","import React, { useEffect, useRef } from 'react'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { fade, makeStyles } from '@material-ui/core/styles'\nimport { MIN_WIDTH, THREAD_LEVEL } from 'src/config/constants'\nimport { useSelector } from 'src/hooks'\nimport { useDispatch } from 'react-redux'\nimport {\n  ListItem,\n  ListItemText,\n  rgbToHex,\n  Switch,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { setSettings } from 'src/store/actions/settings'\nimport { useLocation } from 'react-router'\nimport blend from 'src/utils/blendColors'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  section: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  sectionHeader: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    paddingBottom: 0,\n    padding: theme.spacing(1.8, 2),\n  },\n  highlight: {\n    animation: `$highlight 750ms ${theme.transitions.easing.easeOut}`,\n  },\n  '@keyframes highlight': {\n    from: {\n      backgroundColor: blend(\n        rgbToHex(theme.palette.primary.light),\n        rgbToHex(theme.palette.background.paper),\n        0.7\n      ),\n    },\n  },\n}))\n\nconst SwitchButton: React.FC<{\n  primary: string\n  secondary?: string\n  checked: boolean\n  onChange: () => void\n}> = ({ primary, secondary, checked, onChange }) => {\n  return (\n    <ListItem button onClick={() => onChange()}>\n      <ListItemText primary={primary} secondary={secondary} />\n      <Switch disableRipple checked={checked} color=\"primary\" />\n    </ListItem>\n  )\n}\n\nconst Interface = () => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const userSettings = useSelector((store) => store.settings)\n  const dispatch = useDispatch()\n  const sectionRefs = {\n    comments: useRef<HTMLDivElement>(),\n    feed: useRef<HTMLDivElement>(),\n  }\n  const setInterfaceSettings = (\n    field: 'interfaceFeed' | 'interfaceComments',\n    type: string,\n    value: unknown\n  ) => {\n    dispatch(\n      setSettings({\n        [field]: {\n          ...userSettings[field],\n          [type]: value,\n        },\n      })\n    )\n  }\n  const location = useLocation<{ highlightSection: 'comments' | 'feed' }>()\n\n  useEffect(() => {\n    if (location.state.highlightSection) {\n      sectionRefs[location.state.highlightSection].current.className = [\n        classes.section,\n        classes.highlight,\n      ].join(' ')\n    }\n  }, [])\n\n  return (\n    <OutsidePage\n      headerText={'Настройки интерфейса'}\n      disableShrinking\n      backgroundColor={theme.palette.background.paper}\n    >\n      <div className={classes.root}>\n        <div className={classes.section} ref={sectionRefs.feed}>\n          <Typography className={classes.sectionHeader}>Лента</Typography>\n          <SwitchButton\n            primary={'Компактный вид ленты'}\n            secondary={'В блоках не будет показан текст до ката'}\n            checked={userSettings.interfaceFeed.isCompact}\n            onChange={() =>\n              setInterfaceSettings(\n                'interfaceFeed',\n                'isCompact',\n                !userSettings.interfaceFeed.isCompact\n              )\n            }\n          />\n          <SwitchButton\n            primary={'Убрать картинки в ленте'}\n            secondary={'В превью статьи не будет показана картинка'}\n            checked={userSettings.interfaceFeed.disablePostImage}\n            onChange={() =>\n              setInterfaceSettings(\n                'interfaceFeed',\n                'disablePostImage',\n                !userSettings.interfaceFeed.disablePostImage\n              )\n            }\n          />\n          <SwitchButton\n            primary={'Скрыть мегапосты'}\n            secondary={\n              'На главной странице не будет отображаться блок с мегапостами'\n            }\n            checked={userSettings.interfaceFeed.hideMegaposts}\n            onChange={() =>\n              setInterfaceSettings(\n                'interfaceFeed',\n                'hideMegaposts',\n                !userSettings.interfaceFeed.hideMegaposts\n              )\n            }\n          />\n          <SwitchButton\n            primary={'Скрыть новости'}\n            secondary={\n              'На главной странице не будет отображаться блок с новостями'\n            }\n            checked={userSettings.interfaceFeed.hideNewsBlock}\n            onChange={() =>\n              setInterfaceSettings(\n                'interfaceFeed',\n                'hideNewsBlock',\n                !userSettings.interfaceFeed.hideNewsBlock\n              )\n            }\n          />\n        </div>\n        <div className={classes.section} ref={sectionRefs.comments}>\n          <Typography className={classes.sectionHeader}>Комментарии</Typography>\n          <SwitchButton\n            primary={'Включить ветки'}\n            secondary={`Комментарии, чья степень вложенности больше ${THREAD_LEVEL}, будут спрятаны в ветку`}\n            checked={userSettings.interfaceComments.showThreads}\n            onChange={() =>\n              setInterfaceSettings(\n                'interfaceComments',\n                'showThreads',\n                !userSettings.interfaceComments.showThreads\n              )\n            }\n          />\n          <SwitchButton\n            primary={'Сортировать по карме'}\n            checked={userSettings.interfaceComments.sortByKarma}\n            onChange={() =>\n              setInterfaceSettings(\n                'interfaceComments',\n                'sortByKarma',\n                !userSettings.interfaceComments.sortByKarma\n              )\n            }\n          />\n        </div>\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Interface)\n","import React, { useState, useRef } from 'react'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { fade, makeStyles } from '@material-ui/core/styles'\nimport { MIN_WIDTH, READER_FONT_FAMILIES } from 'src/config/constants'\nimport { useSelector } from 'src/hooks'\nimport { useDispatch } from 'react-redux'\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  FormControlLabel,\n  Grid,\n  Input,\n  ListItem,\n  ListItemText,\n  Radio,\n  RadioGroup,\n  Slider,\n  Switch,\n  TextField,\n  Theme,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { setSettings } from 'src/store/actions/settings'\nimport { UserSettings } from 'src/interfaces'\nimport FormattedText from 'src/components/formatters/FormattedText'\n\nconst useStyles = makeStyles<\n  Theme,\n  { readerSettings: UserSettings['readerSettings'] }\n>((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  section: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  sectionHeader: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    paddingBottom: 0,\n    padding: theme.spacing(1.8, 2),\n  },\n  previewBox: {\n    background: theme.palette.background.default,\n    margin: theme.spacing(1.8, 2),\n    borderRadius: 8,\n    padding: theme.spacing(1.8, 2),\n    '& p': {\n      margin: 0,\n      fontSize: ({ readerSettings }) => readerSettings.fontSize,\n      fontFamily: ({ readerSettings }) => readerSettings.fontFamily,\n    },\n    '& p+p': {\n      marginTop: theme.spacing(3),\n    },\n  },\n}))\n\nconst previewText = `\n  <p>\n    Это случилось: Хабр получил новый дизайн в стиле остальных\n    ТМ-продуктов.\n  </p>\n  <p>\n    Вообще-то я люблю перемены, и редизайн привычных вещей вызывает в\n    первую очередь оптимизм. Это как перестановка мебели в квартире:\n    обстановочку освежать надо. Но помимо приятного чувства новизны\n    некоторые изменения вызывают вопросы. Понятно, что Хабр уже не\n    торт и мы всегда будем помнить его тёплое ламповое старое лого, но\n    я хочу поговорить про то, что можно оценить вполне объективно —\n    про юзабилити нового хабрадизайна.\n  </p>\n`\n\nconst SwitchButton: React.FC<{\n  primary: React.ReactNode\n  secondary?: React.ReactNode\n  checked: boolean\n  onChange: () => void\n}> = ({ primary, secondary, checked, onChange }) => {\n  return (\n    <ListItem button onClick={() => onChange()}>\n      <ListItemText primary={primary} secondary={secondary} />\n      <Switch disableRipple checked={checked} color=\"primary\" />\n    </ListItem>\n  )\n}\n\nconst Reader = () => {\n  const theme = useTheme()\n  const readerSettings = useSelector((store) => store.settings.readerSettings)\n  const classes = useStyles({ readerSettings })\n  const fontSizeInputRef = useRef<HTMLInputElement>()\n  const [isFontSizeDialogOpen, setFontSizeDialogOpen] = useState(false)\n  const [isFontFamilyDialogOpen, setFontFamilyDialogOpen] = useState(false)\n  const [fontFamilyRadioValue, setFontFamilyRadioValue] = useState(\n    readerSettings.fontFamily\n  )\n  const radioGroupRef = React.useRef<HTMLElement>(null)\n  const dispatch = useDispatch()\n  const setReaderSettings = (field: string, value: unknown) => {\n    dispatch(\n      setSettings({\n        readerSettings: {\n          ...readerSettings,\n          [field]: value,\n        },\n      })\n    )\n  }\n  const handleFontSizeDialogCancel = () => setFontSizeDialogOpen(false)\n  const handleFontFamilyDialogCancel = () => setFontFamilyDialogOpen(false)\n  const handleFontSizeDialogSubmit = () => {\n    setReaderSettings(\n      'fontSize',\n      parseInt(fontSizeInputRef.current.value, 10) || readerSettings.fontSize\n    )\n    setFontSizeDialogOpen(false)\n  }\n  const handleFontFamilyDialogSubmit = () => {\n    setReaderSettings('fontFamily', fontFamilyRadioValue)\n    setFontFamilyDialogOpen(false)\n  }\n  const handleFontFamilyRadioValueChange = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setFontFamilyRadioValue((event.target as HTMLInputElement).value)\n  }\n\n  return (\n    <OutsidePage\n      headerText={'Параметры чтения'}\n      disableShrinking\n      backgroundColor={theme.palette.background.paper}\n    >\n      <div className={classes.root}>\n        <div className={classes.section}>\n          <Typography className={classes.sectionHeader}>\n            Предпросмотр\n          </Typography>\n          <div className={classes.previewBox}>\n            <FormattedText>{previewText}</FormattedText>\n          </div>\n        </div>\n        <div className={classes.section}>\n          <Dialog\n            open={isFontSizeDialogOpen}\n            onClose={handleFontSizeDialogCancel}\n          >\n            <DialogTitle>Размер шрифта</DialogTitle>\n            <DialogContent>\n              <TextField\n                label=\"Размер в px\"\n                inputRef={fontSizeInputRef}\n                defaultValue={readerSettings.fontSize}\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleFontSizeDialogCancel} color=\"primary\">\n                Отмена\n              </Button>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                disableElevation\n                onClick={handleFontSizeDialogSubmit}\n              >\n                Сохранить\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          <Dialog\n            open={isFontFamilyDialogOpen}\n            onClose={handleFontFamilyDialogCancel}\n          >\n            <DialogTitle>Шрифт</DialogTitle>\n            <DialogContent dividers>\n              <RadioGroup\n                ref={radioGroupRef}\n                aria-label=\"font-family\"\n                name=\"font-family\"\n                value={fontFamilyRadioValue}\n                onChange={handleFontFamilyRadioValueChange}\n              >\n                {READER_FONT_FAMILIES.map((e) => (\n                  <FormControlLabel\n                    value={e}\n                    key={e}\n                    control={<Radio color=\"primary\" />}\n                    label={e}\n                  />\n                ))}\n              </RadioGroup>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleFontFamilyDialogCancel} color=\"primary\">\n                Отмена\n              </Button>\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                disableElevation\n                onClick={handleFontFamilyDialogSubmit}\n              >\n                Сохранить\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          <Typography className={classes.sectionHeader}>Текст</Typography>\n          <ListItem button onClick={() => setFontSizeDialogOpen(true)}>\n            <ListItemText\n              primary={'Размер шрифта'}\n              secondary={readerSettings.fontSize + 'px'}\n            />\n          </ListItem>\n          <ListItem button onClick={() => setFontFamilyDialogOpen(true)}>\n            <ListItemText\n              primary={'Шрифт'}\n              secondary={readerSettings.fontFamily}\n            />\n          </ListItem>\n        </div>\n        <div className={classes.section}>\n          <Typography className={classes.sectionHeader}>Параметры</Typography>\n          <SwitchButton\n            primary={\n              <>\n                Заменять ссылки с{' '}\n                <Typography component=\"span\" color=\"primary\">\n                  habr.com\n                </Typography>{' '}\n                на{' '}\n                <Typography component=\"span\" color=\"primary\">\n                  habra.vercel.app\n                </Typography>\n              </>\n            }\n            checked={readerSettings.changeLinks}\n            onChange={() => {\n              setReaderSettings('changeLinks', !readerSettings.changeLinks)\n            }}\n          />\n        </div>\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Reader)\n","import React from 'react'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { fade, makeStyles } from '@material-ui/core/styles'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport { useSelector } from 'src/hooks'\nimport { useDispatch } from 'react-redux'\nimport {\n  ListItem,\n  ListItemText,\n  Switch,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { setSettings } from 'src/store/actions/settings'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  section: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  sectionHeader: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    paddingBottom: 0,\n    padding: theme.spacing(1.8, 2),\n  },\n  link: {\n    textDecoration: 'none',\n    color: theme.palette.primary.light,\n    '&:hover': {\n      textDecoration: 'underline',\n    },\n  },\n  padding: {\n    padding: theme.spacing(1.8, 2),\n  },\n}))\n\nconst Privacy = () => {\n  const theme = useTheme()\n  const classes = useStyles()\n  const cookiesPreferences = useSelector(\n    (store) => store.settings.cookiesPreferences\n  )\n  const dispatch = useDispatch()\n  const switchDisableCookies = () => {\n    dispatch(\n      setSettings({\n        cookiesPreferences: {\n          ...cookiesPreferences,\n          disableCookies: !cookiesPreferences.disableCookies,\n        },\n      })\n    )\n  }\n\n  return (\n    <OutsidePage\n      headerText={'Приватность'}\n      disableShrinking\n      backgroundColor={theme.palette.background.paper}\n    >\n      <div className={classes.root}>\n        <div className={classes.section}>\n          <Typography className={classes.sectionHeader}>Аналитика</Typography>\n          <ListItem button onClick={switchDisableCookies}>\n            <ListItemText\n              primary={'Отключить куки'}\n              secondary={\n                'Отключает создание куки со стороны Matomo (Piwik). Перезагрузите страницу, чтобы изменения вступили в силу.'\n              }\n            />\n            <Switch\n              disableRipple\n              checked={cookiesPreferences.disableCookies}\n              color=\"primary\"\n            />\n          </ListItem>\n          <div className={classes.padding}>\n            <Typography variant=\"body2\">\n              Мы используем{' '}\n              <a\n                className={classes.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://matomo.org/\"\n              >\n                Matomo\n              </a>\n              , чтобы собирать статистику посещений приложения.\n            </Typography>\n            <Typography style={{ marginTop: 4 }} variant=\"body2\">\n              На серевере включена{' '}\n              <a\n                className={classes.link}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://matomo.org/docs/privacy-how-to/#step-1-automatically-anonymize-visitor-ips\"\n              >\n                анонимизация IP-адресов\n              </a>\n              . Ваши данные никогда не будут передаваться третьим лицам.\n            </Typography>\n          </div>\n        </div>\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Privacy)\n","import React from 'react'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  LANGUAGES_FEED,\n  LANGUAGES_INTERFACE,\n  MIN_WIDTH,\n} from 'src/config/constants'\nimport {\n  FormControlLabel,\n  Radio,\n  RadioGroup,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { useSelector } from 'src/hooks'\nimport { useDispatch } from 'react-redux'\nimport { setSettings } from 'src/store/actions/settings'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  section: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n    position: 'relative',\n    overflow: 'hidden',\n    padding: theme.spacing(1.8, 2),\n  },\n  sectionHeader: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    paddingBottom: theme.spacing(1),\n  },\n}))\n\nconst Language = () => {\n  const theme = useTheme()\n  const classes = useStyles()\n  const { t, i18n } = useTranslation()\n  const languageSettings = useSelector((store) => store.settings.language)\n  const dispatch = useDispatch()\n  const setLanguageSettings = (field: string, value: unknown) => {\n    dispatch(\n      setSettings({\n        language: {\n          ...languageSettings,\n          [field]: value,\n        },\n      })\n    )\n  }\n\n  const handleInterfaceLanguageChange = (\n    _event: React.ChangeEvent<HTMLInputElement>,\n    value: string\n  ) => {\n    setLanguageSettings('interface', value)\n    i18n.changeLanguage(value)\n  }\n  const handleFeedLanguageChange = (\n    _event: React.ChangeEvent<HTMLInputElement>,\n    value: string\n  ) => {\n    setLanguageSettings('feed', value)\n  }\n\n  return (\n    <OutsidePage\n      headerText={t`pages.SettingsLanguage.pageTitle`}\n      disableShrinking\n      backgroundColor={theme.palette.background.paper}\n    >\n      <div className={classes.root}>\n        <div className={classes.section}>\n          <Typography\n            className={classes.sectionHeader}\n          >{t`pages.SettingsLanguage.interface`}</Typography>\n          <RadioGroup\n            aria-label=\"language-interface\"\n            name=\"language-interface\"\n            value={languageSettings.interface}\n            onChange={handleInterfaceLanguageChange}\n          >\n            {LANGUAGES_INTERFACE.map(({ name, type }) => (\n              <FormControlLabel\n                value={type}\n                key={type}\n                control={<Radio color=\"primary\" />}\n                label={name}\n              />\n            ))}\n          </RadioGroup>\n        </div>\n        <div className={classes.section}>\n          <Typography\n            className={classes.sectionHeader}\n          >{t`pages.SettingsLanguage.publications`}</Typography>\n          <RadioGroup\n            aria-label=\"language-feed\"\n            name=\"language-feed\"\n            value={languageSettings.feed}\n            onChange={handleFeedLanguageChange}\n          >\n            {LANGUAGES_FEED.map(({ name, type }) => (\n              <FormControlLabel\n                value={type}\n                key={type}\n                control={<Radio color=\"primary\" />}\n                label={name}\n              />\n            ))}\n          </RadioGroup>\n        </div>\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Language)\n","export default (textHtml: string) => {\n  const imageURLRegEx = /<img[^>]+src=\"?([^\"\\s]+)\"?\\s*/g\n  const imageURLRegExResults = imageURLRegEx.exec(textHtml)\n  return imageURLRegExResults\n}\n","import * as React from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport ThumbsUpDownIcon from '@material-ui/icons/ThumbsUpDown'\r\nimport VisibilityIcon from '@material-ui/icons/Visibility'\r\nimport BookmarkIcon from '@material-ui/icons/Bookmark'\r\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble'\r\nimport { CircularProgress } from '@material-ui/core'\r\nimport { makeStyles, darken, lighten } from '@material-ui/core/styles'\r\nimport formatNumber from 'src/utils/formatNumber'\r\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\r\nimport dayjs from 'dayjs'\r\nimport parse from 'html-react-parser'\r\nimport { Post } from 'src/interfaces'\r\nimport UserAvatar from './UserAvatar'\r\nimport {\r\n  DEFAULT_POST_ITEM_HEIGHT,\r\n  MIN_WIDTH,\r\n  POST_IMAGE_HEIGHT,\r\n  POST_ITEM_VISIBILITY_THRESHOLD,\r\n} from 'src/config/constants'\r\nimport LazyLoadImage from './LazyLoadImage'\r\nimport { useSelector } from 'src/hooks'\r\nimport RightIcon from '@material-ui/icons/ChevronRightRounded'\r\nimport { Button, Chip, fade, Theme } from '@material-ui/core'\r\nimport { POST_LABELS } from 'src/config/constants'\r\nimport getPostLink from 'src/utils/getPostLink'\r\nimport VisibilitySensor from 'react-visibility-sensor'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport OutsidePageLocationState from 'src/interfaces/OutsidePageLocationState'\r\nimport LinkToOutsidePage from './LinkToOutsidePage'\r\nimport isDarkTheme from 'src/utils/isDarkTheme'\r\nimport FormattedText from '../formatters/FormattedText'\r\nimport getImagesFromText from 'src/utils/getImagesFromText'\r\nimport { useSnackbar } from 'notistack'\r\nimport setArticleBookmark from 'src/api/setArticleBookmark'\r\nimport { useEffect } from 'react'\r\n\r\nconst ld = (theme: Theme) => (isDarkTheme(theme) ? darken : lighten)\r\nconst useStyles = makeStyles<\r\n  Theme,\r\n  {\r\n    hasImage: boolean\r\n    isExtended: boolean\r\n  }\r\n>((theme) => ({\r\n  noDeco: {\r\n    textDecoration: 'none !important',\r\n  },\r\n  placeholder: {\r\n    height: DEFAULT_POST_ITEM_HEIGHT,\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    backgroundColor: theme.palette.background.paper,\r\n    marginBottom: 12,\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      borderRadius: 8,\r\n    },\r\n  },\r\n  leadText: {\r\n    padding: theme.spacing(0, 2),\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  postLink: {\r\n    color: theme.palette.text.primary,\r\n    '&:visited': {\r\n      color: ld(theme)(theme.palette.text.primary, 0.4),\r\n    },\r\n    padding: theme.spacing(0, 2),\r\n    fontWeight: 800,\r\n    fontFamily: '\"Google Sans\"',\r\n    fontSize: 20,\r\n    marginTop: ({ hasImage }) => (hasImage ? 0 : theme.spacing(1)),\r\n    '& .searched-item': {\r\n      color: theme.palette.primary.light, // Highlight the search query in post's title\r\n    },\r\n  },\r\n  paper: {\r\n    background: theme.palette.background.paper,\r\n    borderRadius: 0,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: theme.spacing(1.5),\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      borderRadius: 8,\r\n    },\r\n  },\r\n  padding: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  imageHolder: {\r\n    maxWidth: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    height: ({ hasImage }) => (hasImage ? POST_IMAGE_HEIGHT : '100%'),\r\n    marginBottom: ({ hasImage }) => (hasImage ? theme.spacing(2) : 0),\r\n    background: theme.palette.action.hover,\r\n  },\r\n  image: {\r\n    maxWidth: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n    width: '100vw',\r\n  },\r\n  leadImageWrapper: {\r\n    marginBottom: theme.spacing(2),\r\n    maxHeight: 500,\r\n    objectFit: 'cover',\r\n    paddingBottom: '56.4103%',\r\n    position: 'relative',\r\n    width: '100%',\r\n  },\r\n  leadImage: {\r\n    maxWidth: '100%',\r\n    height: '100%',\r\n    borderRadius: 4,\r\n    position: 'absolute',\r\n    objectFit: 'cover',\r\n    width: '100%',\r\n    objectPosition: '0% 0%',\r\n  },\r\n  leadButton: {\r\n    textTransform: 'none',\r\n    borderRadius: 6,\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  postAuthor: {\r\n    color: theme.palette.primary.light,\r\n    marginRight: theme.spacing(1),\r\n    fontWeight: 800,\r\n  },\r\n  postTs: {\r\n    color: theme.palette.text.hint,\r\n    flexGrow: 1,\r\n  },\r\n  postAvatar: {\r\n    width: theme.spacing(2.5),\r\n    height: theme.spacing(2.5),\r\n    marginRight: theme.spacing(1),\r\n    borderRadius: 4,\r\n  },\r\n  postBottomRow: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    [theme.breakpoints.up(765)]: {\r\n      maxWidth: 400,\r\n    },\r\n  },\r\n  postBottomRowItem: {\r\n    color: theme.palette.text.hint,\r\n    textDecoration: 'none',\r\n    padding: ({ hasImage }) => theme.spacing(hasImage ? 2 : 1.5, 0, 2, 0),\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontWeight: 600,\r\n    '-webkit-tap-highlight-color': fade(theme.palette.background.paper, 0.3),\r\n  },\r\n  postBottomRowItemIcon: {\r\n    fontSize: 16,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  postBottomRowItemText: {\r\n    fontSize: 13,\r\n    fontWeight: 600,\r\n  },\r\n  avatarContainer: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    textDecoration: 'none !important',\r\n    paddingBottom: ({ hasImage, isExtended }) => {\r\n      if (isExtended) return theme.spacing(1)\r\n      else if (hasImage) return theme.spacing(2)\r\n      else return 0\r\n    },\r\n  },\r\n  trollText: {\r\n    color: theme.palette.text.hint,\r\n    fontFamily: 'Google Sans',\r\n    fontWeight: 500,\r\n    flexGrow: 1,\r\n  },\r\n  trollLink: {\r\n    color: theme.palette.primary.main,\r\n    fontFamily: 'Google Sans',\r\n    fontWeight: 500,\r\n    textDecoration: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  labelsContainer: {\r\n    padding: theme.spacing(0, 2),\r\n  },\r\n  postTypeVoice: {\r\n    color: theme.palette.error.light,\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  hubs: {\r\n    wordBreak: 'break-word',\r\n    marginBottom: theme.spacing(0.5),\r\n    padding: theme.spacing(0, 2),\r\n  },\r\n  hubLink: {\r\n    color: theme.palette.text.hint,\r\n    fontFamily: 'Roboto',\r\n    fontWeight: 400,\r\n    fontSize: 13,\r\n    transitionDuration: '100ms',\r\n    textDecoration: 'none',\r\n    '&:hover': {\r\n      color: theme.palette.primary.light,\r\n    },\r\n    ...theme.typography.body2,\r\n  },\r\n  hubWrapper: {\r\n    color: theme.palette.text.hint,\r\n    '&::after': {\r\n      content: '\",\\u2004\"',\r\n    },\r\n    '&:last-child::after': {\r\n      content: '\"\"',\r\n    },\r\n  },\r\n}))\r\n\r\ninterface BottomRowItemType {\r\n  icon: JSX.Element\r\n  text: string | number\r\n  coloredText?: boolean\r\n  number?: number\r\n  isActive?: boolean\r\n  action?: () => void\r\n}\r\n\r\nexport const PostItem = ({\r\n  post,\r\n  style,\r\n  hideImage: hideImageProp = false,\r\n  setPostItemSize,\r\n  getPostItemSize = () => DEFAULT_POST_ITEM_HEIGHT,\r\n}: {\r\n  post?: Post\r\n  style?: Record<string, unknown>\r\n  hideImage?: boolean\r\n  setPostItemSize?: (id: number | string, size: number) => void\r\n  getPostItemSize?: (id?: number | string) => number\r\n}) => {\r\n  const isExtended = useSelector(\r\n    (store) => !store.settings.interfaceFeed.isCompact\r\n  )\r\n  const disablePostImage = useSelector(\r\n    (store) => store.settings.interfaceFeed.disablePostImage\r\n  )\r\n  const hideImage = hideImageProp || disablePostImage\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const { titleHtml: unparsedTitle, statistics, postFirstImage, leadData } =\r\n    post || {}\r\n  const hasImagesInLeadText = !!getImagesFromText(leadData.textHtml)\r\n  const classes = useStyles({\r\n    hasImage: (!!postFirstImage || hasImagesInLeadText) && !hideImage,\r\n    isExtended,\r\n  })\r\n\r\n  /**\r\n   * Post with postType 'voice' needs just a title to be shown.\r\n   * Example: https://habr.com/ru/search/?q=%D1%81%D0%B8%D1%81#h\r\n   * */\r\n  if (post.postType === 'voice') {\r\n    return (\r\n      <Paper elevation={0} className={classes.paper} style={style}>\r\n        <Typography\r\n          className={[\r\n            classes.postLink,\r\n            classes.noDeco,\r\n            classes.postTypeVoice,\r\n          ].join(' ')}\r\n        >\r\n          {leadData.textHtml}\r\n        </Typography>\r\n      </Paper>\r\n    )\r\n  }\r\n\r\n  const hiddenAuthors = useSelector((state) => state.settings.hiddenAuthors)\r\n  const hiddenCompanies = useSelector((state) => state.settings.hiddenCompanies)\r\n  const postBookmarked = post?.relatedData?.bookmarked\r\n  const [isBookmarked, setBookmarkState] = React.useState<boolean>(\r\n    postBookmarked\r\n  )\r\n  const [\r\n    isFetchingBookmarkResponse,\r\n    setIsFetchingBookmarkResponse,\r\n  ] = React.useState(false)\r\n  const [isRendered, setIsRendered] = React.useState(false)\r\n  const history = useHistory<OutsidePageLocationState>()\r\n  const location = useLocation()\r\n  const currentLocation = location.pathname\r\n  const ts = dayjs(post.timePublished).calendar().toLowerCase()\r\n  const { alias, avatarUrl } = post.author\r\n  const {\r\n    readingCount,\r\n    favoritesCount,\r\n    commentsCount,\r\n    score: unformattedScore,\r\n  } = statistics\r\n  const score = formatNumber(unformattedScore)\r\n  const title = parse(unparsedTitle)\r\n  const reads = formatNumber(readingCount)\r\n  let favoritesCountAddAmount = 0\r\n  if (postBookmarked) {\r\n    favoritesCountAddAmount = isBookmarked ? 0 : -1\r\n  } else {\r\n    favoritesCountAddAmount = isBookmarked ? 1 : 0\r\n  }\r\n  const favorites = formatNumber(favoritesCount + favoritesCountAddAmount)\r\n  const comments = formatNumber(Number(commentsCount))\r\n  const isCorporative = post.isCorporative\r\n  const companyAlias = isCorporative\r\n    ? post.hubs.find((e) => e.type === 'corporative').alias\r\n    : null\r\n  const authData = useSelector((store) => store.auth.authData.data)\r\n  const authorizedRequestData = useSelector(\r\n    (store) => store.auth.authorizedRequestData\r\n  )\r\n  const rootRef = React.useRef<HTMLDivElement>()\r\n  const placeholderStyles = React.useMemo(\r\n    () => ({ height: getPostItemSize(post.id) }),\r\n    [getPostItemSize]\r\n  )\r\n  const postLink = getPostLink(post)\r\n  const shouldShowPostImage = postFirstImage && !hideImage && !isExtended\r\n  const bottomRow: BottomRowItemType[] = [\r\n    {\r\n      icon: <ThumbsUpDownIcon className={classes.postBottomRowItemIcon} />,\r\n      text: score,\r\n      coloredText: true,\r\n      number: unformattedScore,\r\n    },\r\n    {\r\n      icon: <VisibilityIcon className={classes.postBottomRowItemIcon} />,\r\n      text: reads,\r\n    },\r\n    {\r\n      icon: isFetchingBookmarkResponse ? (\r\n        <CircularProgress\r\n          className={classes.postBottomRowItemIcon}\r\n          style={{ width: 16, height: 16 }}\r\n          thickness={5}\r\n        />\r\n      ) : (\r\n        <BookmarkIcon\r\n          className={classes.postBottomRowItemIcon}\r\n          color={isBookmarked ? 'primary' : 'inherit'}\r\n        />\r\n      ),\r\n      text: favorites,\r\n      isActive: isBookmarked,\r\n      action: async () => {\r\n        if (authData) {\r\n          setIsFetchingBookmarkResponse(true)\r\n          const response = await setArticleBookmark({\r\n            mode: isBookmarked ? 'remove' : 'add',\r\n            authData: authorizedRequestData,\r\n            id: post.id,\r\n          })\r\n          if (response.ok) {\r\n            setBookmarkState((prev) => !prev)\r\n            setIsFetchingBookmarkResponse(false)\r\n          }\r\n        } else {\r\n          enqueueSnackbar('Нужна авторизация', {\r\n            variant: 'error',\r\n            autoHideDuration: 4000,\r\n          })\r\n        }\r\n      },\r\n    },\r\n    {\r\n      icon: <ChatBubbleIcon className={classes.postBottomRowItemIcon} />,\r\n      text: comments,\r\n      action: () => {\r\n        history.push(postLink + '/comments', {\r\n          from: currentLocation,\r\n          scroll: window.pageYOffset,\r\n        })\r\n      },\r\n    },\r\n  ]\r\n\r\n  // Return troll text for hidden post\r\n  if (\r\n    hiddenAuthors.includes(alias) ||\r\n    (isCorporative && hiddenCompanies.includes(companyAlias))\r\n  )\r\n    return (\r\n      <Paper\r\n        style={{ padding: 16, display: 'flex', flexDirection: 'row' }}\r\n        elevation={0}\r\n        className={classes.paper}\r\n      >\r\n        <Typography className={classes.trollText}>Тут был тролль</Typography>\r\n        <LinkToOutsidePage className={classes.trollLink} to={postLink}>\r\n          <Typography className={classes.trollLink}>\r\n            всё равно читать\r\n          </Typography>\r\n          <RightIcon />\r\n        </LinkToOutsidePage>\r\n      </Paper>\r\n    )\r\n\r\n  const BottomRowItemUnmemoized = ({ item }: { item: BottomRowItemType }) => {\r\n    const itemIcon = item.icon\r\n    return (\r\n      <Grid\r\n        xs={3}\r\n        item\r\n        onClick={item.action}\r\n        style={{\r\n          cursor: item.action ? 'pointer' : 'inherit',\r\n        }}\r\n        className={classes.postBottomRowItem}\r\n      >\r\n        {item.coloredText ? (\r\n          <GreenRedNumber\r\n            number={item.number}\r\n            wrapperProps={{ style: { display: 'flex', alignItems: 'center' } }}\r\n          >\r\n            <>\r\n              {itemIcon}\r\n              <Typography className={classes.postBottomRowItemText}>\r\n                {item.number > 0 ? '+' : ''}\r\n                {item.text}\r\n              </Typography>\r\n            </>\r\n          </GreenRedNumber>\r\n        ) : (\r\n          <>\r\n            {itemIcon}\r\n            <Typography\r\n              className={classes.postBottomRowItemText}\r\n              color={item.isActive ? 'primary' : 'initial'}\r\n            >\r\n              {item.text}\r\n            </Typography>\r\n          </>\r\n        )}\r\n      </Grid>\r\n    )\r\n  }\r\n  const BottomRowItem = React.memo(BottomRowItemUnmemoized)\r\n\r\n  useEffect(() => {\r\n    if (setPostItemSize && isRendered && rootRef.current) {\r\n      setPostItemSize(post.id, rootRef.current.getBoundingClientRect().height)\r\n    }\r\n  }, [isRendered])\r\n\r\n  return (\r\n    <VisibilitySensor\r\n      partialVisibility\r\n      offset={{\r\n        top: POST_ITEM_VISIBILITY_THRESHOLD,\r\n        bottom: POST_ITEM_VISIBILITY_THRESHOLD,\r\n      }}\r\n      active={!isRendered}\r\n      onChange={(newIsVisible) => setIsRendered(newIsVisible)}\r\n    >\r\n      {({ isVisible }) => (\r\n        <>\r\n          {!isVisible && (\r\n            <div style={placeholderStyles} className={classes.placeholder} />\r\n          )}\r\n          {isVisible && (\r\n            <Paper\r\n              ref={rootRef}\r\n              elevation={0}\r\n              className={classes.paper}\r\n              style={style}\r\n            >\r\n              <LinkToOutsidePage\r\n                to={'/user/' + alias}\r\n                className={classes.avatarContainer}\r\n              >\r\n                <UserAvatar\r\n                  src={avatarUrl}\r\n                  alias={alias}\r\n                  className={classes.postAvatar}\r\n                />\r\n                <Typography className={classes.postAuthor} variant=\"caption\">\r\n                  {alias}\r\n                </Typography>\r\n                <Typography className={classes.postTs} variant=\"caption\">\r\n                  {ts}\r\n                </Typography>\r\n              </LinkToOutsidePage>\r\n              {shouldShowPostImage && (\r\n                <LinkToOutsidePage\r\n                  className={classes.imageHolder}\r\n                  to={postLink}\r\n                >\r\n                  <LazyLoadImage\r\n                    src={postFirstImage}\r\n                    alt={'Post header image'}\r\n                    className={classes.image}\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '100%',\r\n                    }}\r\n                  />\r\n                </LinkToOutsidePage>\r\n              )}\r\n\r\n              <LinkToOutsidePage\r\n                className={[classes.postLink, classes.noDeco].join(' ')}\r\n                to={postLink}\r\n              >\r\n                {title}\r\n              </LinkToOutsidePage>\r\n\r\n              {/** Post hubs */}\r\n              {isExtended && (\r\n                <div className={classes.hubs}>\r\n                  {post.hubs.map((hub, i) => (\r\n                    <span key={i} className={classes.hubWrapper}>\r\n                      <LinkToOutsidePage\r\n                        className={classes.hubLink}\r\n                        to={'/hub/' + hub.alias + '/p/1'}\r\n                      >\r\n                        {hub.title}\r\n                      </LinkToOutsidePage>\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/** Post labels */}\r\n              <div className={classes.labelsContainer}>\r\n                {post.postLabels.map(\r\n                  (e, i) =>\r\n                    POST_LABELS[e.type] && (\r\n                      <Chip\r\n                        label={POST_LABELS[e.type]?.text}\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                        key={i}\r\n                        style={{ marginRight: 8, marginTop: 8 }}\r\n                      />\r\n                    )\r\n                )}\r\n              </div>\r\n\r\n              {isExtended && (\r\n                <div className={classes.leadText}>\r\n                  {!hasImagesInLeadText && postFirstImage && (\r\n                    <div className={classes.leadImageWrapper}>\r\n                      <img\r\n                        src={postFirstImage}\r\n                        alt={'Post header image'}\r\n                        className={classes.leadImage}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  <FormattedText>{leadData.textHtml}</FormattedText>\r\n                  <LinkToOutsidePage to={postLink} className={classes.link}>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      className={classes.leadButton}\r\n                      variant={'outlined'}\r\n                    >\r\n                      {parse(leadData.buttonTextHtml)}\r\n                    </Button>\r\n                  </LinkToOutsidePage>\r\n                </div>\r\n              )}\r\n\r\n              <div className={classes.postBottomRow}>\r\n                {bottomRow.map((e, i) => (\r\n                  <BottomRowItem item={e} key={i} />\r\n                ))}\r\n              </div>\r\n            </Paper>\r\n          )}\r\n        </>\r\n      )}\r\n    </VisibilitySensor>\r\n  )\r\n}\r\n\r\nexport default React.memo(PostItem)\r\n","import * as React from 'react'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport { MIN_WIDTH, POST_IMAGE_HEIGHT } from 'src/config/constants'\nimport { useSelector } from 'src/hooks'\nimport { useTheme } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: '12px',\n    background: theme.palette.background.paper,\n    borderRadius: 0,\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n  },\n  padding: {\n    padding: theme.spacing(2),\n  },\n  skeleton: {\n    backgroundColor: theme.palette.action.hover,\n    borderRadius: 4,\n  },\n  skeletonImage: {\n    borderRadius: 0,\n    backgroundColor: theme.palette.action.hover,\n  },\n}))\n\nconst PostSkeleton = () => {\n  const classes = useStyles()\n  const disablePostImage = useSelector(\n    (store) => store.settings.interfaceFeed.disablePostImage\n  )\n  const theme = useTheme()\n\n  return (\n    <Paper elevation={0} className={classes.root}>\n      <Grid container>\n        <Grid\n          direction=\"row\"\n          alignItems=\"center\"\n          container\n          className={classes.padding}\n          style={{ width: '100%' }}\n        >\n          <Skeleton\n            variant=\"circle\"\n            width={20}\n            height={20}\n            className={classes.skeleton}\n            style={{ marginRight: 8 }}\n          />\n          <Skeleton\n            variant=\"text\"\n            width={128}\n            className={classes.skeleton}\n            height={20}\n          />\n        </Grid>\n        {!disablePostImage && (\n          <Grid item xs={12}>\n            <Skeleton\n              variant=\"rect\"\n              width=\"100%\"\n              className={classes.skeletonImage}\n              height={POST_IMAGE_HEIGHT}\n            />\n          </Grid>\n        )}\n        <Grid\n          container\n          style={{ paddingTop: disablePostImage ? 0 : theme.spacing(2) }}\n          className={classes.padding}\n        >\n          <Grid item xs={12}>\n            <Skeleton\n              variant=\"rect\"\n              width=\"100%\"\n              className={classes.skeleton}\n              height={18}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Skeleton\n              variant=\"rect\"\n              width=\"75%\"\n              className={classes.skeleton}\n              height={18}\n              style={{ marginTop: 16 }}\n            />\n          </Grid>\n          <Grid container style={{ width: '100%' }} direction=\"row\">\n            {Array(4)\n              .fill(null)\n              .map((_, i) => (\n                <Grid\n                  justify=\"center\"\n                  style={{ width: '25%' }}\n                  container\n                  key={i}\n                >\n                  <Skeleton\n                    variant=\"rect\"\n                    width={64}\n                    style={{ marginTop: 20 }}\n                    className={classes.skeleton}\n                    height={21}\n                  />\n                </Grid>\n              ))}\n          </Grid>\n        </Grid>\n      </Grid>\n    </Paper>\n  )\n}\n\nexport default React.memo(PostSkeleton)\n","import * as React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { usePagination } from '@material-ui/lab/Pagination'\r\nimport { PaginationItem } from '@material-ui/lab'\r\nimport { fade, Typography } from '@material-ui/core'\r\nimport { MIN_WIDTH } from 'src/config/constants'\r\nimport ChevronLeftRoundedIcon from '@material-ui/icons/ChevronLeftRounded'\r\nimport ChevronRightRoundedIcon from '@material-ui/icons/ChevronRightRounded'\r\nimport useMediaExtendedQuery from 'src/hooks/useMediaExtendedQuery'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    color: (disabled) =>\r\n      disabled ? theme.palette.text.hint : theme.palette.text.primary,\r\n    display: 'flex',\r\n    background: theme.palette.background.paper,\r\n    overflow: 'hidden',\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      marginBottom: theme.spacing(2),\r\n      borderRadius: 8,\r\n    },\r\n  },\r\n  ul: {\r\n    width: '100%',\r\n    justifyContent: 'space-between',\r\n    height: '100%',\r\n    margin: 0,\r\n    display: 'flex',\r\n    padding: 0,\r\n    flexWrap: 'wrap',\r\n    listStyle: 'none',\r\n    alignItems: 'center',\r\n  },\r\n  navigationButton: {\r\n    height: '100%',\r\n    padding: theme.spacing(1.5, 2),\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    gap: theme.spacing(1),\r\n    alignItems: 'center',\r\n    background: 'transparent',\r\n    outline: 'none',\r\n    border: 'none',\r\n    color: theme.palette.primary.main,\r\n    cursor: 'pointer',\r\n    userSelect: 'none',\r\n    '-webkit-tap-highlight-color': 'transparent',\r\n    '&:disabled': {\r\n      color: theme.palette.action.disabled,\r\n      cursor: 'default',\r\n    },\r\n    '&:hover:enabled': {\r\n      background: fade(theme.palette.primary.main, 0.03),\r\n    },\r\n    '&:active:enabled': {\r\n      background: fade(theme.palette.primary.main, 0.1),\r\n    },\r\n  },\r\n  navigationButtonText: {\r\n    display: 'none',\r\n    fontFamily: 'Google Sans',\r\n    fontWeight: 500,\r\n    fontSize: 15,\r\n    '-webkit-font-smoothing': 'antialiased',\r\n    lineHeight: '1.25rem',\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  nextNavigationButton: {\r\n    paddingRight: theme.spacing(1),\r\n    paddingLeft: theme.spacing(1),\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      paddingLeft: theme.spacing(2),\r\n    },\r\n  },\r\n  previousNavigationButton: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      paddingRight: theme.spacing(2),\r\n    },\r\n  },\r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  selectedItem: {\r\n    background: theme.palette.action.selected,\r\n  },\r\n}))\r\n\r\nconst Pagination = ({\r\n  disabled = false,\r\n  steps,\r\n  handleChange,\r\n  currentStep = 1,\r\n}) => {\r\n  const classes = useStyles(disabled)\r\n  const isExtended = useMediaExtendedQuery()\r\n  const { items } = usePagination({\r\n    onChange: handleChange,\r\n    count: steps,\r\n    page: currentStep,\r\n    disabled,\r\n    siblingCount: 1,\r\n    boundaryCount: isExtended ? 2 : 1,\r\n  })\r\n\r\n  return (\r\n    <nav aria-label=\"pagination navigation\" className={classes.root}>\r\n      <ul className={classes.ul}>\r\n        <button\r\n          className={[\r\n            classes.navigationButton,\r\n            classes.previousNavigationButton,\r\n          ].join(' ')}\r\n          disabled={items[0].disabled}\r\n          onClick={items[0].onClick}\r\n        >\r\n          <ChevronLeftRoundedIcon />\r\n          <Typography className={classes.navigationButtonText}>сюда</Typography>\r\n        </button>\r\n        <div className={classes.items}>\r\n          {items.slice(1, items.length - 1).map((item, i) => (\r\n            <PaginationItem shape=\"rounded\" color=\"primary\" key={i} {...item} />\r\n          ))}\r\n        </div>\r\n        <button\r\n          className={[\r\n            classes.navigationButton,\r\n            classes.nextNavigationButton,\r\n          ].join(' ')}\r\n          disabled={items[items.length - 1].disabled}\r\n          onClick={items[items.length - 1].onClick}\r\n        >\r\n          <Typography className={classes.navigationButtonText}>туда</Typography>\r\n          <ChevronRightRoundedIcon />\r\n        </button>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default React.memo(Pagination)\r\n","import { useTheme } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Props from '../../interfaces/SVGProps'\r\n\r\nconst Empty = ({ svgProps, ...props }: Props) => {\r\n  const theme = useTheme()\r\n\r\n  return (\r\n    <div {...props}>\r\n      <svg\r\n        id=\"9af98f83-10c5-4067-bc84-20554b2827d8\"\r\n        data-name=\"Layer 1\"\r\n        width=\"1009.54\"\r\n        height=\"789.93\"\r\n        viewBox=\"0 0 1009.54 789.93\"\r\n        {...svgProps}\r\n      >\r\n        <defs>\r\n          <linearGradient\r\n            id=\"07c62293-c0d3-4921-8e06-4e39241449cd\"\r\n            x1=\"318.22\"\r\n            y1=\"488.45\"\r\n            x2=\"630.35\"\r\n            y2=\"488.45\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop offset=\"0\" stopColor=\"gray\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"gray\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"gray\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n        </defs>\r\n        <title>Empty</title>\r\n        <ellipse\r\n          cx=\"354.13\"\r\n          cy=\"741.27\"\r\n          rx=\"176.1\"\r\n          ry=\"33.36\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M681.78,166.43c-64.72-2.24-126.36-23.14-185.22-46S379.4,72.25,316.23,60.14C275.6,52.35,229.13,51.24,196.4,73c-31.51,21-41.69,57.15-47.16,90.72-4.12,25.26-6.54,51.85,4.74,75.5,7.84,16.42,21.74,30.22,31.36,45.95,33.47,54.72,9.81,122.2-26.45,175.63-17,25.06-36.75,49-49.88,75.65S89.81,593.74,101.3,621c11.38,27,38.51,47.24,67.9,61.49,59.69,28.95,130,37.23,198.61,41.93,151.83,10.38,304.46,5.89,456.69,1.38,56.34-1.66,112.92-3.35,168.34-12.06,30.78-4.84,62.55-12.52,84.9-31.06,28.36-23.53,35.39-63.37,16.38-92.87-31.88-49.5-120-61.79-142.31-114.9-12.26-29.24.33-61.8,18.16-88.91,38.24-58.17,102.33-109.2,105.7-175.68,2.32-45.66-28.49-91.39-76.13-113-49.93-22.65-119.18-19.8-156,17.69C805.59,153.57,738.93,168.42,681.78,166.43Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M630.35,416.77l-30.63-20.65h0l15.45-23-80.9-6.45L505.2,389.15l-36.39-20.4-30.35,3.65-.36-8a225.78,225.78,0,0,0-2.51-24.9c.13-2.5.22-5.37.21-8.49,0-13.15-1.78-30.58-9.6-42.2L428,272.63,413.4,255.38a110.37,110.37,0,0,1,8-13.46c.5-.72,1-1.42,1.54-2.1,18.95-1.37,33.9-16.95,33.9-36,0-.88,0-1.76-.1-2.63,0-.35-.07-.71-.11-1.06,1.85,1,3.72,2,5.59,3,.35.5.75,1,1.19,1.59l0,0,.09.11.56.69.18.21c.2.24.41.47.62.71l.14.16c.53.59,1.09,1.19,1.69,1.78a1.8,1.8,0,0,1,.2.19l.75.7.21.19c.64.57,1.32,1.12,2,1.64l.22.16.86.59.28.18c.33.2.67.41,1,.6l.12.07c.39.21.79.41,1.19.6l.2.08q.51.22,1,.42l.31.11c.35.12.69.23,1.05.33l.22.06c.44.11.88.2,1.33.27h.05a10.88,10.88,0,0,0,1.28.13h.29a11,11,0,0,0,1.15,0h.25a11.85,11.85,0,0,0,1.43-.17,15.78,15.78,0,0,0,6.3-2.26,5.5,5.5,0,0,0,1.28-1.19c2-2.62-.2-5.49-.2-5.49h0c-.78-1.86-5.84-3.17-5.84-3.17s-16-6.68-16-12-4-32.92-45.29-39.23c0,0-26.86-1.51-34.41,12.87l-.16,1.68c-2.22,1.39-4.06,4.18-6.25,5a10.21,10.21,0,0,0-2.71,1l0-.19h0a2.58,2.58,0,0,0-.61.79,8,8,0,0,0-.83,3,11.3,11.3,0,0,1-1.31,3.63,8.07,8.07,0,0,1-.6.92h0l-.17.27a7.3,7.3,0,0,0,3.4-.55,16.93,16.93,0,0,1-1,4,3.32,3.32,0,0,0,3.08-1.84l0-.08.13-.18a8.44,8.44,0,0,0,.62-1.45l-.11.12c.2-.65.38-1.31.6-1.95a3.06,3.06,0,0,1,.49-1,2.42,2.42,0,0,1,2.07-.69l-.41,8.67h.18a11.83,11.83,0,0,1-.88,1.82c-1.42,2.3-4,3.87-4.95,6.39a9.4,9.4,0,0,0-.46,3.78c0,.75.09,1.51.15,2.26v-.06c.14,2,.18,3.9-.9,5.51-.74,1.1-1.93,1.93-2.34,3.18a3.1,3.1,0,0,0-.15,1.08,12.13,12.13,0,0,0,.68,3.21.14.14,0,0,0,0-.06,4.88,4.88,0,0,1,.17,2.36c-.45,2-2.88,3.67-2.76,5.58a2.15,2.15,0,0,0,.11.74,4.05,4.05,0,0,0,2.26,2,8.8,8.8,0,0,0,5.08,1.12,6.68,6.68,0,0,0,1.9-.65c-.7,1.61-1.42,3.2-2.15,4.71-.11.24-.23.48-.35.72,0,0-6.18-4.13-9.69,4.29a18.68,18.68,0,0,0-2.17,5.64,13.42,13.42,0,0,1-.74,2.32,14.93,14.93,0,0,1-6.68,6c-7.16,3.28-36.08,39.35-36.59,48.69a54.49,54.49,0,0,1-1.84,10.78,64.15,64.15,0,0,0-1.72,25.49,48.77,48.77,0,0,0,1.77,8.13c3.07,9.33,5.12,26.74,5.12,26.74l3.32,30.22a86,86,0,0,0,.54,12.49c-3.39,3.87-17,20-11.8,24.39,4,3.46,11,2.89,14.93,2.18-3.31,8.19-8.52,22.43-9.21,32.21-1,14.47,1.71,33.64,6,41s18.59,26.24,18.59,26.24-.67,25.9,4.44,35.31,7.17,28.93,7.17,28.93,4.77,16.48,2.38,22.54,4.43,11.1-2.73,15.13-16.32,94.86-16.32,94.86-3.69,59.53,0,62.56a3.75,3.75,0,0,0,.63.37v20s-2.56,4.2,7.85,5.05c7.13.57,27.34,1.86,39.33,2.61l9.29.58s22,4.38,31.72,0,26.95-4.28,24.39-15.85a32.92,32.92,0,0,0-1.36-4.63c-2.81-7.18-7.58-8-16.37-10-.51-.11-1-.21-1.45-.29-9.26-1.61-12.3,2.7-17.49-2.91-4.51-4.85-18.87-10.28-23.76-12,.12-.36.27-.71.39-1.08a7.32,7.32,0,0,1-3.71-1.81l13.25.84,7.89.49s18.7,3.73,27,0,22.9-3.63,20.72-13.46a28.21,28.21,0,0,0-1.15-3.94c-2.39-6.1-6.45-6.77-13.92-8.46-.43-.09-.83-.18-1.23-.25-7.87-1.37-10.45,2.29-14.86-2.47-3.78-4.06-15.71-8.61-20-10.16,0-2.22-3-5.38-4.89-8.55-2.22-3.7,1.88-16.65,1.88-16.65L411,658.74a10.38,10.38,0,0,1,2.8-.8s10.58-10.1,8.19-20.86a69.13,69.13,0,0,1-.76-9.83c3.48-3.23,8.27-8,9.63-10.94,2.22-4.79,0-28,0-28V499.56l17.7,1.79L464.62,503l4.89.5,16.06,1.62,36.91,3.73,33.26-6.3,14.39-2.72,29.59-5.6V421.83ZM386.74,176.86l-2.06-.22C385.36,176.67,386.08,176.8,386.74,176.86Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"url(#07c62293-c0d3-4921-8e06-4e39241449cd)\"\r\n        />\r\n        <path\r\n          d=\"M558.56,463.78c-10,14.31-45.95,6.73-45.95,6.73l-27.86-26.07L481,440.91l6.29-13.36s2,.55,5.43,1.53C510.73,434.31,567,451.75,558.56,463.78Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#efb7b9\"\r\n        />\r\n        <path\r\n          d=\"M492.7,429.08c-1.23,4.28-4.6,10.69-7.95,15.36L481,440.91l6.29-13.36S489.31,428.1,492.7,429.08Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M397.15,278.42s-25.68,11.39-24.42,39.36a461.14,461.14,0,0,0,5.88,53.76s-5.25,42.09,16.61,52.94,42.09,19.77,42.09,19.77,34.2,3.68,38.45,5.2,17.53-21.72,15.08-25.34S457,412.9,453,406.86s-13.25-9.77-13.25-9.77-9.55-5.78-10.2-11,1.87-9.11,2.51-11.4,2.26-24.4,2.26-24.4S445.1,271.59,397.15,278.42Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#dce6f2\"\r\n        />\r\n        <path\r\n          d=\"M414.1,370.39s-35.23,5.9-31.82,18.23C382.28,388.62,395.07,375.31,414.1,370.39Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M414.37,375.38S395,391.19,398.79,392,414.37,375.38,414.37,375.38Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M423.68,380.89s-5.19,10.63-2,9.91S423.68,380.89,423.68,380.89Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M494,430.21l-2.14-.61c.61-2,.78-3.62.28-4.37-2.45-3.62-33.82-11.2-37.81-17.25s-13.25-9.77-13.25-9.77-9.55-5.78-10.2-11,1.87-9.11,2.51-11.4,2.26-24.41,2.26-24.41,10.75-78.69-37.2-71.86c0,0-25.68,11.4-24.43,39.37a459.85,459.85,0,0,0,5.89,53.76s-5.25,42.09,16.61,52.94,42.09,19.77,42.09,19.77,34.19,3.67,38.45,5.2c1.61.58,4.52-2.41,7.37-6.52l1.62,1.51,27.86,26.06s35.95,7.59,45.95-6.72C568.31,452.87,512.05,435.43,494,430.21Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M382.37,173.44a8.5,8.5,0,0,0-2.77,1.07c-1,.83-1,2.25-1.25,3.49a11.48,11.48,0,0,1-2,4.78,7.19,7.19,0,0,0,3.33-.55,17.14,17.14,0,0,1-1,4,3.24,3.24,0,0,0,3-1.83,19.26,19.26,0,0,0,1.25-3.51,2.89,2.89,0,0,1,.48-1c.92-1.09,2.63-.6,4.05-.46a6.65,6.65,0,0,0,6.08-2.92c1.51-2.29,1.6-8.15-2-8.77C387.78,167.12,385.44,172.3,382.37,173.44Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#965d7b\"\r\n        />\r\n        <g opacity=\"0.1\">\r\n          <path\r\n            d=\"M379.5,175.74c.09-.49.15-1,.26-1.49h0c-.95.83-1,2.24-1.25,3.49a11,11,0,0,1-.59,2.11A11.46,11.46,0,0,0,379.5,175.74Z\"\r\n            transform=\"translate(-95.23 -55.03)\"\r\n          />\r\n          <path\r\n            d=\"M379.82,184a16.63,16.63,0,0,0,1-4,7.16,7.16,0,0,1-3.17.55,11.57,11.57,0,0,1-1.15,2,7.12,7.12,0,0,0,3.32-.54,16.63,16.63,0,0,1-1,4,3.25,3.25,0,0,0,3-1.83,7.46,7.46,0,0,0,.6-1.43A3,3,0,0,1,379.82,184Z\"\r\n            transform=\"translate(-95.23 -55.03)\"\r\n          />\r\n          <path\r\n            d=\"M388.6,177.2c-1.42-.14-3.14-.63-4.06.46a3.09,3.09,0,0,0-.48,1c-.09.26-.17.53-.24.8.95-.75,2.49-.35,3.78-.22a6.68,6.68,0,0,0,6.08-2.92,5.54,5.54,0,0,0,.67-1.57A6.66,6.66,0,0,1,388.6,177.2Z\"\r\n            transform=\"translate(-95.23 -55.03)\"\r\n          />\r\n        </g>\r\n        <polygon\r\n          points=\"317.24 201 332.49 219.34 330.5 237.85 312.07 209 317.24 201\"\r\n          fill=\"#dce6f2\"\r\n        />\r\n        <polygon\r\n          points=\"332.48 219.34 330.61 236.75 330.49 237.85 313.86 211.81 312.07 209 312.59 208.19 317.23 201 318.26 202.24 332.48 219.34\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M435.63,231.2c-5.16,1.48-10.09,6.56-14.38,12.73a108.65,108.65,0,0,0-7.76,13.34c-1.41,2.82-2.65,5.53-3.68,7.89l-.72,1.68c-1.74,4.11-2.71,6.86-2.71,6.86S366.88,244,373.13,242c2.1-.67,4.86-5.17,7.59-10.84l.34-.72c1.73-3.64,3.43-7.7,4.94-11.52,3.09-7.85,5.38-14.67,5.38-14.67S451.38,226.7,435.63,231.2Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#efb7b9\"\r\n        />\r\n        <path\r\n          d=\"M459.26,202.58s9.12,16.5,21.37,14.25,7.21-8.86,7.21-8.86Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#444053\"\r\n        />\r\n        <path\r\n          d=\"M441.59,773.73c-8.08,3.69-26.35,0-26.35,0l-7.7-.48c-10-.64-26.74-1.72-32.66-2.2-8.64-.71-6.52-4.25-6.52-4.25V745.41l41.92-10.62s16.57,5.67,21.11,10.62c4.31,4.72,6.83,1.09,14.52,2.45.38.07.78.15,1.2.25,7.3,1.67,11.26,2.33,13.6,8.38a28.1,28.1,0,0,1,1.13,3.9C464,770.13,449.66,770.06,441.59,773.73Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#a36468\"\r\n        />\r\n        <path\r\n          d=\"M460.71,756.49a31.34,31.34,0,0,1-4.72,2.42c-5.5,2.51-10.73,5.57-16.29,7.94s-11.55,4.06-17.57,3.61c-3.15-.23-6.37-1-9.38-.1a21.66,21.66,0,0,0-5.21,2.89c-10-.64-26.74-1.72-32.66-2.2-8.64-.71-6.52-4.25-6.52-4.25v-2.5c.31,0,.66-.09,1.06-.12a18.88,18.88,0,0,1,6.1.91c4.34,1.18,8.66,2.34,13,3.5a10.27,10.27,0,0,1,5-6.38,15.94,15.94,0,0,1,8.06-1.85c6.73.09,13.1,3.28,19.82,3.6a10.92,10.92,0,0,0,5.49-.92c.92-.46,1.73-1.13,2.63-1.64a19.2,19.2,0,0,1,4.53-1.53A99.76,99.76,0,0,0,447,755.69c1.2-.47,2.6-1.32,2.44-2.6-.21-1.7-2.88-1.9-3.58-3.46a2,2,0,0,1,.08-1.77c.38.07.78.15,1.2.25C454.41,749.78,458.37,750.44,460.71,756.49Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M433.05,820.53c-9.5,4.34-31,0-31,0L393,820c-11.72-.75-31.46-2-38.43-2.59-10.17-.84-7.67-5-7.67-5V787.2l49.33-12.5s19.5,6.67,24.84,12.5c5.07,5.55,8,1.28,17.09,2.88.45.08.92.18,1.41.29,8.59,2,13.25,2.75,16,9.87a32.1,32.1,0,0,1,1.33,4.59C459.38,816.29,442.55,816.2,433.05,820.53Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#a36468\"\r\n        />\r\n        <path\r\n          d=\"M455.55,800.24a37.23,37.23,0,0,1-5.55,2.85c-6.47,2.95-12.63,6.55-19.17,9.34s-13.59,4.77-20.68,4.25c-3.7-.27-7.49-1.2-11-.12A25.5,25.5,0,0,0,393,820c-11.72-.75-31.46-2-38.43-2.59-10.17-.84-7.67-5-7.67-5v-2.94a12.5,12.5,0,0,1,1.25-.14,21.94,21.94,0,0,1,7.18,1.07l15.29,4.12a12.1,12.1,0,0,1,5.93-7.51,18.66,18.66,0,0,1,9.49-2.18c7.92.11,15.41,3.86,23.32,4.24A12.91,12.91,0,0,0,415.8,808c1.09-.55,2-1.34,3.1-1.93a21.75,21.75,0,0,1,5.33-1.8,119.69,119.69,0,0,0,15.16-4.92c1.41-.56,3.06-1.56,2.87-3.06-.25-2-3.39-2.24-4.22-4.08a2.41,2.41,0,0,1,.1-2.08c.45.08.92.18,1.41.29C448.14,792.34,452.8,793.12,455.55,800.24Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M411.55,647.54l-2.67,62.83s-4,12.83-1.83,16.5,5.83,7.33,4.5,9.5S394.22,762,389.05,753s-10.27-48-10.27-48l4.77-48.17Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#444053\"\r\n        />\r\n        <path\r\n          d=\"M423.13,491l7.42,9.92V587.2s2.17,23,0,27.75-13.17,14.25-13.17,14.25l-9.25-47.5,2-50.25Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#444053\"\r\n        />\r\n        <path\r\n          d=\"M411.55,647.54l-2.67,62.83s-4,12.83-1.83,16.5,5.83,7.33,4.5,9.5S394.22,762,389.05,753s-10.27-48-10.27-48l4.77-48.17Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M423.13,491l7.42,9.92V587.2s2.17,23,0,27.75-13.17,14.25-13.17,14.25l-9.25-47.5,2-50.25Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M430.55,454.2v46.67l-8.33,36.33s-2.67,87.67-.34,98.33-8,20.67-8,20.67-6,.67-6,5.33-10,18-10,18l.33,26s4.34,48.67-2.33,58,2.33,10.67,2.33,10.67c-8.33,27.33-48.33,21-51.94,18s0-62,0-62,8.94-90,15.94-94,.34-9,2.67-15-2.33-22.33-2.33-22.33-2-19.34-7-28.67-4.34-35-4.34-35-14-18.67-18.16-26-6.84-26.33-5.84-40.67c.68-9.69,5.77-23.8,9-31.92,1.55-3.89,2.67-6.41,2.67-6.41l.95.25,54.62,14.3Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#444053\"\r\n        />\r\n        <path\r\n          d=\"M435.63,231.2c-5.16,1.48-10.09,6.56-14.38,12.73l-1.12,0a35.72,35.72,0,0,1-31-17.93,35.18,35.18,0,0,1-3.14-7.15c3.09-7.85,5.38-14.67,5.38-14.67S451.38,226.7,435.63,231.2Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M455.88,206.2A35.75,35.75,0,1,1,389,188.68a34.93,34.93,0,0,1,3.78-5.46A36.18,36.18,0,0,1,401,176a35.75,35.75,0,0,1,54.83,27.58C455.85,204.46,455.88,205.33,455.88,206.2Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#efb7b9\"\r\n        />\r\n        <path\r\n          d=\"M425.84,291.78l-.12,1.1-16.63-26c-1.74,4.11-2.71,6.86-2.71,6.86S366.88,244,373.13,242c2.1-.67,4.86-5.17,7.59-10.84l.34-.72c2.9,8.64,19.75,25.91,26.76,32.83.81.8,1.48,1.46,2,1.94l1.07,1,.56.56C414,269.4,424.76,281,425.84,291.78Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M438.27,380l-1.82,58.57L436.13,449s-21.56-2-41.68-4.2c-16.2-1.77-31.47-3.68-33.82-4.8-3-1.41-9.43-2.5-14.5-3.19-3.92-.53-7-.81-7-.81s-1.15.34-2.92.66c-3.86.7-10.64,1.27-14.59-2.16-5.05-4.39,8.22-20.34,11.53-24.17l.73-.83-1.25-11.55L329.38,368s-2-17.25-5-26.5a48.88,48.88,0,0,1-1.73-8.05,64.48,64.48,0,0,1,1.68-25.26,55.08,55.08,0,0,0,1.8-10.69c.5-9.25,28.75-45,35.75-48.25a14.84,14.84,0,0,0,7.16-7.14,13.64,13.64,0,0,0,1.09-3.11c3-13,10.59-7.84,10.59-7.84,1.83,10.17,30.16,37.09,30.16,37.09l.56.56c2.81,2.88,15.33,16.4,14.44,27.94a33.87,33.87,0,0,0,1.89,12.64,213.75,213.75,0,0,1,9.85,56Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#dce6f2\"\r\n        />\r\n        <path\r\n          d=\"M398.13,310.45s-7,17-12.25,19.75S400.63,336,398.13,310.45Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M403.38,342.2s-16,2-16,5S403.38,342.2,403.38,342.2Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M420.13,361.7s-23.25,49.5-29.75,51S420.13,361.7,420.13,361.7Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M410.44,270.76l-19.23,8.36L368,244.06a13.64,13.64,0,0,0,1.09-3.11c3-13,10.59-7.84,10.59-7.84,1.83,10.17,30.16,37.09,30.16,37.09Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M411.44,268.76l-19.23,8.36L369,242.06a13.64,13.64,0,0,0,1.09-3.11c3-13,10.59-7.84,10.59-7.84,1.83,10.17,30.16,37.09,30.16,37.09Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#dce6f2\"\r\n        />\r\n        <path\r\n          d=\"M436.13,449s-21.56-2-41.68-4.2l36.1,9.45v11c-1.58,1.43-2.95,2.17-3.84,1.79-4.16-1.75-38.11-7.25-38.11-7.25s-19.72-10-41-22a16.43,16.43,0,0,1-1.5-.94,23.64,23.64,0,0,1-6.3-6.31c-3.93-5.69-5.85-13-6.68-20.17a87.22,87.22,0,0,1-.52-12.38A101.51,101.51,0,0,1,333.88,384a460.08,460.08,0,0,1-3-54c.25-28,26.5-38,26.5-38,48.25-4.25,33.29,73.75,33.29,73.75s-2.79,22-3.55,24.25-3.49,6-3.12,11.25,9.59,11.53,9.59,11.53,9,4.22,12.71,10.47c2.7,4.61,20.24,10.86,30.15,15.32Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M452.29,184a11.32,11.32,0,0,1-1,4.78,29.55,29.55,0,0,1-1.78,3.56,16.4,16.4,0,0,1-4.38,5.44c-2.31,1.65-5.23,2.11-8,2.78s-5.65,1.74-7.23,4.1a14.34,14.34,0,0,0-1.69,4.9,10.54,10.54,0,0,1-2,4.74,3.93,3.93,0,0,1-4.68,1.12,4.73,4.73,0,0,1-1.81-2.33c-1.14-2.57-1.43-5.42-1.89-8.19s-1.11-5.62-2.81-7.85-4.71-3.7-7.38-2.83a7.11,7.11,0,0,0-4,3.88,22.24,22.24,0,0,0-1.51,5.52q-1.86,10.18-4.39,20.24a1.86,1.86,0,0,1-.33.76,1.44,1.44,0,0,1-1,.42c-2.24.3-4.39-1.27-6.65-1.1a3.82,3.82,0,0,0-.69.11,35.73,35.73,0,0,1,3.61-40.8l.18-.05a10.78,10.78,0,0,0,4-2.52,42.22,42.22,0,0,0,4-4.63l.8-1a45.61,45.61,0,0,1,7.8-7.41,8,8,0,0,1,2.66-1.44,7.88,7.88,0,0,1,2.52-.08,63.57,63.57,0,0,0,10.41.39,66.79,66.79,0,0,1,7.31-.74c6.33.18,11.73,4.65,15.73,9.55C450.24,177.83,452.16,180.72,452.29,184Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M384.33,189.63c-1.39,2.28-3.9,3.83-4.84,6.33-1.38,3.63.95,8.15-1.19,11.39-.71,1.09-1.88,1.9-2.28,3.15-.68,2.11,1.18,4.36.7,6.53s-3.34,4-2.58,6.12a4,4,0,0,0,2.2,2,8.6,8.6,0,0,0,5,1.11c2.73-.45,4.76-3.13,7.53-3.33,2.25-.16,4.4,1.4,6.64,1.11a1.5,1.5,0,0,0,1-.43,1.73,1.73,0,0,0,.33-.76q2.52-10.05,4.4-20.24a21.8,21.8,0,0,1,1.5-5.52,7.17,7.17,0,0,1,4-3.88c2.67-.86,5.67.6,7.38,2.83s2.36,5.08,2.82,7.85.75,5.62,1.88,8.19a4.78,4.78,0,0,0,1.82,2.34c1.5.87,3.52.18,4.67-1.12a10.43,10.43,0,0,0,2-4.75,14.28,14.28,0,0,1,1.69-4.89c1.58-2.36,4.47-3.43,7.23-4.1s5.67-1.14,8-2.79a16.46,16.46,0,0,0,4.38-5.43c1.48-2.58,2.86-5.38,2.74-8.35-.13-3.24-2.05-6.13-4.1-8.65-4-4.9-9.41-9.37-15.74-9.54a62.2,62.2,0,0,0-7.31.74,62.57,62.57,0,0,1-10.41-.4,8.18,8.18,0,0,0-2.52.09,7.54,7.54,0,0,0-2.65,1.44,45.63,45.63,0,0,0-7.81,7.4,57.31,57.31,0,0,1-4.82,5.6,10.85,10.85,0,0,1-4,2.53c-1,.28-2,.08-2.95.39C386.09,183.52,385.7,187.37,384.33,189.63Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#965d7b\"\r\n        />\r\n        <path\r\n          d=\"M480.63,216.82c-8,1.47-14.63-5-18.3-9.72a39.22,39.22,0,0,1-3.07-4.52l27.46,5.18,1.11.21S492.88,214.58,480.63,216.82Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <g opacity=\"0.1\">\r\n          <path\r\n            d=\"M376.72,214.17a8.33,8.33,0,0,0-.58-3.84c0,.1-.09.2-.12.3-.43,1.34.15,2.73.52,4.12A3,3,0,0,0,376.72,214.17Z\"\r\n            transform=\"translate(-95.23 -55.03)\"\r\n          />\r\n          <path\r\n            d=\"M379.1,197.8a22.22,22.22,0,0,0,.08,4.15A22.28,22.28,0,0,0,379.1,197.8Z\"\r\n            transform=\"translate(-95.23 -55.03)\"\r\n          />\r\n          <path\r\n            d=\"M448.55,188.45a16.4,16.4,0,0,1-4.38,5.44c-2.31,1.65-5.22,2.11-8,2.78s-5.65,1.74-7.23,4.1a14.41,14.41,0,0,0-1.69,4.9,10.47,10.47,0,0,1-2,4.75c-1.15,1.3-3.17,2-4.67,1.12a4.78,4.78,0,0,1-1.82-2.34c-1.13-2.57-1.43-5.41-1.88-8.19s-1.12-5.62-2.82-7.85-4.71-3.7-7.38-2.83a7.14,7.14,0,0,0-4,3.88,21.8,21.8,0,0,0-1.5,5.52q-1.87,10.19-4.4,20.24a1.73,1.73,0,0,1-.33.76,1.5,1.5,0,0,1-1,.43c-2.24.29-4.39-1.27-6.64-1.11-2.77.2-4.8,2.88-7.53,3.32a8.45,8.45,0,0,1-5-1.11,5.35,5.35,0,0,1-1.83-1.3,2.7,2.7,0,0,0-.37,2.33,3.9,3.9,0,0,0,2.2,2,8.45,8.45,0,0,0,5,1.11c2.73-.44,4.76-3.12,7.53-3.32,2.25-.16,4.4,1.4,6.64,1.11a1.5,1.5,0,0,0,1-.43,1.73,1.73,0,0,0,.33-.76q2.52-10,4.4-20.24a21.8,21.8,0,0,1,1.5-5.52,7.14,7.14,0,0,1,4-3.88c2.67-.87,5.67.6,7.38,2.83s2.36,5.08,2.82,7.85.75,5.62,1.88,8.19a4.78,4.78,0,0,0,1.82,2.34c1.5.87,3.52.18,4.67-1.12a10.47,10.47,0,0,0,2-4.75,14.41,14.41,0,0,1,1.69-4.9c1.58-2.36,4.47-3.42,7.23-4.1s5.67-1.13,8-2.78a16.4,16.4,0,0,0,4.38-5.44c1.48-2.57,2.86-5.37,2.74-8.34a10.74,10.74,0,0,0-.12-1.14A19.65,19.65,0,0,1,448.55,188.45Z\"\r\n            transform=\"translate(-95.23 -55.03)\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M451.33,188.75a35.33,35.33,0,0,1,4.45,14.85c-8.91-5-17.29-10.49-21.52-12.4-7.37-3.33-34.93-2.83-45.29-2.52a34.93,34.93,0,0,1,3.78-5.46A36.18,36.18,0,0,1,401,176a35.77,35.77,0,0,1,50.38,12.73Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M483.13,212.58c-4.81,1.48-12.66-1.38-20.8-5.48a39.22,39.22,0,0,1-3.07-4.52l27.46,5.18C488.54,209,489,210.77,483.13,212.58Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M422.26,154.08s-26.25-1.5-33.63,12.75l-1.19,12.63-2-.22-.4,8.59s40.12-1.75,49.25,2.37,37.5,24.88,48.87,21.38-1-6.75-1-6.75S466.51,198.2,466.51,193,462.63,160.33,422.26,154.08Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#444053\"\r\n        />\r\n        <path\r\n          d=\"M371.63,622.28s16.75,16.25,24,15C395.63,637.28,375.13,635.53,371.63,622.28Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M368.13,629.81s1.5,8.36,5.5,7.54S368.13,629.81,368.13,629.81Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M394.38,769.53s-23.78,18.5-19.77,19S394.38,769.53,394.38,769.53Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <polygon\r\n          points=\"330.96 347.33 407.96 334.8 407.96 407.7 334.8 403.87 330.96 347.33\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"330.96 347.33 407.96 334.8 407.96 407.7 334.8 403.87 330.96 347.33\"\r\n          opacity=\"0.05\"\r\n        />\r\n        <polygon\r\n          points=\"407.96 334.8 500.3 341.71 495.19 405.15 407.96 407.7 407.96 334.8\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"407.96 334.8 500.3 341.71 495.19 405.15 407.96 407.7 407.96 334.8\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <polygon\r\n          points=\"436.35 312.55 407.96 334.8 500.3 341.71 515.39 318.94 436.35 312.55\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"303.08 323.03 372.4 314.59 407.96 334.8 330.96 347.33 303.08 323.03\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"424.84 353.73 424.84 453.4 388.77 449.7 373.08 448.1 368.3 447.6 352.62 445.99 330.96 443.77 330.96 347.33 407.95 352.57 424.84 353.73\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"500.3 341.71 500.3 438.91 471.39 444.46 457.33 447.16 424.84 453.4 424.84 353.73 500.3 341.71\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"500.3 341.71 500.3 438.91 471.39 444.46 457.33 447.16 424.84 453.4 424.84 353.73 500.3 341.71\"\r\n          opacity=\"0.05\"\r\n        />\r\n        <polygon\r\n          points=\"303.08 368.31 330.96 347.33 424.84 353.73 411.02 377.01 303.08 368.31\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"303.08 368.31 330.96 347.33 424.84 353.73 411.02 377.01 303.08 368.31\"\r\n          fill=\"#fff\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <polygon\r\n          points=\"500.3 341.71 424.84 353.73 449.4 375.73 530.23 362.17 500.3 341.71\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <polygon\r\n          points=\"500.3 341.71 424.84 353.73 449.4 375.73 530.23 362.17 500.3 341.71\"\r\n          fill=\"#fff\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <polygon\r\n          points=\"471.39 444.46 457.33 447.16 457.33 426.39 470.5 423.07 471.39 444.46\"\r\n          fill=\"#fff\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <polygon\r\n          points=\"388.77 435.96 388.77 449.7 373.08 448.1 373.08 435.96 388.77 435.96\"\r\n          fill=\"#fff\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <polygon\r\n          points=\"368.3 440.29 368.3 447.6 352.62 445.99 352.62 440.29 368.3 440.29\"\r\n          fill=\"#fff\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M510.63,483.7c-10.75,13.75-46.25,4.25-46.25,4.25L438,460.43l-3.58-3.73,7-13s2,.66,5.34,1.82C464.44,451.7,519.68,472.13,510.63,483.7Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M509.63,481.7c-10.75,13.75-46.25,4.25-46.25,4.25L437,458.43l-3.58-3.73,7-13s2,.66,5.34,1.82C463.44,449.7,518.68,470.13,509.63,481.7Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#efb7b9\"\r\n        />\r\n        <path\r\n          d=\"M445.72,443.52c-1.46,4.2-5.17,10.42-8.76,14.91l-3.58-3.73,7-13S442.39,442.36,445.72,443.52Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M358.38,288s-26.25,10-26.5,38a460.08,460.08,0,0,0,3,54s-7.5,41.75,13.75,53.75,41,22,41,22,33.95,5.5,38.12,7.25,18.66-20.75,16.41-24.5-33.16-13-36.83-19.25-12.71-10.46-12.71-10.46-9.22-6.29-9.59-11.54,2.35-9,3.12-11.25,3.56-24.25,3.56-24.25S406.63,283.7,358.38,288Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#dce6f2\"\r\n        />\r\n        <path\r\n          d=\"M370.38,380.7s-35.5,4-32.75,16.5C337.63,397.2,351.12,384.59,370.38,380.7Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M370.38,385.7s-20.15,14.75-16.45,15.75S370.38,385.7,370.38,385.7Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M379.38,391.7s-5.75,10.34-2.5,9.8S379.38,391.7,379.38,391.7Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M749,167.42s-38-2.29-33.56,24.37c0,0-.89,4.71,3.38,6.85,0,0,.07-2,3.9-1.31a17.51,17.51,0,0,0,4.13.2,8.57,8.57,0,0,0,5.06-2.09h0s10.69-4.41,14.85-21.89c0,0,3.08-3.82,3-4.8l-6.42,2.75s2.19,4.63.46,8.48c0,0-.2-8.31-1.44-8.12-.25,0-3.33,1.61-3.33,1.61s3.77,8.06.92,13.93c0,0,1.08-9.94-2.1-13.35l-4.52,2.64s4.41,8.33,1.42,15.13c0,0,.77-10.43-2.37-14.49l-4.1,3.19s4.15,8.22,1.62,13.86c0,0-.33-12.14-2.51-13.06,0,0-3.58,3.16-4.12,4.46,0,0,2.83,6,1.07,9.11,0,0-1.08-8.09-2-8.13,0,0-3.57,5.36-3.94,9a19.46,19.46,0,0,1,3.07-9.54,10.71,10.71,0,0,0-5.46,2.83s.55-3.79,6.34-4.12c0,0,3-4.07,3.74-4.32,0,0-5.76-.48-9.25,1.07,0,0,3.07-3.57,10.31-2l4-3.3s-7.58-1-10.8.11c0,0,3.7-3.16,11.89-.86l4.4-2.63s-6.46-1.4-10.31-.89c0,0,4.06-2.19,11.6.18l3.15-1.41s-4.74-.93-6.12-1.08-1.46-.53-1.46-.53a16.36,16.36,0,0,1,8.89,1S749.14,167.84,749,167.42Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <path\r\n          d=\"M864.46,300.76s-38-2.29-33.56,24.37c0,0-.89,4.71,3.38,6.85,0,0,.07-2,3.91-1.31a17.51,17.51,0,0,0,4.13.2,8.56,8.56,0,0,0,5-2.08h0s10.7-4.42,14.86-21.9c0,0,3.07-3.81,2.95-4.79l-6.42,2.74s2.19,4.63.47,8.48c0,0-.21-8.31-1.44-8.12-.25,0-3.34,1.61-3.34,1.61s3.78,8.07.93,13.93c0,0,1.08-9.94-2.11-13.35L848.75,310s4.41,8.33,1.42,15.13c0,0,.77-10.43-2.37-14.49l-4.09,3.2s4.14,8.21,1.62,13.85c0,0-.33-12.14-2.51-13.06,0,0-3.58,3.16-4.13,4.46,0,0,2.84,6,1.08,9.11,0,0-1.08-8.09-2-8.13,0,0-3.57,5.36-3.94,9a19.52,19.52,0,0,1,3.08-9.54,10.76,10.76,0,0,0-5.47,2.83s.56-3.79,6.35-4.12c0,0,2.95-4.07,3.74-4.32,0,0-5.76-.48-9.25,1.07,0,0,3.07-3.57,10.3-1.95l4-3.3s-7.59-1-10.8.11c0,0,3.7-3.16,11.89-.86l4.4-2.63s-6.47-1.39-10.32-.89c0,0,4.07-2.19,11.61.18l3.15-1.41s-4.74-.93-6.13-1.08-1.46-.53-1.46-.53a16.39,16.39,0,0,1,8.9,1S864.58,301.18,864.46,300.76Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M633.61,277.09s8.75-37.09-18.29-37.22c0,0-4.49-1.68-7.32,2.16,0,0,1.93.41.62,4.07a17.8,17.8,0,0,0-.9,4,8.59,8.59,0,0,0,1.19,5.33h0s2.53,11.3,19,18.38c0,0,3.24,3.68,4.22,3.72l-1.6-6.79s-4.94,1.37-8.44-1c0,0,8.23,1.21,8.24,0,0-.25-1-3.56-1-3.56s-8.59,2.34-13.89-1.47c0,0,9.61,2.76,13.52.21L627.16,260s-9,2.93-15.16-1.18c0,0,10.15,2.54,14.69.14l-2.45-4.58s-8.8,2.68-13.93-.77c0,0,12,1.74,13.3-.24,0,0-2.5-4.07-3.69-4.83,0,0-6.36,1.78-9.16-.49,0,0,8.15.31,8.34-.55,0,0-4.67-4.43-8.23-5.43a19.6,19.6,0,0,1,8.89,4.66,10.79,10.79,0,0,0-1.86-5.87s3.64,1.2,3,7c0,0,3.5,3.6,3.61,4.42,0,0,1.45-5.59.52-9.3,0,0,3,3.64.17,10.49l2.56,4.55s2.32-7.3,1.73-10.66c0,0,2.49,4.18-1.18,11.86l1.85,4.79s2.47-6.14,2.63-10c0,0,1.47,4.38-2.16,11.41l.86,3.34s1.72-4.51,2.1-5.85.77-1.35.77-1.35a16.38,16.38,0,0,1-2.49,8.6S633.18,277.14,633.61,277.09Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M550.39,289.73s-30.52-22.83-41.43,1.9c0,0-3.33,3.45-.94,7.58,0,0,1.14-1.61,4,1.06a17.51,17.51,0,0,0,3.34,2.44,8.58,8.58,0,0,0,5.37,1h0s11.36,2.19,24.44-10.12c0,0,4.67-1.5,5.11-2.38L543.39,290s-.72,5.07-4.27,7.34c0,0,4.39-7.06,3.25-7.57-.23-.11-3.67-.5-3.67-.5s-1.28,8.82-6.88,12.15c0,0,6.37-7.71,5.58-12.31l-5.23-.28s-.89,9.39-7.13,13.43c0,0,6.37-8.29,6-13.41l-5.18.42s-1.05,9.13-6.26,12.45c0,0,6.39-10.32,5.08-12.28,0,0-4.73.67-5.9,1.45,0,0-.91,6.54-4.11,8.2,0,0,3.55-7.35,2.83-7.86,0,0-5.93,2.51-8.26,5.37a19.53,19.53,0,0,1,7.82-6.28,10.77,10.77,0,0,0-6.12-.64s2.54-2.86,7.56.05c0,0,4.7-1.77,5.5-1.55,0,0-4.55-3.57-8.32-4.19,0,0,4.54-1.3,9.69,4l5.19-.53s-5.77-5-9.08-5.84c0,0,4.83-.61,10.4,5.81l5.12.23s-4.63-4.72-8.12-6.42c0,0,4.59.4,9.59,6.53l3.41.55s-3.45-3.38-4.53-4.26-.93-1.25-.93-1.25a16.43,16.43,0,0,1,6.89,5.72S550.26,290.14,550.39,289.73Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M652,77.62s-30.52-22.84-41.43,1.9c0,0-3.33,3.45-.94,7.58,0,0,1.14-1.61,4,1.06a17.79,17.79,0,0,0,3.35,2.43,8.57,8.57,0,0,0,5.37,1h0s11.36,2.19,24.44-10.13c0,0,4.67-1.49,5.1-2.38L645,77.89s-.71,5.07-4.27,7.34c0,0,4.4-7.06,3.26-7.57-.23-.11-3.67-.5-3.67-.5S639,86,633.4,89.31c0,0,6.36-7.71,5.58-12.31l-5.23-.28s-.9,9.39-7.13,13.42c0,0,6.37-8.29,6-13.41l-5.17.42s-1.06,9.14-6.27,12.46c0,0,6.4-10.32,5.09-12.28,0,0-4.73.67-5.9,1.45,0,0-.91,6.54-4.11,8.2,0,0,3.55-7.35,2.83-7.87,0,0-5.93,2.52-8.26,5.38a19.44,19.44,0,0,1,7.82-6.28,10.7,10.7,0,0,0-6.13-.64s2.55-2.86,7.57.05c0,0,4.7-1.78,5.5-1.55,0,0-4.55-3.57-8.32-4.2,0,0,4.53-1.29,9.68,4l5.19-.53s-5.76-5-9.08-5.85c0,0,4.83-.6,10.41,5.82l5.12.22s-4.63-4.72-8.13-6.41c0,0,4.6.4,9.6,6.53l3.4.55S640,72.86,638.92,72s-.93-1.24-.93-1.24a16.4,16.4,0,0,1,6.89,5.72S651.83,78,652,77.62Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M768.62,106.55s-12.2-36.11-35.21-21.92c0,0-4.7,1-5.07,5.71,0,0,1.85-.68,2.67,3.12a18,18,0,0,0,1.37,3.91,8.66,8.66,0,0,0,3.84,3.89h0s8.12,8.25,25.88,5.52c0,0,4.69,1.42,5.55.93l-5-4.91s-3.46,3.77-7.68,3.62c0,0,7.63-3.32,7-4.39-.13-.21-2.74-2.48-2.74-2.48s-6.06,6.53-12.56,6.1c0,0,9.61-2.74,11.57-7l-4.14-3.19s-6.06,7.22-13.49,7c0,0,10-3.21,12.53-7.65l-4.5-2.59s-6,6.93-12.22,6.71c0,0,11.12-4.87,11.15-7.23,0,0-4.27-2.13-5.68-2.15,0,0-4.46,4.87-8,4.43,0,0,7.08-4.05,6.78-4.88,0,0-6.3-1.29-9.85-.25a19.49,19.49,0,0,1,10-.75,10.79,10.79,0,0,0-4.69-4s3.72-.91,6.21,4.33c0,0,4.88,1.21,5.4,1.84,0,0-1.72-5.51-4.47-8.17,0,0,4.47,1.51,5.69,8.82l4.58,2.5s-1.89-7.41-4.17-10c0,0,4.33,2.24,5.27,10.69l4.1,3.09s-1.14-6.52-3.06-9.9c0,0,3.56,2.94,4.2,10.83l2.49,2.38s-.92-4.74-1.3-6.08S761,93,761,93a16.49,16.49,0,0,1,2.43,8.62S768.27,106.81,768.62,106.55Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M689,108.33S651.1,104.11,654.23,131c0,0-1.13,4.66,3,7,0,0,.17-2,4-1.1a18.4,18.4,0,0,0,4.12.41,8.6,8.6,0,0,0,5.15-1.83h0s10.91-3.87,16-21.12c0,0,3.26-3.65,3.19-4.64l-6.55,2.42s2,4.73,0,8.49c0,0,.21-8.31-1-8.18-.25,0-3.41,1.44-3.41,1.44s3.36,8.25.22,14c0,0,1.58-9.88-1.43-13.44l-4.65,2.4s4,8.55.65,15.19c0,0,1.3-10.38-1.63-14.59l-4.25,3s3.72,8.41.91,13.92c0,0,.29-12.14-1.84-13.17,0,0-3.74,3-4.35,4.24,0,0,2.53,6.1.62,9.15,0,0-.67-8.13-1.55-8.21,0,0-3.84,5.17-4.4,8.82a19.47,19.47,0,0,1,3.56-9.38,10.76,10.76,0,0,0-5.6,2.55s.74-3.75,6.54-3.79c0,0,3.15-3.91,4-4.12,0,0-5.73-.77-9.3.6,0,0,3.25-3.42,10.39-1.43l4.21-3.09S663.22,115,660,116c0,0,3.86-3,11.92-.25l4.53-2.41s-6.39-1.72-10.26-1.41c0,0,4.17-2,11.58.77l3.22-1.25s-4.69-1.17-6.07-1.39-1.43-.6-1.43-.6a16.45,16.45,0,0,1,8.84,1.44S689.07,108.75,689,108.33Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M1020.6,402.5s-37.88-4.22-34.75,22.64c0,0-1.13,4.66,3,7,0,0,.17-2,4-1.11a17.3,17.3,0,0,0,4.12.41,8.53,8.53,0,0,0,5.15-1.83h0s10.91-3.87,15.95-21.11c0,0,3.26-3.66,3.19-4.64l-6.55,2.41s2,4.74,0,8.5c0,0,.21-8.32-1-8.18-.25,0-3.41,1.43-3.41,1.43s3.36,8.25.22,14c0,0,1.58-9.87-1.43-13.44l-4.65,2.41s4,8.55.66,15.19c0,0,1.29-10.38-1.64-14.6l-4.25,3s3.72,8.41.91,13.91c0,0,.29-12.14-1.84-13.16,0,0-3.73,3-4.35,4.24,0,0,2.54,6.1.62,9.15,0,0-.67-8.13-1.55-8.21,0,0-3.84,5.17-4.4,8.82a19.47,19.47,0,0,1,3.56-9.38,10.67,10.67,0,0,0-5.6,2.55s.74-3.76,6.54-3.8c0,0,3.16-3.91,4-4.11,0,0-5.73-.78-9.3.59,0,0,3.25-3.41,10.4-1.42l4.2-3.09s-7.52-1.42-10.79-.44c0,0,3.86-3,11.92-.26l4.53-2.4s-6.39-1.72-10.26-1.41c0,0,4.17-2,11.58.77l3.22-1.26s-4.69-1.17-6.07-1.38-1.43-.6-1.43-.6a16.39,16.39,0,0,1,8.84,1.43S1020.7,402.93,1020.6,402.5Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M1078.51,437.88s-37.88-4.21-34.75,22.64c0,0-1.12,4.66,3,7,0,0,.17-2,4-1.1a17.65,17.65,0,0,0,4.11.4A8.64,8.64,0,0,0,1060,465h0s10.9-3.87,15.94-21.12c0,0,3.27-3.65,3.19-4.64l-6.55,2.41s2,4.74,0,8.5c0,0,.21-8.31-1-8.18-.25,0-3.41,1.43-3.41,1.43s3.36,8.25.22,14c0,0,1.58-9.87-1.43-13.43l-4.65,2.4s4,8.55.66,15.19c0,0,1.29-10.38-1.64-14.59l-4.25,3s3.72,8.41.92,13.92c0,0,.28-12.15-1.85-13.17,0,0-3.73,3-4.35,4.24,0,0,2.54,6.1.62,9.15,0,0-.67-8.13-1.55-8.21,0,0-3.84,5.17-4.39,8.82a19.52,19.52,0,0,1,3.55-9.38,10.76,10.76,0,0,0-5.6,2.55s.75-3.76,6.55-3.79c0,0,3.15-3.91,4-4.12,0,0-5.73-.77-9.3.6,0,0,3.25-3.42,10.4-1.43l4.2-3.09s-7.52-1.42-10.79-.44c0,0,3.86-3,11.92-.25l4.53-2.41s-6.39-1.72-10.26-1.41c0,0,4.17-2,11.58.77l3.22-1.25s-4.69-1.17-6.06-1.39-1.44-.6-1.44-.6a16.45,16.45,0,0,1,8.84,1.44S1078.61,438.31,1078.51,437.88Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M949.94,139.87s-30.52-22.83-41.43,1.9c0,0-3.33,3.45-.94,7.58,0,0,1.14-1.61,4,1.06a17.51,17.51,0,0,0,3.34,2.44,8.59,8.59,0,0,0,5.37,1h0s11.36,2.19,24.45-10.12c0,0,4.66-1.5,5.1-2.38l-6.87-1.24s-.72,5.07-4.27,7.34c0,0,4.39-7.06,3.25-7.57-.23-.11-3.66-.5-3.66-.5s-1.29,8.82-6.89,12.15c0,0,6.37-7.71,5.58-12.31l-5.23-.28s-.89,9.39-7.13,13.43c0,0,6.38-8.29,6-13.41l-5.18.42s-1,9.13-6.26,12.45c0,0,6.4-10.32,5.08-12.28,0,0-4.73.67-5.9,1.45,0,0-.9,6.54-4.1,8.2,0,0,3.54-7.35,2.82-7.86,0,0-5.93,2.51-8.26,5.37a19.53,19.53,0,0,1,7.82-6.28,10.77,10.77,0,0,0-6.12-.64s2.55-2.86,7.57.05c0,0,4.69-1.77,5.49-1.55,0,0-4.55-3.57-8.32-4.19,0,0,4.54-1.3,9.69,4l5.19-.53s-5.76-5-9.08-5.84c0,0,4.83-.61,10.4,5.81l5.13.23s-4.64-4.72-8.13-6.42c0,0,4.6.4,9.59,6.53l3.41.55s-3.45-3.38-4.53-4.26S936,133,936,133a16.44,16.44,0,0,1,6.88,5.72S949.81,140.28,949.94,139.87Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M973.52,304.69S963,268.06,939.34,281.21c0,0-4.74.73-5.33,5.47,0,0,1.88-.59,2.53,3.24a17.73,17.73,0,0,0,1.2,4A8.59,8.59,0,0,0,941.4,298h0s7.74,8.6,25.6,6.68c0,0,4.62,1.62,5.5,1.18l-4.73-5.14s-3.63,3.62-7.83,3.28c0,0,7.76-3,7.16-4.07-.12-.22-2.62-2.61-2.62-2.61s-6.34,6.26-12.82,5.53c0,0,9.73-2.3,11.87-6.44l-4-3.38s-6.38,6.94-13.79,6.4c0,0,10.08-2.77,12.86-7.08l-4.38-2.79s-6.35,6.65-12.51,6.15c0,0,11.33-4.37,11.47-6.72,0,0-4.18-2.32-5.59-2.4,0,0-4.67,4.66-8.22,4.06,0,0,7.26-3.73,7-4.57,0,0-6.24-1.57-9.83-.7a19.51,19.51,0,0,1,10-.29,10.73,10.73,0,0,0-4.5-4.2s3.76-.75,6,4.6c0,0,4.81,1.42,5.31,2.08,0,0-1.47-5.59-4.1-8.36,0,0,4.4,1.7,5.29,9.06l4.46,2.71s-1.56-7.5-3.72-10.14c0,0,4.22,2.43,4.79,10.91l4,3.27s-.85-6.56-2.61-10c0,0,3.43,3.1,3.71,11l2.38,2.5s-.7-4.78-1-6.14,0-1.55,0-1.55a16.39,16.39,0,0,1,2.05,8.72S973.16,304.93,973.52,304.69Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M739.1,387.23s-20.43-32.18-39.4-12.92c0,0-4.34,2-3.58,6.75,0,0,1.65-1.1,3.35,2.4a17.12,17.12,0,0,0,2.26,3.46,8.54,8.54,0,0,0,4.65,2.88h0s9.85,6.08,26.45-.8c0,0,4.89.26,5.61-.41l-6-3.6s-2.47,4.5-6.6,5.35c0,0,6.62-5,5.73-5.92-.17-.18-3.25-1.76-3.25-1.76s-4.33,7.78-10.75,8.91c0,0,8.69-4.95,9.59-9.53l-4.79-2.11s-4.17,8.45-11.43,10c0,0,8.9-5.49,10.35-10.41l-5-1.44s-4.22,8.17-10.27,9.42c0,0,9.64-7.38,9.11-9.68,0,0-4.66-1.05-6-.73,0,0-3.17,5.79-6.75,6.21,0,0,5.92-5.62,5.43-6.36,0,0-6.43.25-9.63,2.1a19.46,19.46,0,0,1,9.54-3.1,10.73,10.73,0,0,0-5.49-2.77s3.39-1.77,7,2.73c0,0,5,0,5.69.5,0,0-3-5-6.29-6.87,0,0,4.7.4,7.62,7.21l5.05,1.34s-3.61-6.75-6.42-8.68c0,0,4.73,1.14,7.66,9.13l4.72,2s-2.66-6.05-5.33-8.88c0,0,4.16,2,6.65,9.51l3,1.73s-2-4.39-2.71-5.6-.43-1.49-.43-1.49a16.4,16.4,0,0,1,4.41,7.79S738.83,387.57,739.1,387.23Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <path\r\n          d=\"M873.37,222.81s-19.43-32.79-39-14.13c0,0-4.4,1.9-3.78,6.64,0,0,1.67-1.06,3.27,2.49a17.28,17.28,0,0,0,2.15,3.54,8.49,8.49,0,0,0,4.56,3h0s9.65,6.38,26.46,0c0,0,4.88.41,5.62-.24l-5.87-3.78s-2.6,4.41-6.76,5.14c0,0,6.77-4.83,5.92-5.74-.18-.19-3.2-1.87-3.2-1.87s-4.57,7.65-11,8.58c0,0,8.84-4.68,9.87-9.22L856.89,215s-4.43,8.33-11.74,9.66c0,0,9.07-5.21,10.67-10.08l-4.94-1.6s-4.48,8-10.56,9.1c0,0,9.86-7.08,9.4-9.39,0,0-4.62-1.2-6-.92,0,0-3.35,5.69-6.94,6,0,0,6.09-5.42,5.63-6.18,0,0-6.44.05-9.69,1.8a19.52,19.52,0,0,1,9.63-2.8,10.75,10.75,0,0,0-5.41-2.94s3.45-1.67,7,2.94c0,0,5,.17,5.67.68,0,0-2.83-5-6.07-7.06,0,0,4.68.54,7.39,7.44l5,1.5s-3.39-6.86-6.15-8.88c0,0,4.7,1.29,7.38,9.36l4.65,2.17s-2.47-6.13-5-9c0,0,4.09,2.13,6.36,9.71l2.93,1.82s-1.88-4.45-2.54-5.68-.38-1.5-.38-1.5a16.43,16.43,0,0,1,4.17,7.92S873.08,223.14,873.37,222.81Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <path\r\n          d=\"M750.44,291.76s1-38.1-25.47-32.73c0,0-4.74-.73-6.74,3.61,0,0,2,0,1.44,3.85a17.56,17.56,0,0,0-.06,4.14,8.55,8.55,0,0,0,2.25,5h0s4.77,10.54,22.38,14.12c0,0,3.91,2.95,4.89,2.79l-3-6.32s-4.55,2.34-8.46.75c0,0,8.3-.49,8.07-1.71,0-.25-1.72-3.29-1.72-3.29s-7.94,4.05-13.89,1.39c0,0,10,.75,13.27-2.54l-2.79-4.43s-8.18,4.68-15.08,1.92c0,0,10.45.42,14.41-2.85l-3.33-4s-8.07,4.42-13.79,2.08c0,0,12.12-.73,13-2.94,0,0-3.28-3.47-4.6-4,0,0-5.86,3-9.06,1.38,0,0,8-1.34,8.05-2.23,0,0-5.47-3.39-9.16-3.64a19.47,19.47,0,0,1,9.65,2.76,10.75,10.75,0,0,0-3-5.37s3.81.43,4.33,6.2c0,0,4.17,2.82,4.44,3.6,0,0,.29-5.77-1.38-9.21,0,0,3.68,2.95,2.3,10.23l3.43,3.94s.78-7.62-.47-10.79c0,0,3.28,3.59,1.26,11.85l2.77,4.31s1.18-6.51.55-10.34c0,0,2.32,4,.2,11.61l1.52,3.1s.77-4.77.87-6.16.48-1.48.48-1.48a16.42,16.42,0,0,1-.69,8.93S750,291.89,750.44,291.76Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <ellipse\r\n          cx=\"698.97\"\r\n          cy=\"716.3\"\r\n          rx=\"26.93\"\r\n          ry=\"4.55\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <ellipse\r\n          cx=\"600.8\"\r\n          cy=\"785.38\"\r\n          rx=\"26.93\"\r\n          ry=\"4.55\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <ellipse\r\n          cx=\"93.14\"\r\n          cy=\"749.99\"\r\n          rx=\"26.93\"\r\n          ry=\"4.55\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <ellipse\r\n          cx=\"805.06\"\r\n          cy=\"780.83\"\r\n          rx=\"26.93\"\r\n          ry=\"4.55\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.1\"\r\n        />\r\n        <ellipse\r\n          cx=\"833.1\"\r\n          cy=\"723.1\"\r\n          rx=\"40.21\"\r\n          ry=\"6.8\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <path\r\n          d=\"M945,767a11.61,11.61,0,0,0,3.83-5.78c.5-2.3-.48-5.05-2.67-5.89-2.46-.94-5.09.76-7.09,2.48s-4.27,3.69-6.88,3.33a10.5,10.5,0,0,0,3.24-9.81,4.11,4.11,0,0,0-.9-2c-1.37-1.46-3.84-.83-5.48.32-5.2,3.66-6.65,10.72-6.68,17.08-.52-2.29-.08-4.68-.09-7s-.66-5-2.65-6.22a7.91,7.91,0,0,0-4-1c-2.34-.08-4.95.15-6.54,1.86-2,2.12-1.47,5.69.25,8s4.35,3.8,6.77,5.42a15.13,15.13,0,0,1,4.84,4.61,4.7,4.7,0,0,1,.35.82h14.66A40.44,40.44,0,0,0,945,767Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <path\r\n          d=\"M170.29,783.87s15.35-.47,20-3.77,23.63-7.23,24.78-1.94,23.08,26.29,5.74,26.43-40.29-2.7-44.91-5.52S170.29,783.87,170.29,783.87Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          fill=\"#a8a8a8\"\r\n        />\r\n        <path\r\n          d=\"M221.1,802.75c-17.34.14-40.29-2.7-44.91-5.52-3.52-2.14-4.92-9.83-5.39-13.38l-.51,0s1,12.39,5.59,15.2,27.57,5.66,44.91,5.52c5,0,6.73-1.82,6.64-4.46C226.73,801.72,224.82,802.72,221.1,802.75Z\"\r\n          transform=\"translate(-95.23 -55.03)\"\r\n          opacity=\"0.2\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(Empty)\r\n","import { useTheme } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Props from '../../interfaces/SVGProps'\r\n\r\nconst SearchSVG = ({ svgProps, ...props }: Props) => {\r\n  const isLight = props.theme === 'light'\r\n  const theme = useTheme()\r\n\r\n  return (\r\n    <div {...props}>\r\n      <svg\r\n        id=\"9a5c15f4-7944-40bc-b8da-d63b7d478a28\"\r\n        data-name=\"Layer 1\"\r\n        width=\"842\"\r\n        height=\"778.92\"\r\n        viewBox=\"0 0 842 778.92\"\r\n        {...svgProps}\r\n      >\r\n        <defs>\r\n          <linearGradient\r\n            id=\"a91ba363-77be-43f7-9cf6-91c4a3880d9c\"\r\n            x1=\"378.37\"\r\n            y1=\"732.81\"\r\n            x2=\"378.37\"\r\n            y2=\"130.21\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop offset=\"0\" stopColor=\"gray\" stopOpacity=\"0.25\"></stop>\r\n            <stop offset=\"0.54\" stopColor=\"gray\" stopOpacity=\"0.12\"></stop>\r\n            <stop offset=\"1\" stopColor=\"gray\" stopOpacity=\"0.1\"></stop>\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"d1e6aa0e-d79d-4f6f-afbb-c37e9ed80ff9\"\r\n            x1=\"274.44\"\r\n            y1=\"409.32\"\r\n            x2=\"274.44\"\r\n            y2=\"248.16\"\r\n          ></linearGradient>\r\n          <linearGradient\r\n            id=\"a279b039-1afd-4281-8292-ccd5c8c9b734\"\r\n            x1=\"274.44\"\r\n            y1=\"361.44\"\r\n            x2=\"274.44\"\r\n            y2=\"261.01\"\r\n          ></linearGradient>\r\n          <clipPath\r\n            id=\"42e7b1d1-2be2-47b0-aacb-a853df270819\"\r\n            transform=\"translate(-179 -60.54)\"\r\n          >\r\n            <rect\r\n              id=\"cf34cfb5-9399-4bae-9cea-d47bbef6cb3a\"\r\n              data-name=\"<Rectangle>\"\r\n              x=\"381.54\"\r\n              y=\"322.72\"\r\n              width=\"143.79\"\r\n              height=\"96.93\"\r\n              fill=\"#fff\"\r\n            ></rect>\r\n          </clipPath>\r\n          <linearGradient\r\n            id=\"972637f2-71db-4198-9c75-a0854a7fe249\"\r\n            x1=\"274.44\"\r\n            y1=\"616.03\"\r\n            x2=\"274.44\"\r\n            y2=\"454.87\"\r\n          ></linearGradient>\r\n          <linearGradient\r\n            id=\"6c85befd-f960-412c-83e0-663d4b13bf85\"\r\n            x1=\"274.44\"\r\n            y1=\"568.15\"\r\n            x2=\"274.44\"\r\n            y2=\"467.72\"\r\n          ></linearGradient>\r\n          <clipPath\r\n            id=\"f66b8fac-771d-49bf-85c7-4ce29a79f723\"\r\n            transform=\"translate(-179 -60.54)\"\r\n          >\r\n            <rect\r\n              id=\"7439734d-5f7c-428f-88ce-e68b86a45c07\"\r\n              data-name=\"<Rectangle>\"\r\n              x=\"381.54\"\r\n              y=\"529.42\"\r\n              width=\"143.79\"\r\n              height=\"96.93\"\r\n              fill=\"#fff\"\r\n            ></rect>\r\n          </clipPath>\r\n          <linearGradient\r\n            id=\"598f8edf-c762-4b18-b52d-250fc678075a\"\r\n            x1=\"688.76\"\r\n            y1=\"765.86\"\r\n            x2=\"688.76\"\r\n            y2=\"163.26\"\r\n            gradientTransform=\"translate(1142.22 -188.53) rotate(90)\"\r\n          ></linearGradient>\r\n          <linearGradient\r\n            id=\"013b841e-9a42-49b8-8a36-6db9ed002b72\"\r\n            x1=\"688.18\"\r\n            y1=\"568.49\"\r\n            x2=\"688.18\"\r\n            y2=\"409.67\"\r\n            gradientTransform=\"translate(1161.39 -164.01) rotate(90)\"\r\n          ></linearGradient>\r\n          <linearGradient\r\n            id=\"f8cab3c1-d868-48bc-b87d-cd2075ddc26a\"\r\n            x1=\"810.6\"\r\n            y1=\"767.54\"\r\n            x2=\"810.6\"\r\n            y2=\"362.71\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop offset=\"0\" stopColor=\"#b3b3b3\" stopOpacity=\"0.25\"></stop>\r\n            <stop offset=\"0.54\" stopColor=\"#b3b3b3\" stopOpacity=\"0.1\"></stop>\r\n            <stop offset=\"1\" stopColor=\"#b3b3b3\" stopOpacity=\"0.05\"></stop>\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"043d467e-585e-47c7-bb2c-06dd6f5be04b\"\r\n            x1=\"685.49\"\r\n            y1=\"507.08\"\r\n            x2=\"685.49\"\r\n            y2=\"487.6\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop offset=\"0\" stopOpacity=\"0.12\"></stop>\r\n            <stop offset=\"0.55\" stopOpacity=\"0.09\"></stop>\r\n            <stop offset=\"1\" stopOpacity=\"0.02\"></stop>\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"be08032f-102d-431e-9b5f-1e4ebfc8159b\"\r\n            x1=\"774.99\"\r\n            y1=\"484.73\"\r\n            x2=\"774.99\"\r\n            y2=\"425.15\"\r\n          ></linearGradient>\r\n        </defs>\r\n        <title>Search</title>\r\n        <g opacity=\"0.5\">\r\n          <rect\r\n            x=\"154.15\"\r\n            y=\"130.21\"\r\n            width=\"448.44\"\r\n            height=\"602.6\"\r\n            fill=\"url(#a91ba363-77be-43f7-9cf6-91c4a3880d9c)\"\r\n          ></rect>\r\n        </g>\r\n        <rect\r\n          x=\"159.99\"\r\n          y=\"138.39\"\r\n          width=\"434.43\"\r\n          height=\"581.58\"\r\n          fill={isLight ? '#f2f2f2' : '#333'}\r\n        ></rect>\r\n        <rect\r\n          x=\"193.86\"\r\n          y=\"162.91\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill={isLight ? '#e0e0e0' : '#888'}\r\n        ></rect>\r\n        <rect\r\n          x=\"193.86\"\r\n          y=\"183.93\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.7\"\r\n        ></rect>\r\n        <rect\r\n          x=\"365.53\"\r\n          y=\"162.91\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill=\"#e0e0e0\"\r\n        ></rect>\r\n        <rect\r\n          x=\"388.88\"\r\n          y=\"296.05\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill=\"#e0e0e0\"\r\n        ></rect>\r\n        <rect\r\n          x=\"392.39\"\r\n          y=\"308.89\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill=\"#e0e0e0\"\r\n        ></rect>\r\n        <rect\r\n          x=\"399.4\"\r\n          y=\"321.74\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill=\"#e0e0e0\"\r\n        ></rect>\r\n        <rect\r\n          x=\"388.88\"\r\n          y=\"502.75\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill=\"#e0e0e0\"\r\n        ></rect>\r\n        <rect\r\n          x=\"392.39\"\r\n          y=\"515.6\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill=\"#e0e0e0\"\r\n        ></rect>\r\n        <rect\r\n          x=\"399.4\"\r\n          y=\"528.44\"\r\n          width=\"149.48\"\r\n          height=\"4.67\"\r\n          fill=\"#e0e0e0\"\r\n        ></rect>\r\n        <g opacity=\"0.5\">\r\n          <rect\r\n            x=\"195.03\"\r\n            y=\"248.16\"\r\n            width=\"158.82\"\r\n            height=\"161.16\"\r\n            fill=\"url(#d1e6aa0e-d79d-4f6f-afbb-c37e9ed80ff9)\"\r\n          ></rect>\r\n        </g>\r\n        <rect\r\n          x=\"196.03\"\r\n          y=\"251.67\"\r\n          width=\"156.32\"\r\n          height=\"154.15\"\r\n          fill={isLight ? '#f5f5f5' : '#555'}\r\n        ></rect>\r\n        <g opacity=\"0.5\">\r\n          <rect\r\n            x=\"201.54\"\r\n            y=\"261.01\"\r\n            width=\"145.8\"\r\n            height=\"100.43\"\r\n            fill=\"url(#a279b039-1afd-4281-8292-ccd5c8c9b734)\"\r\n          ></rect>\r\n        </g>\r\n        <rect\r\n          id=\"e1f34465-d008-41db-868b-e00503fb87b3\"\r\n          data-name=\"<Rectangle>\"\r\n          x=\"202.54\"\r\n          y=\"262.18\"\r\n          width=\"143.79\"\r\n          height=\"96.93\"\r\n          fill={isLight ? '#fff' : '#666'}\r\n        ></rect>\r\n        <g clipPath=\"url(#42e7b1d1-2be2-47b0-aacb-a853df270819)\">\r\n          <polygon\r\n            points=\"190.35 355.61 226.56 299.55 241.74 324.07 274.44 290.21 302.47 324.07 326.99 273.86 390.05 374.29 185.68 367.28 190.35 355.61\"\r\n            fill={isLight ? theme.palette.primary.main : '#aaa'}\r\n            opacity=\"0.4\"\r\n          ></polygon>\r\n          <circle\r\n            cx=\"218.38\"\r\n            cy=\"276.19\"\r\n            r=\"10.51\"\r\n            fill={isLight ? theme.palette.primary.main : '#aaa'}\r\n            opacity=\"0.4\"\r\n          ></circle>\r\n        </g>\r\n        <g opacity=\"0.5\">\r\n          <rect\r\n            x=\"195.03\"\r\n            y=\"454.87\"\r\n            width=\"158.82\"\r\n            height=\"161.16\"\r\n            fill=\"url(#972637f2-71db-4198-9c75-a0854a7fe249)\"\r\n          ></rect>\r\n        </g>\r\n        <rect\r\n          x=\"196.03\"\r\n          y=\"458.37\"\r\n          width=\"156.32\"\r\n          height=\"154.15\"\r\n          fill={isLight ? '#f5f5f5' : '#555'}\r\n        ></rect>\r\n        <g opacity=\"0.5\">\r\n          <rect\r\n            x=\"201.54\"\r\n            y=\"467.72\"\r\n            width=\"145.8\"\r\n            height=\"100.43\"\r\n            fill=\"url(#6c85befd-f960-412c-83e0-663d4b13bf85)\"\r\n          ></rect>\r\n        </g>\r\n        <rect\r\n          id=\"c95ac4f6-be4d-44a3-92c2-5c8066e2b531\"\r\n          data-name=\"<Rectangle>\"\r\n          x=\"202.54\"\r\n          y=\"468.88\"\r\n          width=\"143.79\"\r\n          height=\"96.93\"\r\n          fill={isLight ? '#fff' : '#666'}\r\n        ></rect>\r\n        <g clipPath=\"url(#f66b8fac-771d-49bf-85c7-4ce29a79f723)\">\r\n          <polygon\r\n            points=\"190.35 562.31 226.56 506.25 241.74 530.78 274.44 496.91 302.47 530.78 326.99 480.56 390.05 580.99 185.68 573.99 190.35 562.31\"\r\n            fill={isLight ? '#bdbdbd' : '#666'}\r\n            opacity=\"0.4\"\r\n          ></polygon>\r\n          <circle\r\n            cx=\"218.38\"\r\n            cy=\"482.9\"\r\n            r=\"10.51\"\r\n            fill=\"#bdbdbd\"\r\n            opacity=\"0.4\"\r\n          ></circle>\r\n        </g>\r\n        <g opacity=\"0.5\">\r\n          <rect\r\n            x=\"376.36\"\r\n            y=\"276.01\"\r\n            width=\"602.6\"\r\n            height=\"448.44\"\r\n            transform=\"translate(-124.09 1006.82) rotate(-78.76)\"\r\n            fill=\"url(#598f8edf-c762-4b18-b52d-250fc678075a)\"\r\n          ></rect>\r\n        </g>\r\n        <rect\r\n          x=\"386.18\"\r\n          y=\"280.49\"\r\n          width=\"581.58\"\r\n          height=\"434.43\"\r\n          transform=\"translate(-122.17 1004.12) rotate(-78.76)\"\r\n          fill={isLight ? '#fff' : '#444'}\r\n        ></rect>\r\n        <rect\r\n          x=\"542.89\"\r\n          y=\"232.65\"\r\n          width=\"308.31\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-119.81 -191.93) rotate(11.24)\"\r\n          fill={isLight ? '#e0e0e0' : '#666'}\r\n        ></rect>\r\n        <rect\r\n          x=\"456.83\"\r\n          y=\"665.62\"\r\n          width=\"308.31\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-37.05 -166.84) rotate(11.24)\"\r\n          fill={isLight ? '#e0e0e0' : '#666'}\r\n        ></rect>\r\n        <rect\r\n          x=\"452.26\"\r\n          y=\"685.13\"\r\n          width=\"238.24\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-34.01 -158.75) rotate(11.24)\"\r\n          fill={isLight ? '#e0e0e0' : '#777'}\r\n        ></rect>\r\n        <rect\r\n          x=\"448.46\"\r\n          y=\"696.91\"\r\n          width=\"88.75\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-33.22 -143.21) rotate(11.24)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.7\"\r\n        ></rect>\r\n        <rect\r\n          x=\"539.13\"\r\n          y=\"243.97\"\r\n          width=\"154.15\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-119.16 -175.95) rotate(11.24)\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.7\"\r\n        ></rect>\r\n        <rect\r\n          x=\"532.71\"\r\n          y=\"282.38\"\r\n          width=\"277.94\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-110.6 -186.03) rotate(11.24)\"\r\n          fill={isLight ? '#e0e0e0' : '#666'}\r\n        ></rect>\r\n        <rect\r\n          x=\"529.49\"\r\n          y=\"288.24\"\r\n          width=\"67.73\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-111.54 -164.8) rotate(11.24)\"\r\n          fill=\"#3ad29f\"\r\n          opacity=\"0.7\"\r\n        ></rect>\r\n        <rect\r\n          x=\"521.95\"\r\n          y=\"338.03\"\r\n          width=\"308.31\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-99.67 -185.82) rotate(11.24)\"\r\n          fill={isLight ? '#e0e0e0' : '#666'}\r\n        ></rect>\r\n        <g opacity=\"0.5\">\r\n          <rect\r\n            x=\"592.89\"\r\n            y=\"385.78\"\r\n            width=\"158.82\"\r\n            height=\"276.77\"\r\n            transform=\"translate(-151.88 1020.84) rotate(-78.76)\"\r\n            fill=\"url(#013b841e-9a42-49b8-8a36-6db9ed002b72)\"\r\n          ></rect>\r\n        </g>\r\n        <rect\r\n          x=\"535.78\"\r\n          y=\"445.94\"\r\n          width=\"273.27\"\r\n          height=\"155.32\"\r\n          transform=\"translate(-64.02 -181.59) rotate(11.24)\"\r\n          fill={isLight ? '#fff' : '#555'}\r\n        ></rect>\r\n        <rect\r\n          x=\"516.71\"\r\n          y=\"364.38\"\r\n          width=\"308.31\"\r\n          height=\"4.67\"\r\n          transform=\"translate(-94.63 -184.29) rotate(11.24)\"\r\n          fill={isLight ? '#e0e0e0' : '#777'}\r\n        ></rect>\r\n        <rect\r\n          x=\"566.14\"\r\n          y=\"449.2\"\r\n          width=\"33.87\"\r\n          height=\"113.28\"\r\n          transform=\"translate(-69.19 -164.51) rotate(11.24)\"\r\n          fill={theme.palette.primary.main}\r\n        ></rect>\r\n        <rect\r\n          x=\"622.06\"\r\n          y=\"498.05\"\r\n          width=\"33.87\"\r\n          height=\"75.91\"\r\n          transform=\"translate(-62.24 -174.83) rotate(11.24)\"\r\n          fill=\"#3ad29f\"\r\n        ></rect>\r\n        <rect\r\n          x=\"678.21\"\r\n          y=\"544.59\"\r\n          width=\"33.87\"\r\n          height=\"40.87\"\r\n          transform=\"translate(-55.5 -185.22) rotate(11.24)\"\r\n          fill=\"#f55f44\"\r\n        ></rect>\r\n        <rect\r\n          x=\"741.87\"\r\n          y=\"514.79\"\r\n          width=\"33.87\"\r\n          height=\"82.92\"\r\n          transform=\"translate(-55.99 -197.8) rotate(11.24)\"\r\n          fill=\"#fdd835\"\r\n        ></rect>\r\n        <path\r\n          d=\"M880.45,410.55a155.89,155.89,0,0,0-223.11-1.68c-59,59.48-60,156.33-2.29,217.07A155.89,155.89,0,0,0,854.95,648L967.64,765.21a7.59,7.59,0,0,0,10.73.21l28.08-27a7.59,7.59,0,0,0,.21-10.73L894,610.49A155.9,155.9,0,0,0,880.45,410.55ZM845.35,599a111.5,111.5,0,1,1,3.1-157.66A111.5,111.5,0,0,1,845.35,599Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill=\"url(#f8cab3c1-d868-48bc-b87d-cd2075ddc26a)\"\r\n        ></path>\r\n        <path\r\n          d=\"M685.49,487.6c-12.54,0-12.56,19.49,0,19.49S698.05,487.6,685.49,487.6Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill=\"url(#043d467e-585e-47c7-bb2c-06dd6f5be04b)\"\r\n        ></path>\r\n        <path\r\n          d=\"M772.9,425.17c-33.75-.76-64.46,16.17-80.79,41.73-5.33,8.34,9.8,15.71,15.1,7.41,13.52-21.16,39.21-34.6,67-33.9,29.12.73,55.62,17.39,69.65,40.51,5.32,8.77,19.27.8,14-7.92C840.8,445,807.76,426,772.9,425.17Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill=\"url(#be08032f-102d-431e-9b5f-1e4ebfc8159b)\"\r\n        ></path>\r\n        <path\r\n          d=\"M892.68,404.63a155.89,155.89,0,0,0-223.11-1.68c-59,59.48-60,156.33-2.29,217.07a155.89,155.89,0,0,0,199.9,22.05L979.86,759.29a7.59,7.59,0,0,0,10.73.21l28.08-27a7.59,7.59,0,0,0,.21-10.73L906.19,604.56A155.9,155.9,0,0,0,892.68,404.63ZM857.58,593a111.5,111.5,0,1,1,3.1-157.66A111.5,111.5,0,0,1,857.58,593Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill={theme.palette.primary.main}\r\n        ></path>\r\n        <path\r\n          d=\"M697.72,481.67c-12.54,0-12.56,19.49,0,19.49S710.28,481.67,697.72,481.67Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill={theme.palette.primary.main}\r\n        ></path>\r\n        <path\r\n          d=\"M785.13,419.25c-33.75-.76-64.46,16.17-80.79,41.73-5.33,8.34,9.8,15.71,15.1,7.41,13.52-21.16,39.21-34.6,67-33.9,29.12.73,55.62,17.39,69.65,40.51,5.32,8.77,19.27.8,14-7.92C853,439,820,420,785.13,419.25Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill={theme.palette.primary.main}\r\n        ></path>\r\n        <rect\r\n          x=\"121.45\"\r\n          y=\"663.91\"\r\n          width=\"3.5\"\r\n          height=\"19.85\"\r\n          fill=\"#47e6b1\"\r\n        ></rect>\r\n        <rect\r\n          x=\"300.45\"\r\n          y=\"724.45\"\r\n          width=\"3.5\"\r\n          height=\"19.85\"\r\n          transform=\"translate(857.58 371.63) rotate(90)\"\r\n          fill=\"#47e6b1\"\r\n        ></rect>\r\n        <path\r\n          d=\"M750.87,68.49a4.29,4.29,0,0,1-2.39-5.19,2.06,2.06,0,0,0,.09-.48h0a2.15,2.15,0,0,0-3.87-1.43h0a2.06,2.06,0,0,0-.24.42,4.29,4.29,0,0,1-5.19,2.39,2.06,2.06,0,0,0-.48-.09h0A2.15,2.15,0,0,0,737.38,68h0a2.06,2.06,0,0,0,.42.24,4.29,4.29,0,0,1,2.39,5.19,2.06,2.06,0,0,0-.09.48h0A2.15,2.15,0,0,0,744,75.32h0a2.06,2.06,0,0,0,.24-.42,4.29,4.29,0,0,1,5.19-2.39,2.06,2.06,0,0,0,.48.09h0a2.15,2.15,0,0,0,1.43-3.87h0A2.06,2.06,0,0,0,750.87,68.49Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill=\"#4d8af0\"\r\n        ></path>\r\n        <path\r\n          d=\"M316.44,215.64a4.29,4.29,0,0,1-2.39-5.19,2.06,2.06,0,0,0,.09-.48h0a2.15,2.15,0,0,0-3.87-1.43h0a2.06,2.06,0,0,0-.24.42,4.29,4.29,0,0,1-5.19,2.39,2.06,2.06,0,0,0-.48-.09h0a2.15,2.15,0,0,0-1.43,3.87h0a2.06,2.06,0,0,0,.42.24,4.29,4.29,0,0,1,2.39,5.19,2.06,2.06,0,0,0-.09.48h0a2.15,2.15,0,0,0,3.87,1.43h0a2.06,2.06,0,0,0,.24-.42,4.29,4.29,0,0,1,5.19-2.39,2.06,2.06,0,0,0,.48.09h0a2.15,2.15,0,0,0,1.43-3.87h0A2.06,2.06,0,0,0,316.44,215.64Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill=\"#fdd835\"\r\n        ></path>\r\n        <path\r\n          d=\"M934.22,822.9a4.29,4.29,0,0,1-2.39-5.19,2.06,2.06,0,0,0,.09-.48h0a2.15,2.15,0,0,0-3.87-1.43h0a2.06,2.06,0,0,0-.24.42,4.29,4.29,0,0,1-5.19,2.39,2.06,2.06,0,0,0-.48-.09h0a2.15,2.15,0,0,0-1.43,3.87h0a2.06,2.06,0,0,0,.42.24,4.29,4.29,0,0,1,2.39,5.19,2.06,2.06,0,0,0-.09.48h0a2.15,2.15,0,0,0,3.87,1.43h0a2.06,2.06,0,0,0,.24-.42,4.29,4.29,0,0,1,5.19-2.39,2.06,2.06,0,0,0,.48.09h0a2.15,2.15,0,0,0,1.43-3.87h0A2.06,2.06,0,0,0,934.22,822.9Z\"\r\n          transform=\"translate(-179 -60.54)\"\r\n          fill=\"#fdd835\"\r\n        ></path>\r\n        <circle cx=\"321.15\" cy=\"75.33\" r=\"7.01\" fill=\"#f55f44\"></circle>\r\n        <circle cx=\"823.31\" cy=\"162.91\" r=\"7.01\" fill=\"#f55f44\"></circle>\r\n        <circle cx=\"783.61\" cy=\"371.95\" r=\"7.01\" fill=\"#4d8af0\"></circle>\r\n        <circle\r\n          cx=\"7.01\"\r\n          cy=\"28.61\"\r\n          r=\"7.01\"\r\n          fill=\"#47e6b1\"\r\n          opacity=\"0.5\"\r\n        ></circle>\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(SearchSVG)\r\n","import { useLocation } from 'react-router-dom'\n\n/**\n * Custom hook for getting query from the URL\n */\nconst useQuery = () => new URLSearchParams(useLocation().search)\n\nexport default useQuery\n","import { Post } from 'src/interfaces'\nimport getImagesFromText from './getImagesFromText'\n\nexport default (post: Post) => {\n  if (post.leadData.imageUrl) return post.leadData.imageUrl\n\n  const imageURLRegExResults = getImagesFromText(\n    post?.textHtml || post?.leadData?.textHtml\n  )\n\n  return imageURLRegExResults ? imageURLRegExResults[1] : null\n}\n","import * as React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport { useLocation, useParams } from 'react-router-dom'\r\nimport { Paper, Button } from '@material-ui/core'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport { useHistory } from 'react-router-dom'\r\nimport PostItem from '../components/blocks/PostItem'\r\nimport { getSearchResults } from '../api'\r\nimport PostSkeleton from '../components/skeletons/PostItem'\r\nimport Pagintaion from '../components/blocks/Pagination'\r\nimport EmptySVG from '../components/svg/Empty'\r\nimport SearchSVG from '../components/svg/Search'\r\nimport { Posts } from '../interfaces'\r\nimport useQuery from '../hooks/useQuery'\r\nimport getPostFirstImage from 'src/utils/getPostFirstImage'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: 600,\r\n    width: '100%',\r\n    background: theme.palette.background.default,\r\n  },\r\n}))\r\n\r\nconst useSearchStyles = makeStyles((theme) => ({\r\n  search: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    margin: theme.spacing(2),\r\n  },\r\n  searchButton: {\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    textTransform: 'none',\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 16,\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n    flex: 1,\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 2),\r\n    width: '100%',\r\n  },\r\n}))\r\n\r\nconst useSvgStyles = makeStyles((theme) => ({\r\n  svgHolder: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n  },\r\n  svgTitle: {\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 18,\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  svg: {\r\n    marginTop: theme.spacing(6),\r\n    width: '65%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    '& svg': { maxWidth: 270, width: '100%', height: '100%' },\r\n  },\r\n}))\r\n\r\nconst useNoResultsStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n    margin: theme.spacing(2),\r\n  },\r\n  title: {\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n  },\r\n  svg: {\r\n    marginTop: theme.spacing(4),\r\n    width: '65%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    '& svg': { maxWidth: 400, width: '100%', height: '100%' },\r\n  },\r\n}))\r\n\r\nconst SearchInput = ({ q }) => {\r\n  const classes = useSearchStyles()\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    history.push('/search/p/1?q=' + e.target.q.value)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={(e) => onSubmit(e)}>\r\n      <Paper elevation={0} className={classes.search}>\r\n        <InputBase\r\n          autoFocus\r\n          name=\"q\"\r\n          defaultValue={q}\r\n          placeholder={t`pages.Search.searchInputPlaceholder`}\r\n          classes={{\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ 'aria-label': 'search' }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          disableElevation\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          className={classes.searchButton}\r\n        >\r\n          {t`pages.Search.searchInputButtonText`}\r\n        </Button>\r\n      </Paper>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst NoResults = () => {\r\n  const classes = useNoResultsStyles()\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.title}>\r\n        {t`pages.Search.noResultsText`}\r\n      </Typography>\r\n      <EmptySVG className={classes.svg} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SearchResultsScreen = ({ q }) => {\r\n  const params = useParams() as { page: string }\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const [data, setData] = useState<Posts>()\r\n  const [fetchError, setError] = useState()\r\n  const [currentPage, setCurrentPage] = useState<number>(Number(params.page))\r\n  const [pagesCount, setPagesCount] = useState<number>()\r\n  const authorizedRequestData = useSelector((store) => store.auth.authorizedRequestData)\r\n\r\n  const handleChange = (_, i) => {\r\n    if (i === currentPage) return\r\n\r\n    setCurrentPage(i)\r\n    setData(null)\r\n    setError(null)\r\n    history.push('/search/p/' + i + location.search)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setError(null)\r\n    setData(null)\r\n\r\n    const get = async () => {\r\n      try {\r\n        const d = await getSearchResults({\r\n          query: q,\r\n          page: currentPage,\r\n          order: 'relevance',\r\n          authData: authorizedRequestData,\r\n        })\r\n        for (const id in d.articleRefs) {\r\n          d.articleRefs[id].postFirstImage = getPostFirstImage(\r\n            d.articleRefs[id]\r\n          )\r\n        }\r\n        setData(d)\r\n        if (!pagesCount) setPagesCount(d.pagesCount)\r\n      } catch (e) {\r\n        setError(e.message)\r\n      }\r\n    }\r\n    get()\r\n  }, [q, currentPage])\r\n\r\n  if (fetchError || data?.articleIds?.length === 0) return <NoResults />\r\n\r\n  return (\r\n    <div>\r\n      {!data && [...new Array(7)].map((_, i) => <PostSkeleton key={i} />)}\r\n      {data &&\r\n        data.articleIds.map((e, i) => (\r\n          <PostItem post={data.articleRefs[e]} key={i} />\r\n        ))}\r\n      <Pagintaion\r\n        disabled={!data}\r\n        steps={pagesCount}\r\n        currentStep={currentPage}\r\n        handleChange={handleChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SvgScreen = () => {\r\n  const classes = useSvgStyles()\r\n  const theme = useTheme()\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div className={classes.svgHolder}>\r\n      <Typography className={classes.svgTitle}>\r\n        {t`pages.Search.svgScreenText`}\r\n      </Typography>\r\n      <SearchSVG theme={theme.palette.type} className={classes.svg} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Search = () => {\r\n  const searchParams = useQuery()\r\n  const classes = useStyles()\r\n  const query = searchParams.get('q')\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <SearchInput q={query} />\r\n      {query && <SearchResultsScreen q={query} />}\r\n      {!query && <SvgScreen />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(Search)\r\n","import React from 'react'\nimport { Toolbar, AppBar } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  MAX_WIDTH,\n  APP_BAR_HEIGHT,\n  FLOWS,\n  DRAWER_WIDTH,\n  MIDDLE_WIDTH,\n} from 'src/config/constants'\nimport getSecondaryAppBarColor from 'src/utils/getSecondaryAppBarColor'\nimport { FlowAlias, FlowObject } from 'src/interfaces'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: getSecondaryAppBarColor(theme),\n    color: theme.palette.text.primary,\n    position: 'absolute',\n    height: APP_BAR_HEIGHT,\n    top: APP_BAR_HEIGHT,\n    flexGrow: 1,\n    zIndex: theme.zIndex.appBar,\n    willChange: 'transform',\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      paddingLeft: DRAWER_WIDTH,\n      position: 'fixed',\n      top: 0,\n    },\n  },\n  toolbar: {\n    minHeight: 'unset',\n    height: APP_BAR_HEIGHT,\n    padding: 0,\n    maxWidth: MAX_WIDTH,\n    width: '100%',\n    flexDirection: 'column',\n  },\n  content: {\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    width: '100%',\n    overflow: 'auto',\n  },\n  link: {\n    '&:first-child': {\n      marginLeft: theme.spacing(1),\n    },\n    '&:last-child': {\n      paddingRight: theme.spacing(2),\n    },\n    flexShrink: 0,\n    textDecoration: 'none',\n    fontWeight: 700,\n    fontFamily: 'Google Sans',\n    fontSize: 15,\n    color: theme.palette.text.secondary,\n    transitionDuration: theme.transitions.duration.shortest + 'ms',\n    transitionTimingFunction: theme.transitions.easing.easeInOut,\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    cursor: 'pointer',\n    userSelect: 'none',\n    '&:hover': {\n      color: theme.palette.primary.main,\n    },\n  },\n  selected: {\n    color: theme.palette.text.primary,\n    '&:hover': {\n      color: theme.palette.text.primary,\n    },\n  },\n}))\n\nconst FlowsBar: React.FC<{\n  flow: FlowAlias\n  onClick: (e: FlowObject) => void\n}> = ({ flow, onClick }) => {\n  const classes = useStyles()\n\n  return (\n    <AppBar className={classes.root} elevation={0}>\n      <Toolbar className={classes.toolbar}>\n        <div className={classes.content}>\n          {FLOWS.map((e, i) => (\n            <a\n              className={[classes.link]\n                .concat(flow == e.alias ? [classes.selected] : [])\n                .join(' ')}\n              key={i}\n              onClick={() => onClick(e)}\n            >\n              {e.title}\n            </a>\n          ))}\n        </div>\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default FlowsBar\n","import { useTheme } from '@material-ui/core'\r\nimport React from 'react'\r\nimport Props from '../../interfaces/SVGProps'\r\n\r\nconst NotFound = ({ svgProps, ...props }: Props) => {\r\n  const isLight = props.theme === 'light'\r\n  const theme = useTheme()\r\n\r\n  return (\r\n    <div {...props}>\r\n      <svg\r\n        id=\"f698cf57-4f6b-4529-a39c-70592e247574\"\r\n        data-name=\"Layer 1\"\r\n        width=\"840\"\r\n        height=\"726.85\"\r\n        viewBox=\"0 0 840 726.85\"\r\n        {...svgProps}\r\n      >\r\n        <defs>\r\n          <linearGradient\r\n            id=\"aba94383-0ea8-4a3d-bf3d-6bf7d0bb624b\"\r\n            x1=\"432\"\r\n            y1=\"245.78\"\r\n            x2=\"432\"\r\n            y2=\"18.85\"\r\n            gradientUnits=\"userSpaceOnUse\"\r\n          >\r\n            <stop offset=\"0\" stopColor=\"gray\" stopOpacity=\"0.25\" />\r\n            <stop offset=\"0.54\" stopColor=\"gray\" stopOpacity=\"0.12\" />\r\n            <stop offset=\"1\" stopColor=\"gray\" stopOpacity=\"0.1\" />\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"e6500262-d2e6-47ad-ace4-95109017cb85\"\r\n            x1=\"447.27\"\r\n            y1=\"1916.01\"\r\n            x2=\"447.27\"\r\n            y2=\"1730.58\"\r\n            gradientTransform=\"matrix(0.95, 0.32, -0.32, 0.95, 752.71, -1245.02)\"\r\n          />\r\n          <linearGradient\r\n            id=\"ba3c64e7-a915-4515-a2e7-88140805555d\"\r\n            x1=\"334.27\"\r\n            y1=\"1539.38\"\r\n            x2=\"334.27\"\r\n            y2=\"1353.95\"\r\n            gradientTransform=\"matrix(0.95, 0.32, -0.32, 0.95, 752.71, -1245.02)\"\r\n          />\r\n          <linearGradient\r\n            id=\"fa3dfd3f-e414-4f67-9974-b38d7e79cebc\"\r\n            x1=\"432\"\r\n            y1=\"258.09\"\r\n            x2=\"432\"\r\n            y2=\"103.27\"\r\n          />\r\n        </defs>\r\n        <title>Not Found</title>\r\n        <g opacity=\"0.8\">\r\n          <ellipse\r\n            cx=\"432\"\r\n            cy=\"132.31\"\r\n            rx=\"146.46\"\r\n            ry=\"113.46\"\r\n            fill=\"url(#aba94383-0ea8-4a3d-bf3d-6bf7d0bb624b)\"\r\n          />\r\n        </g>\r\n        <ellipse\r\n          cx=\"432\"\r\n          cy=\"132.31\"\r\n          rx=\"143.21\"\r\n          ry=\"110.94\"\r\n          fill={theme.palette.primary.main}\r\n        />\r\n        <path\r\n          d=\"M491.94,231.21c0-61.27,64.11-110.94,143.2-110.94A175.54,175.54,0,0,1,706.5,135c-25.17-17-58.1-27.33-94.14-27.33-79.09,0-143.21,49.67-143.21,110.94,0,41.14,28.91,77.05,71.86,96.21C510.94,294.48,491.94,264.57,491.94,231.21Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill=\"#fff\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <polygon\r\n          points=\"432 176.9 590.76 451.88 749.52 726.85 432 726.85 114.48 726.85 273.24 451.88 432 176.9\"\r\n          fill={theme.palette.primary.main}\r\n          opacity=\"0.2\"\r\n        />\r\n        <g opacity=\"0.3\">\r\n          <path\r\n            d=\"M649.67,652.79,662,616.2a62.66,62.66,0,0,0-23.2-70.89l.1-.06a61.48,61.48,0,0,0-15.79-8h0l-.17-.06-.19-.06h0a61.55,61.55,0,0,0-16.9-3.18,59.28,59.28,0,0,0-6.11,0,62.32,62.32,0,0,0-10.49,1.45c-1,.22-2,.47-2.91.74s-1.93.56-2.88.87c-1.9.63-3.77,1.34-5.6,2.15-.92.4-1.83.82-2.72,1.27a61.47,61.47,0,0,0-7.75,4.56c-.83.57-1.64,1.16-2.44,1.76a62,62,0,0,0-21.24,29.6L524.33,634a61.86,61.86,0,0,0-2.68,28.12c.2,1.45.45,2.89.74,4.32s.65,2.84,1,4.24c.27.93.55,1.86.86,2.78.46,1.37,1,2.74,1.51,4.08.37.89.76,1.78,1.17,2.66.81,1.75,1.71,3.46,2.68,5.13s2,3.3,3.16,4.88c.84,1.18,1.73,2.34,2.65,3.46,1.24,1.5,2.54,3,3.92,4.33a61.81,61.81,0,0,0,21,13.89h0l0,0,.34.14a21.66,21.66,0,0,1,1.4-2.17c3-4.11,8.22-7,13.19-5.92.36.08.72.19,1.08.3,2.52.89,5,2.48,7.43,3.26a6.66,6.66,0,0,0,5.61-.07c4.86-2.59,3.06-10.76,7.23-14.34a6.5,6.5,0,0,1,.61-.46,1.88,1.88,0,0,1-.16-.23c3.22-2,7.68-.67,11.39.62,4,1.41,9.22,2.36,12-.91,1.88-2.24,1.74-5.65,3.53-8,2.08-2.7,6-3,9.39-2.52l.17.05c6.5,2.68,13.6-1.77,13.1-8.78C646.06,663.51,649,654.7,649.67,652.79Z\"\r\n            transform=\"translate(-180 -86.57)\"\r\n            fill=\"url(#e6500262-d2e6-47ad-ace4-95109017cb85)\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M563.21,706.78c2.92-4,7.93-6.8,12.73-5.71s9.35,5.66,13.62,3.37c5.84-3.12,1.7-14.59,11.18-15.44a12.44,12.44,0,0,1,5.77,1c4,1.63,10.26,3.47,13.34-.2,1.81-2.16,1.68-5.45,3.41-7.69,2-2.6,5.81-2.93,9.06-2.43l.16.05c6.27,2.59,13.13-1.71,12.64-8.47-.63-9,2.23-17.48,2.85-19.32l11.88-35.31A60.38,60.38,0,0,0,622,540.34h0a60.38,60.38,0,0,0-76.27,37.86L527,633.73a60.39,60.39,0,0,0,34.82,75.15A21.47,21.47,0,0,1,563.21,706.78Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill={isLight ? '#fff' : '#ffffff55'}\r\n        />\r\n        <circle cx=\"405.35\" cy=\"486.08\" r=\"6.51\" opacity=\"0.2\" />\r\n        <circle cx=\"442.37\" cy=\"498.53\" r=\"6.51\" opacity=\"0.2\" />\r\n        <ellipse\r\n          cx=\"595.55\"\r\n          cy=\"603.56\"\r\n          rx=\"9.76\"\r\n          ry=\"6.51\"\r\n          transform=\"translate(-346.41 888.98) rotate(-71.4)\"\r\n          fill={isLight ? '#e0e0e0' : '#000'}\r\n          opacity={isLight ? 1 : 0.2}\r\n        />\r\n        <circle\r\n          cx=\"552.53\"\r\n          cy=\"487.52\"\r\n          r=\"9.76\"\r\n          fill={isLight ? '#fff' : '#ffffff55'}\r\n        />\r\n        <circle\r\n          cx=\"583.45\"\r\n          cy=\"472.17\"\r\n          r=\"4.88\"\r\n          fill={isLight ? '#fff' : '#ffffff55'}\r\n        />\r\n        <g opacity=\"0.5\">\r\n          <g opacity=\"0.3\">\r\n            <path\r\n              d=\"M662.67,259.79,675,223.2a62.66,62.66,0,0,0-23.2-70.89l.1-.06a61.48,61.48,0,0,0-15.79-8h0l-.17-.06-.19-.06h0a61.55,61.55,0,0,0-16.9-3.18,59.28,59.28,0,0,0-6.11,0,62.32,62.32,0,0,0-10.49,1.45c-1,.22-2,.47-2.91.74s-1.93.56-2.88.87c-1.9.63-3.77,1.34-5.6,2.15-.92.4-1.83.82-2.72,1.27a61.47,61.47,0,0,0-7.75,4.56c-.83.57-1.64,1.16-2.44,1.76a62,62,0,0,0-21.24,29.6L537.33,241a61.86,61.86,0,0,0-2.68,28.12c.2,1.45.45,2.89.74,4.32s.65,2.84,1,4.24c.27.93.55,1.86.86,2.78.46,1.37,1,2.74,1.51,4.08.37.89.76,1.78,1.17,2.66.81,1.75,1.71,3.46,2.68,5.13s2,3.3,3.16,4.88c.84,1.18,1.73,2.34,2.65,3.46,1.24,1.5,2.54,2.95,3.92,4.33a61.81,61.81,0,0,0,21,13.89h0l0,0,.34.14a21.66,21.66,0,0,1,1.4-2.17c3-4.11,8.22-7,13.19-5.92.36.08.72.19,1.08.3,2.52.89,5,2.48,7.43,3.26a6.66,6.66,0,0,0,5.61-.07c4.86-2.59,3.06-10.76,7.23-14.34a6.5,6.5,0,0,1,.61-.46,1.88,1.88,0,0,1-.16-.23c3.22-2,7.68-.67,11.39.62,4,1.41,9.22,2.36,12-.91,1.88-2.24,1.74-5.65,3.53-8,2.08-2.7,6-3,9.39-2.52l.17,0c6.5,2.68,13.6-1.77,13.1-8.78C659.06,270.51,662,261.7,662.67,259.79Z\"\r\n              transform=\"translate(-180 -86.57)\"\r\n              fill=\"url(#ba3c64e7-a915-4515-a2e7-88140805555d)\"\r\n            />\r\n          </g>\r\n          <path\r\n            d=\"M576.21,313.78c2.92-4,7.93-6.8,12.73-5.71s9.35,5.66,13.62,3.37c5.84-3.12,1.7-14.59,11.18-15.44a12.44,12.44,0,0,1,5.77,1c4,1.63,10.26,3.47,13.34-.2,1.81-2.16,1.68-5.45,3.41-7.69,2-2.6,5.81-2.93,9.06-2.43l.16.05c6.27,2.59,13.13-1.71,12.64-8.47-.63-9,2.23-17.48,2.85-19.32l11.88-35.31A60.38,60.38,0,0,0,635,147.34h0a60.38,60.38,0,0,0-76.27,37.86L540,240.73a60.39,60.39,0,0,0,34.82,75.15A21.47,21.47,0,0,1,576.21,313.78Z\"\r\n            transform=\"translate(-180 -86.57)\"\r\n            fill=\"#fff\"\r\n          />\r\n          <circle cx=\"418.35\" cy=\"93.08\" r=\"6.51\" opacity=\"0.2\" />\r\n          <circle cx=\"455.37\" cy=\"105.53\" r=\"6.51\" opacity=\"0.2\" />\r\n        </g>\r\n        <path\r\n          d=\"M749.52,186A87.52,87.52,0,0,1,752.31,208c0,61.27-64.11,110.94-143.2,110.94C544.38,318.9,489.69,285.64,472,240c13.14,50.77,71,89,140.41,89,79.09,0,143.21-49.67,143.21-110.94A88.16,88.16,0,0,0,749.52,186Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          opacity=\"0.1\"\r\n        />\r\n        <g opacity=\"0.8\">\r\n          <ellipse\r\n            cx=\"432\"\r\n            cy=\"180.68\"\r\n            rx=\"296.18\"\r\n            ry=\"77.41\"\r\n            fill=\"url(#fa3dfd3f-e414-4f67-9974-b38d7e79cebc)\"\r\n          />\r\n        </g>\r\n        <path\r\n          d=\"M612,192.4c-158.18,0-286.42,33.51-286.42,74.86H898.42C898.42,225.91,770.18,192.4,612,192.4Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill={isLight ? '#fff' : '#777'}\r\n        />\r\n        <path\r\n          d=\"M612,342.11c158.18,0,286.42-33.51,286.42-74.85H325.58C325.58,308.6,453.82,342.11,612,342.11Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill={isLight ? '#fff' : '#777'}\r\n        />\r\n        <path\r\n          d=\"M612,342.11c158.18,0,286.42-33.51,286.42-74.85H325.58C325.58,308.6,453.82,342.11,612,342.11Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          opacity=\"0.05\"\r\n        />\r\n        <rect\r\n          x=\"295.3\"\r\n          y=\"161.15\"\r\n          width=\"273.4\"\r\n          height=\"39.06\"\r\n          rx=\"17.22\"\r\n          opacity=\"0.05\"\r\n        />\r\n        <path\r\n          d=\"M313.89,144.38a3.68,3.68,0,0,1-2.05-4.44,1.86,1.86,0,0,0,.08-.41h0a1.84,1.84,0,0,0-3.31-1.22h0a1.82,1.82,0,0,0-.2.36,3.67,3.67,0,0,1-4.44,2.05,2,2,0,0,0-.41-.08h0a1.84,1.84,0,0,0-1.22,3.31h0a1.62,1.62,0,0,0,.36.21,3.68,3.68,0,0,1,2.05,4.44,1.89,1.89,0,0,0-.08.4h0a1.84,1.84,0,0,0,3.31,1.23h0a1.65,1.65,0,0,0,.2-.37,3.67,3.67,0,0,1,4.44-2,2,2,0,0,0,.41.08h0a1.84,1.84,0,0,0,1.22-3.31h0A1.62,1.62,0,0,0,313.89,144.38Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill=\"#4d8af0\"\r\n          opacity=\"0.5\"\r\n        />\r\n        <path\r\n          d=\"M822.89,450.38a3.68,3.68,0,0,1-2-4.44,1.86,1.86,0,0,0,.08-.41h0a1.84,1.84,0,0,0-3.31-1.22h0a1.82,1.82,0,0,0-.2.36,3.67,3.67,0,0,1-4.44,2.05,2,2,0,0,0-.41-.08h0a1.84,1.84,0,0,0-1.22,3.31h0a1.62,1.62,0,0,0,.36.21,3.68,3.68,0,0,1,2,4.44,1.89,1.89,0,0,0-.08.4h0a1.84,1.84,0,0,0,3.31,1.23h0a1.65,1.65,0,0,0,.2-.37,3.67,3.67,0,0,1,4.44-2,2,2,0,0,0,.41.08h0a1.84,1.84,0,0,0,1.22-3.31h0A1.62,1.62,0,0,0,822.89,450.38Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill=\"#4d8af0\"\r\n          opacity=\"0.5\"\r\n        />\r\n        <path\r\n          d=\"M260.89,592.38a3.68,3.68,0,0,1-2.05-4.44,1.86,1.86,0,0,0,.08-.41h0a1.84,1.84,0,0,0-3.31-1.22h0a1.82,1.82,0,0,0-.2.36,3.67,3.67,0,0,1-4.44,2.05,2,2,0,0,0-.41-.08h0a1.84,1.84,0,0,0-1.22,3.31h0a1.62,1.62,0,0,0,.36.21,3.68,3.68,0,0,1,2.05,4.44,1.89,1.89,0,0,0-.08.4h0a1.84,1.84,0,0,0,3.31,1.23h0a1.65,1.65,0,0,0,.2-.37,3.67,3.67,0,0,1,4.44-2,2,2,0,0,0,.41.08h0a1.84,1.84,0,0,0,1.22-3.31h0A1.62,1.62,0,0,0,260.89,592.38Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill=\"#4d8af0\"\r\n          opacity=\"0.5\"\r\n        />\r\n        <path\r\n          d=\"M205.89,261.38a3.68,3.68,0,0,1-2-4.44,1.86,1.86,0,0,0,.08-.41h0a1.84,1.84,0,0,0-3.31-1.22h0a1.82,1.82,0,0,0-.2.36,3.67,3.67,0,0,1-4.44,2.05,2,2,0,0,0-.41-.08h0a1.84,1.84,0,0,0-1.22,3.31h0a1.62,1.62,0,0,0,.36.21,3.68,3.68,0,0,1,2.05,4.44,1.89,1.89,0,0,0-.08.4h0a1.84,1.84,0,0,0,3.31,1.23h0a1.65,1.65,0,0,0,.2-.37,3.67,3.67,0,0,1,4.44-2,2,2,0,0,0,.41.08h0a1.84,1.84,0,0,0,1.22-3.31h0A1.62,1.62,0,0,0,205.89,261.38Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill=\"#4d8af0\"\r\n          opacity=\"0.5\"\r\n        />\r\n        <path\r\n          d=\"M812.89,93.38a3.68,3.68,0,0,1-2-4.44,1.86,1.86,0,0,0,.08-.41h0a1.84,1.84,0,0,0-3.31-1.22h0a1.82,1.82,0,0,0-.2.36,3.67,3.67,0,0,1-4.44,2,2,2,0,0,0-.41-.08h0A1.84,1.84,0,0,0,801.34,93h0a1.62,1.62,0,0,0,.36.21,3.68,3.68,0,0,1,2,4.44,1.89,1.89,0,0,0-.08.4h0A1.84,1.84,0,0,0,807,99.23h0a1.65,1.65,0,0,0,.2-.37,3.67,3.67,0,0,1,4.44-2,2,2,0,0,0,.41.08h0a1.84,1.84,0,0,0,1.22-3.31h0A1.62,1.62,0,0,0,812.89,93.38Z\"\r\n          transform=\"translate(-180 -86.57)\"\r\n          fill=\"#4d8af0\"\r\n          opacity=\"0.5\"\r\n        />\r\n        <g opacity=\"0.5\">\r\n          <rect x=\"110\" y=\"257.85\" width=\"3\" height=\"17\" fill=\"#47e6b1\" />\r\n          <rect\r\n            x=\"290\"\r\n            y=\"344.43\"\r\n            width=\"3\"\r\n            height=\"17\"\r\n            transform=\"translate(464.43 -25.15) rotate(90)\"\r\n            fill=\"#47e6b1\"\r\n          />\r\n        </g>\r\n        <g opacity=\"0.5\">\r\n          <rect x=\"830\" y=\"177.85\" width=\"3\" height=\"17\" fill=\"#47e6b1\" />\r\n          <rect\r\n            x=\"1010\"\r\n            y=\"264.43\"\r\n            width=\"3\"\r\n            height=\"17\"\r\n            transform=\"translate(1104.43 -825.15) rotate(90)\"\r\n            fill=\"#47e6b1\"\r\n          />\r\n        </g>\r\n        <g opacity=\"0.5\">\r\n          <rect x=\"730\" y=\"456.85\" width=\"3\" height=\"17\" fill=\"#47e6b1\" />\r\n          <rect\r\n            x=\"910\"\r\n            y=\"543.43\"\r\n            width=\"3\"\r\n            height=\"17\"\r\n            transform=\"translate(1283.43 -446.15) rotate(90)\"\r\n            fill=\"#47e6b1\"\r\n          />\r\n        </g>\r\n        <circle cx=\"723\" cy=\"81.85\" r=\"6\" fill=\"#f55f44\" opacity=\"0.5\" />\r\n        <circle cx=\"6\" cy=\"12.85\" r=\"6\" fill=\"#f55f44\" opacity=\"0.5\" />\r\n        <circle cx=\"186\" cy=\"357.85\" r=\"6\" fill=\"#f55f44\" opacity=\"0.5\" />\r\n        <ellipse cx=\"234\" cy=\"154.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"234\" cy=\"207.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"621\" cy=\"154.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"621\" cy=\"207.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"432\" cy=\"124.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"457\" cy=\"51.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"392\" cy=\"81.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"517\" cy=\"94.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n        <ellipse cx=\"432\" cy=\"228.43\" rx=\"34\" ry=\"7\" opacity=\"0.05\" />\r\n      </svg>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(NotFound)\r\n","import * as React from 'react'\r\nimport NotFoundSVG from '../components/svg/NotFound'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\r\nimport { Typography } from '@material-ui/core'\r\nimport { Link } from 'react-router-dom'\r\nimport isMobile from 'is-mobile'\r\nimport { Trans, useTranslation } from 'react-i18next'\r\n\r\nconst chromeAddressBarHeight = 56\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: 600,\r\n    width: '100%',\r\n    flexDirection: 'column',\r\n    height: `calc(100vh - 96px - ${\r\n      isMobile() ? chromeAddressBarHeight : '0'\r\n    }px)`,\r\n  },\r\n  title: {\r\n    fontFamily: 'Google Sans',\r\n    fontWeight: 800,\r\n    fontSize: 28,\r\n  },\r\n  text: {\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 16,\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n      color: theme.palette.primary.light,\r\n    },\r\n  },\r\n  svg: {\r\n    marginTop: theme.spacing(4),\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    '& svg': { maxWidth: 256, width: '100%', height: '100%' },\r\n  },\r\n}))\r\n\r\nconst NotFound = () => {\r\n  const classes = useStyles()\r\n  const theme = useTheme()\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.title}>four-o-four</Typography>\r\n      <Typography\r\n        className={classes.text}\r\n      >{t`pages.NotFound.title`}</Typography>\r\n      <Typography className={classes.text}>\r\n        <Trans i18nKey=\"pages.NotFound.text\">\r\n          <Link to=\"/\" className={classes.link} />\r\n        </Trans>\r\n      </Typography>\r\n      <NotFoundSVG theme={theme.palette.type} className={classes.svg} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(NotFound)\r\n","import React, { useEffect } from 'react'\nimport SideBlock from 'src/components/blocks/SideBlock'\nimport Sidebar from 'src/components/blocks/Sidebar'\nimport { getMostReading, getTopCompanies } from 'src/store/actions/home'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'src/hooks'\nimport { Company, FetchingState, Post } from 'src/interfaces'\nimport { makeStyles, lighten, darken, fade } from '@material-ui/core/styles'\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble'\nimport getPostLink from 'src/utils/getPostLink'\nimport parse from 'html-react-parser'\nimport formatNumber from 'src/utils/formatNumber'\nimport purple from '@material-ui/core/colors/purple'\nimport { Button } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\nimport { Skeleton } from '@material-ui/lab'\n\nconst ld = { lighten, darken }\nconst useSkeletonStyles = makeStyles((theme) => ({\n  skeleton: {\n    backgroundColor: theme.palette.action.hover,\n    borderRadius: 8,\n  },\n}))\n\nconst useStyles = makeStyles((theme) => ({\n  companiesChildrenContainerProps: {\n    marginBottom: 12,\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(0, 2),\n  },\n  button: {\n    marginTop: 12,\n    width: '100%',\n  },\n}))\n\nconst usePostItemStyles = makeStyles((theme) => ({\n  root: {\n    background: 'transparent',\n    borderRadius: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    marginTop: theme.spacing(2),\n    paddingTop: theme.spacing(2),\n    borderTop: '1px solid ' + fade(theme.palette.divider, 0.05),\n    '&:first-child': {\n      marginTop: 0,\n      paddingTop: 0,\n      borderTop: 'none',\n    },\n  },\n  bottomRow: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: '100%',\n  },\n  bottomRowItem: {\n    color: theme.palette.text.hint,\n    textDecoration: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontWeight: 600,\n    '-webkit-tap-highlight-color': fade(theme.palette.background.paper, 0.3),\n  },\n  bottomRowItemIcon: {\n    fontSize: 16,\n    marginRight: theme.spacing(1),\n  },\n  bottomRowItemText: {\n    fontSize: 13,\n    fontWeight: 600,\n  },\n  title: {\n    color: theme.palette.text.primary,\n    '&:visited > p': {\n      color: ld[theme.palette.type + 'en'](theme.palette.text.primary, 0.4),\n    },\n    fontWeight: 800,\n    fontFamily: '\"Google Sans\"',\n    fontSize: 15,\n    marginTop: (hasImage) => (hasImage ? 0 : theme.spacing(1)),\n    textDecoration: 'none !important',\n    marginBottom: theme.spacing(1),\n  },\n  marginLeft: {\n    marginLeft: theme.spacing(3),\n  },\n}))\n\nconst useCompanyItemStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    textDecoration: 'none !important',\n    background: 'transparent !important',\n    marginTop: theme.spacing(2),\n    color: theme.palette.text.primary,\n    '&:first-child': {\n      marginTop: 0,\n    },\n  },\n  avatar: {\n    marginRight: theme.spacing(1.5),\n    width: 36,\n    height: 36,\n    borderRadius: 4,\n  },\n  title: {\n    fontSize: 13,\n    fontWeight: 700,\n    lineHeight: '18px',\n  },\n  rating: {\n    marginLeft: 'auto',\n    fontSize: 13,\n    fontWeight: 700,\n    lineHeight: '18px',\n    color: theme.palette.type === 'dark' ? purple[200] : purple.A700,\n  },\n}))\n\nconst CompanyItem: React.FC<{ data: Company }> = ({ data }) => {\n  const classes = useCompanyItemStyles()\n  const companyLink = '/company/' + data.alias\n\n  return (\n    <LinkToOutsidePage className={classes.root} to={companyLink}>\n      <img className={classes.avatar} alt={data.alias} src={data.imageUrl} />\n      <span className={classes.title}>{parse(data.titleHtml)}</span>\n      <span className={classes.rating}>{data.statistics.rating}</span>\n    </LinkToOutsidePage>\n  )\n}\n\nconst PostItem: React.FC<{ data: Post }> = ({ data }) => {\n  const classes = usePostItemStyles()\n  const { titleHtml: unparsedTitle, statistics } = data\n  const postLink = getPostLink(data)\n  const title = parse(unparsedTitle)\n  const { readingCount, commentsCount } = statistics\n  const comments = formatNumber(Number(commentsCount))\n  const reads = formatNumber(readingCount)\n\n  return (\n    <div className={classes.root}>\n      <LinkToOutsidePage className={classes.title} to={postLink}>\n        {title}\n      </LinkToOutsidePage>\n\n      <div className={classes.bottomRow}>\n        <div className={classes.bottomRowItem}>\n          <VisibilityIcon className={classes.bottomRowItemIcon} />\n          <span className={classes.bottomRowItemText}>{reads}</span>\n        </div>\n        <LinkToOutsidePage\n          to={postLink + '/comments'}\n          className={classes.bottomRowItem + ' ' + classes.marginLeft}\n        >\n          <ChatBubbleIcon className={classes.bottomRowItemIcon} />\n          <span className={classes.bottomRowItemText}>{comments}</span>\n        </LinkToOutsidePage>\n      </div>\n    </div>\n  )\n}\n\nconst MostReadingSideBlockSkeleton = () => {\n  const classes = useSkeletonStyles()\n  const postItemClasses = usePostItemStyles()\n  return (\n    <>\n      {[...Array(5)].map((_, i) => (\n        <div key={i} className={postItemClasses.root}>\n          <Skeleton\n            variant=\"rect\"\n            width={'85%'}\n            height={13}\n            className={[classes.skeleton, postItemClasses.title].join(' ')}\n          />\n          <Skeleton\n            variant=\"rect\"\n            width={'70%'}\n            height={13}\n            style={{ marginTop: 4 }}\n            className={[classes.skeleton, postItemClasses.title].join(' ')}\n          />\n          <Skeleton\n            variant=\"rect\"\n            width={'75%'}\n            height={13}\n            style={{ marginTop: 4 }}\n            className={[classes.skeleton, postItemClasses.title].join(' ')}\n          />\n          <div className={postItemClasses.bottomRow} style={{ marginTop: 4 }}>\n            <div className={postItemClasses.bottomRowItem}>\n              <Skeleton\n                width={14}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemIcon,\n                ].join(' ')}\n              />\n              <Skeleton\n                width={44}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemText,\n                ].join(' ')}\n              />\n            </div>\n            <div\n              className={\n                postItemClasses.bottomRowItem + ' ' + postItemClasses.marginLeft\n              }\n            >\n              <Skeleton\n                width={14}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemIcon,\n                ].join(' ')}\n              />\n              <Skeleton\n                width={32}\n                variant=\"rect\"\n                height={14}\n                className={[\n                  classes.skeleton,\n                  postItemClasses.bottomRowItemText,\n                ].join(' ')}\n              />\n            </div>\n          </div>\n        </div>\n      ))}\n    </>\n  )\n}\n\nconst CompaniesSideBlockSkeleton = () => {\n  const classes = useSkeletonStyles()\n  const companyItemClasses = useCompanyItemStyles()\n  return (\n    <>\n      {[...Array(10)].map((_, i) => (\n        <div key={i} className={companyItemClasses.root}>\n          <Skeleton\n            variant=\"rect\"\n            className={[classes.skeleton, companyItemClasses.avatar].join(' ')}\n          />\n          <Skeleton\n            variant=\"rect\"\n            width={84}\n            height={14}\n            className={[classes.skeleton, companyItemClasses.title].join(' ')}\n          />\n          <Skeleton\n            variant=\"rect\"\n            width={44}\n            height={14}\n            className={[classes.skeleton, companyItemClasses.rating].join(' ')}\n          />\n        </div>\n      ))}\n    </>\n  )\n}\n\nconst HomeSidebar = () => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n  const mostReadingState = useSelector(\n    (store) => store.home.sidebar.mostReading.state\n  )\n  const mostReadingFetchError = useSelector(\n    (store) => store.home.sidebar.mostReading.fetchError\n  )\n  const mostReading = useSelector(\n    (store) => store.home.sidebar.mostReading.data\n  )\n  const topCompaniesState = useSelector(\n    (store) => store.home.sidebar.topCompanies.state\n  )\n  const topCompaniesFetchError = useSelector(\n    (store) => store.home.sidebar.topCompanies.fetchError\n  )\n  const topCompanies = useSelector(\n    (store) => store.home.sidebar.topCompanies.data\n  )\n\n  useEffect(() => {\n    dispatch(getMostReading())\n    dispatch(getTopCompanies())\n\n    if (mostReadingState === FetchingState.Error) {\n      console.error(\n        'Fetch error in HomeSidebar (mostReading):',\n        mostReadingFetchError\n      )\n    }\n    if (topCompaniesState === FetchingState.Error) {\n      console.error(\n        'Fetch error in HomeSidebar (topCompanies):',\n        topCompaniesFetchError\n      )\n    }\n  }, [])\n\n  return (\n    <Sidebar>\n      {topCompaniesState !== FetchingState.Error && (\n        <SideBlock\n          childrenContainerProps={{\n            className: classes.companiesChildrenContainerProps,\n          }}\n          title={'Лучшие компании'}\n        >\n          {topCompaniesState !== FetchingState.Fetched && (\n            <CompaniesSideBlockSkeleton />\n          )}\n          {topCompaniesState === FetchingState.Fetched &&\n            topCompanies.companyIds.map((e) => (\n              <CompanyItem data={topCompanies.companyRefs[e]} key={e} />\n            ))}\n          <Link\n            to={'/companies/p/1'}\n            style={{\n              textDecoration: 'none',\n            }}\n          >\n            <Button className={classes.button} size=\"small\" color=\"primary\">\n              Все компании\n            </Button>\n          </Link>\n        </SideBlock>\n      )}\n      {mostReadingState !== FetchingState.Error && (\n        <SideBlock title={'Читают сейчас'}>\n          {mostReadingState !== FetchingState.Fetched && (\n            <MostReadingSideBlockSkeleton />\n          )}\n          {mostReadingState === FetchingState.Fetched &&\n            mostReading.articleIds\n              .slice(0, 5)\n              .map((e) => (\n                <PostItem data={mostReading.articleRefs[e]} key={e} />\n              ))}\n        </SideBlock>\n      )}\n    </Sidebar>\n  )\n}\n\nexport default HomeSidebar\n","import * as React from 'react'\r\nimport { useEffect } from 'react'\r\nimport List from '@material-ui/core/List'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PostSkeleton from '../components/skeletons/PostItem'\r\nimport PostItem from '../components/blocks/PostItem'\r\nimport Pagination from '../components/blocks/Pagination'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport ErrorComponent from '../components/blocks/Error'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getNews } from 'src/store/actions/news'\r\nimport { useSelector } from 'src/hooks'\r\nimport { APP_BAR_HEIGHT, FLOWS, MIN_WIDTH } from 'src/config/constants'\r\nimport FlowsBar from 'src/components/blocks/FlowsBar'\r\nimport FlowAlias from 'src/interfaces/FlowAlias'\r\nimport { FlowObject } from 'src/interfaces'\r\nimport useQuery from 'src/hooks/useQuery'\r\nimport NotFound from './NotFound'\r\nimport MainBlock from 'src/components/blocks/MainBlock'\r\nimport Sidebar from 'src/pages/Home/Sidebar'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    background: theme.palette.background.default,\r\n    padding: 0,\r\n    width: '100%',\r\n    marginTop: APP_BAR_HEIGHT,\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      paddingTop: theme.spacing(1.5),\r\n    },\r\n  },\r\n  sidebar: {\r\n    marginTop: APP_BAR_HEIGHT + theme.spacing(1.5),\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n    height: '100%',\r\n  },\r\n}))\r\n\r\ntype NewsPathParams = { page: string }\r\n\r\nconst News = () => {\r\n  const params = useParams() as NewsPathParams\r\n  const query = useQuery()\r\n  const flow = (query.get('flow') || 'all') as FlowAlias\r\n\r\n  /** Show 404 page when 'flow' value is outside of flows aliases */\r\n  if (!FLOWS.some((e) => e.alias === flow)) {\r\n    return <NotFound />\r\n  }\r\n\r\n  const currentPage = Number(params.page)\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const isFetched = useSelector((state) => state.news.fetched)\r\n  const isFetching = useSelector((state) => state.news.fetching)\r\n  const fetchError = useSelector((state) => state.news.error)\r\n  const posts = useSelector((state) =>\r\n    flow === 'all'\r\n      ? state.news.data.pages[currentPage]\r\n      : state.news.flows[flow].pages[currentPage]\r\n  )\r\n  const pagesCount = useSelector((state) =>\r\n    flow === 'all'\r\n      ? state.news.data.pagesCount\r\n      : state.news.flows[flow].pagesCount\r\n  )\r\n\r\n  const PaginationComponent = () =>\r\n    pagesCount ? (\r\n      <Pagination\r\n        disabled={isFetching}\r\n        handleChange={handlePagination}\r\n        steps={pagesCount}\r\n        currentStep={currentPage}\r\n      />\r\n    ) : null\r\n\r\n  const handlePagination = (_: never, i: number) => {\r\n    if (i === currentPage) return\r\n    else history.push('/news/p/' + i)\r\n  }\r\n\r\n  const onFlowsBarLinkClick = (e: FlowObject) => {\r\n    if (e.alias === 'all') {\r\n      history.push('/news/p/1')\r\n    } else {\r\n      history.push('/news/p/1?flow=' + e.alias)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(getNews(currentPage, flow))\r\n  }, [currentPage, dispatch, flow, location.pathname, location.search])\r\n\r\n  return (\r\n    <>\r\n      <MainBlock>\r\n        <FlowsBar onClick={onFlowsBarLinkClick} flow={flow} />\r\n        <List className={classes.root}>\r\n          {isFetching &&\r\n            [...new Array(7)].map((_, i) => <PostSkeleton key={i} />)}\r\n          {isFetched &&\r\n            !fetchError &&\r\n            posts &&\r\n            posts.articleIds.map((i: number) => (\r\n              <PostItem post={posts.articleRefs[i]} key={i} />\r\n            ))}\r\n          {fetchError && (\r\n            <ErrorComponent message={fetchError.error.message} to=\"/news/p/1\" />\r\n          )}\r\n          <PaginationComponent />\r\n        </List>\r\n      </MainBlock>\r\n      <div className={classes.sidebar}>\r\n        <Sidebar />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default React.memo(News)\r\n","import * as api from 'src/api'\r\nimport { FlowAlias } from 'src/interfaces'\r\nimport { shouldUpdate } from 'src/utils/cache'\r\nimport { RootState } from '..'\r\nimport { NEWS_PREFIX } from '../reducers/news/types'\r\n\r\nexport const getNews = (\r\n  page: number,\r\n  flow: FlowAlias = 'all',\r\n  forceUpdate = false\r\n) => async (dispatch, getState: () => RootState) => {\r\n  const type = NEWS_PREFIX + 'FETCH'\r\n\r\n  // Get data from root store to find out if we're going to fetch a data or not\r\n  const storeState = getState()\r\n  const storeData =\r\n    flow === 'all'\r\n      ? storeState.news.data.pages[page]\r\n      : storeState.news.flows[flow].pages[page]\r\n  if (!shouldUpdate(storeData) && !forceUpdate) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  dispatch({ type, payload: { page, flow } })\r\n\r\n  try {\r\n    const data = await api.getNews({ page, flow })\r\n    const pagesCount = data?.pagesCount\r\n\r\n    dispatch({\r\n      type: type + '_FULFILLED',\r\n      payload: { data, page, pagesCount, flow },\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: type + '_REJECTED',\r\n      payload: { error: error.message, page, flow },\r\n    })\r\n  }\r\n}\r\n\r\nexport const getNewsPromo = (hubAlias?: string) => async (\r\n  dispatch,\r\n  getState: () => RootState\r\n) => {\r\n  const type = NEWS_PREFIX + 'PROMO_FETCH'\r\n  // Get data from root store to find out if we're going to fetch a data or not\r\n  const storeData = getState().news.block\r\n  if (!hubAlias && !shouldUpdate(storeData)) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  dispatch({ type })\r\n\r\n  try {\r\n    const data = await api.getNewsPromo({ hubAlias })\r\n    dispatch({ type: type + '_FULFILLED', payload: { data } })\r\n  } catch (error) {\r\n    dispatch({ type: type + '_REJECTED', error: error.message })\r\n  }\r\n}\r\n","import React from 'react'\n\nconst Pencil = (\n  props: JSX.IntrinsicAttributes & React.SVGProps<SVGSVGElement>\n) => {\n  return (\n    <svg id=\"pencil-small\" viewBox=\"0 0 12 12\" {...props}>\n      <path d=\"M2 10H4.1715L9.1715 5L7 2.8285L2 7.8285V10ZM0 7L7 0L12 5L5 12H0V7Z\"></path>\n    </svg>\n  )\n}\n\nexport default Pencil\n","import React, { useRef } from 'react'\nimport { Comment as CommentData } from 'src/interfaces'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport FormattedText from 'src/components/formatters/FormattedText'\nimport UserAvatar from 'src/components/blocks/UserAvatar'\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\nimport {\n  Button,\n  fade,\n  IconButton,\n  Fade,\n  Typography,\n  useMediaQuery,\n  Tooltip,\n} from '@material-ui/core'\nimport dayjs from 'dayjs'\nimport { lightGreen } from '@material-ui/core/colors'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\nimport BookmarkIcon from '@material-ui/icons/Bookmark'\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\nimport {\n  LazyLoadComponent,\n  ScrollPosition,\n} from 'react-lazy-load-image-component'\nimport ChevronRightRoundedIcon from '@material-ui/icons/ChevronRightRounded'\nimport { Icon16Up, Icon16Down } from '@vkontakte/icons'\nimport { useSelector } from 'src/hooks'\nimport { useDispatch } from 'react-redux'\nimport { setPostCommentSize } from 'src/store/actions/post'\nimport Pencil from 'src/components/svg/Pencil'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'relative',\n    '-webkit-tap-highlight-color': 'transparent !important',\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n    background: theme.palette.background.paper,\n    paddingTop: theme.spacing(2),\n  },\n  ufo: {},\n  ufoMessage: {\n    color: theme.palette.text.secondary,\n  },\n  ufoDepthLinesHolder: {\n    position: 'relative',\n  },\n  firstInThread: {\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderTopLeftRadius: 8,\n      borderTopRightRadius: 8,\n    },\n  },\n  bottomPadding: {\n    paddingBottom: theme.spacing(2) + 'px !important',\n  },\n  lastInThread: {\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderBottomLeftRadius: 8,\n      borderBottomRightRadius: 8,\n    },\n    paddingBottom: theme.spacing(1.5) + 'px !important',\n  },\n  wrapper: {\n    '&:hover': {\n      opacity: '1 !important',\n    },\n    transitionDuration: '0.1s',\n  },\n  authorBar: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 4,\n    margin: -4,\n    borderRadius: 2,\n    height: 24,\n    '&:focus': {\n      outline: '1px solid ' + fade(theme.palette.primary.main, 0.75),\n    },\n  },\n  authorBarOP: {\n    background: fade(lightGreen[400], 0.2),\n    '&:focus': {\n      outline: '1px solid ' + fade(lightGreen[400], 0.75),\n    },\n  },\n  authorBarLink: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    textDecoration: 'none',\n    marginRight: theme.spacing(1),\n  },\n  bottomBar: {\n    marginTop: theme.spacing(0.5),\n    display: 'flex',\n    alignItems: 'center',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      marginTop: theme.spacing(1),\n    },\n  },\n  depthLine: {\n    position: 'absolute',\n    borderLeft: '1px solid ' + fade(theme.palette.divider, 0.05),\n  },\n  avatar: {\n    width: 24,\n    height: 24,\n    marginRight: theme.spacing(1),\n    borderRadius: 2,\n  },\n  grayIcon: {\n    color: fade(theme.palette.text.hint, 0.2),\n    padding: 3,\n  },\n  message: {\n    marginTop: theme.spacing(1),\n    lineHeight: '22px',\n    fontSize: '15px !important',\n    wordBreak: 'break-word',\n    hyphens: 'auto',\n    '& p': {\n      margin: 0,\n      fontSize: '15px !important',\n    },\n    '& p+p, pre+p, blockquote, blockquote+p, details, details+p, figure, figure+p, iframe, iframe+p, pre, pre+p, table, table+p': {\n      marginTop: theme.spacing(1.5) + 'px !important',\n    },\n  },\n  authorAndTS: {\n    display: 'flex',\n    flexDirection: 'column',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      flexDirection: 'row',\n      alignItems: 'center',\n    },\n  },\n  authorAlias: {\n    color:\n      theme.palette.type === 'light'\n        ? theme.palette.primary.light\n        : theme.palette.primary.dark,\n    fontWeight: 800,\n    textDecoration: 'none',\n    fontSize: 13,\n    lineHeight: '15px',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    flex: 1,\n  },\n  ts: {\n    color: theme.palette.text.hint,\n    fontSize: 10,\n    lineHeight: '11px',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    textDecoration: 'none',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      fontSize: 13,\n      lineHeight: '15px',\n      marginLeft: theme.spacing(1),\n    },\n  },\n  moreIcon: {\n    width: 32,\n    height: 32,\n    color: theme.palette.text.secondary,\n  },\n  flexGrow: {\n    flexGrow: 1,\n    display: 'flex',\n  },\n  greenRedNumber: {\n    display: 'flex',\n    alignItems: 'center',\n    color: theme.palette.text.hint,\n    margin: theme.spacing(0, 1),\n  },\n  score: {\n    position: 'relative',\n    fontWeight: 700,\n    fontSize: 13,\n  },\n  replyButton: {\n    borderRadius: 16,\n    backgroundColor: 'transparent',\n    textTransform: 'none',\n    padding: theme.spacing(0.5, 1.5),\n    color: theme.palette.text.secondary,\n    fontFamily: 'Google Sans',\n    marginRight: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n  },\n  favoriteButton: {\n    borderRadius: '50%',\n    minWidth: 28,\n    padding: 5,\n  },\n  favoriteIcon: {\n    fontSize: 20,\n    color: fade(theme.palette.primary.main, 0.2),\n  },\n  placeholder: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: theme.palette.background.paper,\n  },\n  goToThreadButton: {\n    textTransform: 'none',\n    padding: theme.spacing(0.5, 1.5),\n    fontFamily: 'Google Sans',\n    marginLeft: theme.spacing(1),\n  },\n  goToThreadWrapper: {\n    position: 'relative',\n    marginTop: theme.spacing(1),\n  },\n  goToThreadLink: {\n    textDecoration: 'none',\n  },\n  editIcon: {\n    width: 12,\n    height: 12,\n    fill: theme.palette.primary.dark,\n    marginBottom: 2,\n  },\n  editIconWrapper: {\n    display: 'flex',\n    alignItems: 'flex-end',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      alignItems: 'center',\n    },\n  },\n}))\n\nconst getOpacity = (value: number) => {\n  const v = Math.abs(value)\n  const r = Math.min(v / 10 + 0.1, 0.5)\n  return 1 - r\n}\n\nconst DEFAULT_PLACEHOLDER_SIZE = 128\n\nconst Comment: React.FC<{\n  data: CommentData\n  isLastInFilteredRootThread: boolean\n  postId: string\n  placeholderSize?: number\n}> = ({ data, isLastInFilteredRootThread, postId, placeholderSize }) => {\n  const isRootComment = data.level === 0\n  const { id, isLastInThread, isPostAuthor, isThreadStart } = data\n  const theme = useTheme()\n  const classes = useStyles()\n  const rootRef = useRef<HTMLDivElement>(null)\n  const shouldShowThreadButtonSetting = useSelector(\n    (store) => store.settings.interfaceComments.showThreads\n  )\n  const commentsSizesMap = useSelector((store) => store.post.comments.sizesMap)\n  const timeEdited = dayjs(data.timeChanged).format('DD.MM.YYYY [в] H:mm')\n  const isEdited = !!data.timeChanged\n  const ts = dayjs(data.timePublished).format('DD.MM.YYYY [в] H:mm')\n  const rootClasses = [classes.root]\n  const authorBarClasses = [classes.authorBar]\n  const isTablet = useMediaQuery(theme.breakpoints.up(MIN_WIDTH), {\n    noSsr: true,\n  })\n  const shouldShowThreadButton = shouldShowThreadButtonSetting && isThreadStart\n  const MARGIN_LEVEL = isTablet ? 20 : 16\n  const commentPadding = data.level * MARGIN_LEVEL\n  const commentOpacity = data.score < 0 ? getOpacity(data.score) : 1\n  const shouldAddBottomPadding = isLastInFilteredRootThread\n  const dispatch = useDispatch()\n\n  isRootComment && rootClasses.push(classes.firstInThread)\n  isLastInThread && rootClasses.push(classes.lastInThread)\n  shouldAddBottomPadding && rootClasses.push(classes.bottomPadding)\n  isPostAuthor && authorBarClasses.push(classes.authorBarOP)\n\n  const setCommentSize = () => {\n    // We don't need to set placeholder height without threads\n    // because there is no page changing in one modal\n    if (shouldShowThreadButtonSetting && rootRef.current) {\n      dispatch(\n        setPostCommentSize(\n          data.id,\n          rootRef.current.getBoundingClientRect().height\n        )\n      )\n    }\n  }\n  const getCommentSize = () => {\n    return commentsSizesMap[data.id] || DEFAULT_PLACEHOLDER_SIZE\n  }\n\n  const GoToThreadButton = () =>\n    shouldShowThreadButton ? (\n      <div className={classes.goToThreadWrapper}>\n        <div\n          className={classes.depthLine}\n          style={{\n            top: 0,\n            bottom: 0,\n          }}\n        />\n        <LinkToOutsidePage\n          className={classes.goToThreadLink}\n          to={'/post/' + postId + '/comments/thread/' + id}\n        >\n          <Button\n            color=\"primary\"\n            className={classes.goToThreadButton}\n            endIcon={<ChevronRightRoundedIcon />}\n          >\n            Показать ветку\n          </Button>\n        </LinkToOutsidePage>\n      </div>\n    ) : null\n\n  if (!data.author) {\n    return (\n      <LazyLoadComponent\n        placeholder={\n          <div\n            style={{ height: getCommentSize() }}\n            className={classes.placeholder}\n          />\n        }\n      >\n        <div className={rootClasses.join(' ')} ref={rootRef}>\n          {[...Array(data.level)].map((_, i) => {\n            return (\n              <div\n                key={i}\n                className={classes.depthLine}\n                style={{\n                  left: MARGIN_LEVEL * (i + 1),\n                  top:\n                    data.isNewLevel && data.level === i + 1\n                      ? theme.spacing(0.75)\n                      : 0,\n                  bottom: isLastInThread ? theme.spacing(1) : 0,\n                }}\n              />\n            )\n          })}\n          <Fade in>\n            <div\n              style={{ paddingLeft: commentPadding + MARGIN_LEVEL }}\n              className={classes.ufo}\n            >\n              <FormattedText\n                className={[classes.ufoMessage, classes.message].join(' ')}\n              >\n                {data.message}\n              </FormattedText>\n              <GoToThreadButton />\n            </div>\n          </Fade>\n        </div>\n      </LazyLoadComponent>\n    )\n  }\n\n  return (\n    <LazyLoadComponent\n      afterLoad={setCommentSize}\n      placeholder={\n        <div\n          style={{\n            height: getCommentSize(),\n            marginTop: isRootComment ? theme.spacing(1.5) : 0,\n          }}\n          className={classes.placeholder}\n          id={'comment_' + id}\n        />\n      }\n    >\n      <div\n        ref={rootRef}\n        className={rootClasses.join(' ')}\n        style={{\n          paddingLeft: theme.spacing(MARGIN_LEVEL / theme.spacing(1)),\n          paddingRight: theme.spacing(MARGIN_LEVEL / theme.spacing(1)),\n          marginTop: isRootComment ? theme.spacing(1.5) : 0,\n        }}\n        id={'comment_' + id}\n      >\n        {[...Array(data.level)].map((_, i) => {\n          let bottom = isLastInThread ? theme.spacing(1.2) : 0\n          if (shouldAddBottomPadding) bottom += theme.spacing(1)\n          return (\n            <div\n              key={i}\n              className={classes.depthLine}\n              style={{\n                left: MARGIN_LEVEL * (i + 1),\n                top:\n                  data.isNewLevel && data.level === i + 1\n                    ? theme.spacing(1.5)\n                    : 0,\n                bottom,\n              }}\n            />\n          )\n        })}\n        <Fade in>\n          <div\n            className={classes.wrapper}\n            style={{ paddingLeft: commentPadding, opacity: commentOpacity }}\n          >\n            <div className={authorBarClasses.join(' ')} tabIndex={-1}>\n              <div className={classes.flexGrow}>\n                <LinkToOutsidePage\n                  className={classes.authorBarLink}\n                  to={'/user/' + data.author.alias}\n                >\n                  <UserAvatar\n                    src={data.author.avatarUrl}\n                    alias={data.author.alias}\n                    className={classes.avatar}\n                  />\n                  <div className={classes.authorAndTS}>\n                    <Typography className={classes.authorAlias}>\n                      {data.author.alias}\n                    </Typography>\n                    <Typography className={classes.ts} variant=\"caption\">\n                      {ts}\n                    </Typography>\n                  </div>\n                </LinkToOutsidePage>\n                {isEdited && (\n                  <Tooltip title={`Коментарий изменён ${timeEdited}`}>\n                    <span className={classes.editIconWrapper}>\n                      <Pencil className={classes.editIcon} />\n                    </span>\n                  </Tooltip>\n                )}\n              </div>\n              <IconButton className={classes.moreIcon}>\n                <MoreHorizIcon />\n              </IconButton>\n            </div>\n            <FormattedText inverseColors className={classes.message}>\n              {data.message}\n            </FormattedText>\n            <div className={classes.bottomBar}>\n              <IconButton className={classes.grayIcon}>\n                <Icon16Up width={24} height={24} />\n              </IconButton>\n              <GreenRedNumber\n                number={data.score}\n                wrapperProps={{ className: classes.greenRedNumber }}\n              >\n                <Typography className={classes.score}>\n                  {data.score > 0 ? '+' : ''}\n                  {data.score}\n                </Typography>\n              </GreenRedNumber>\n              <IconButton className={classes.grayIcon}>\n                <Icon16Down width={24} height={24} />\n              </IconButton>\n              <div className={classes.flexGrow}>\n                <Button size=\"small\" className={classes.replyButton}>\n                  Ответить\n                </Button>\n              </div>\n              <Button\n                size=\"small\"\n                color=\"primary\"\n                className={classes.favoriteButton}\n              >\n                <BookmarkIcon className={classes.favoriteIcon} />\n              </Button>\n            </div>\n            <GoToThreadButton />\n          </div>\n        </Fade>\n      </div>\n    </LazyLoadComponent>\n  )\n}\n\nexport default React.memo(Comment)\n","import React, { useEffect, useMemo } from 'react'\nimport { makeStyles, useTheme } from '@material-ui/core'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { useDispatch } from 'react-redux'\nimport { useSelector } from 'src/hooks'\nimport { useParams } from 'react-router'\nimport { getPostComments } from 'src/store/actions/post'\nimport Comment from './Comment'\nimport {\n  trackWindowScroll,\n  ScrollPosition,\n} from 'react-lazy-load-image-component'\nimport { FetchingState } from 'src/interfaces'\nimport { THREAD_LEVEL } from 'src/config/constants'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n  },\n}))\n\nconst Thread: React.FC = () => {\n  const theme = useTheme()\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const { threadId, id } = useParams<{ threadId: string; id: string }>()\n  const comments = useSelector((store) => store.post.comments.comments)\n  const commentsFetchingState = useSelector(\n    (store) => store.post.comments.state\n  )\n  const commentsFetchingError = useSelector(\n    (store) => store.post.comments.fetchError\n  )\n  const rootComment = useMemo(\n    () => comments?.find((e) => e.id.toString() === threadId),\n    [threadId, comments]\n  )\n  const filteredComments = useMemo(() => {\n    const a = comments?.filter(\n      (e) =>\n        e.threadLevel === rootComment.threadLevel + 1 ||\n        e.level === THREAD_LEVEL * (rootComment.threadLevel + 1) - 1\n    )\n    const rootIndex = a?.findIndex((e) => e.id.toString() === threadId)\n    const lastIndex = a?.findIndex(\n      (e, i) =>\n        e.level === THREAD_LEVEL * (rootComment.threadLevel + 1) - 1 &&\n        i > rootIndex\n    )\n    const slice = a?.slice(rootIndex, lastIndex)\n    return slice\n  }, [threadId, comments])\n  const shouldShowComments = commentsFetchingState === FetchingState.Fetched\n\n  useEffect(() => {\n    if (!comments) dispatch(getPostComments(id))\n  }, [id, comments, threadId])\n\n  return (\n    <OutsidePage\n      hidePositionBar\n      disableShrinking\n      headerText={'Ветка'}\n      backgroundColor={theme.palette.background.paper}\n    >\n      <div className={classes.root}>\n        {commentsFetchingState === FetchingState.Error && (\n          <p>{commentsFetchingError}</p>\n        )}\n        {shouldShowComments &&\n          filteredComments.map((e, i) => (\n            <Comment\n              postId={id}\n              isLastInFilteredRootThread={i === filteredComments.length - 1}\n              data={{\n                ...e,\n                isThreadStart: i === 0 ? false : e.isThreadStart,\n                level:\n                  e.level + 1 - THREAD_LEVEL * (rootComment.threadLevel + 1),\n              }}\n              key={e.id}\n            />\n          ))}\n      </div>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(trackWindowScroll(Thread))\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { useHistory, useParams } from 'react-router'\nimport {\n  CircularProgress,\n  Fade,\n  IconButton,\n  rgbToHex,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { useDispatch } from 'react-redux'\nimport {\n  getPost,\n  getPostComments,\n  parsePostComments,\n} from 'src/store/actions/post'\nimport { useSelector } from 'src/hooks'\nimport { FetchingState } from 'src/interfaces'\nimport Comment from './Comment'\nimport { Icon24Filter } from '@vkontakte/icons'\nimport {\n  APP_BAR_HEIGHT,\n  BOTTOM_BAR_HEIGHT,\n  chromeAddressBarHeight,\n} from 'src/config/constants'\nimport isMobile from 'is-mobile'\nimport blend from 'src/utils/blendColors'\nimport MainBlock from 'src/components/blocks/MainBlock'\nimport PostSidebar from '../Post/Sidebar'\n\nconst useStyles = makeStyles((theme) => ({\n  errorText: {\n    color: theme.palette.error.main,\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n  },\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    paddingBottom: theme.spacing(1.5),\n  },\n  header: {\n    margin: theme.spacing(1.5, 2),\n    marginBottom: 0,\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  headerText: {\n    fontFamily: 'Google Sans',\n    fontWeight: 800,\n    fontSize: 24,\n    flexGrow: 1,\n  },\n  commentsNumber: {\n    color: theme.palette.primary.main,\n    marginLeft: 4,\n  },\n  filterButtonWrapper: {\n    position: 'relative',\n    width: 36,\n    height: 36,\n  },\n  filterButton: {\n    position: 'absolute',\n    left: -6,\n    top: -6,\n  },\n  spinnerWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n    minHeight: `calc(100vh - ${\n      APP_BAR_HEIGHT * 3\n    }px - ${BOTTOM_BAR_HEIGHT}px - ${\n      isMobile() ? chromeAddressBarHeight : 0\n    }px)`,\n  },\n  highlightComment: {\n    animation: `$highlightComment 750ms ${theme.transitions.easing.easeOut}`,\n  },\n  '@keyframes highlightComment': {\n    from: {\n      backgroundColor: blend(\n        rgbToHex(theme.palette.primary.light),\n        rgbToHex(theme.palette.background.paper),\n        0.7\n      ),\n    },\n  },\n}))\n\nconst MAX_LEVEL = 10\n\nconst CommentsPage: React.FC = () => {\n  const { id } = useParams<{ id: string }>()\n  const post = useSelector((store) => store.post.post.data)\n  const postFetchingState = useSelector((store) => store.post.post.state)\n  const postFetchingError = useSelector((store) => store.post.post.fetchError)\n  const commentsStoreData = useSelector((store) => store.post.comments)\n  const comments = useSelector((store) => store.post.comments.comments)\n  const commentsFetchingState = useSelector(\n    (store) => store.post.comments.state\n  )\n  const commentsFetchingError = useSelector(\n    (store) => store.post.comments.fetchError\n  )\n  const dispatch = useDispatch()\n  const theme = useTheme()\n  const classes = useStyles()\n  const history = useHistory()\n  const selectedCommentID = history.location.hash || null\n  const [commentsLength, setCommentsLength] = useState<number>()\n  const shouldShowComments = commentsFetchingState === FetchingState.Fetched\n  const shouldShowThreads = useSelector(\n    (store) => store.settings.interfaceComments.showThreads\n  )\n  const shouldSortByKarma = useSelector(\n    (store) => store.settings.interfaceComments.sortByKarma\n  )\n  const parseOptions = useMemo(() => ({ sortByKarma: shouldSortByKarma }), [\n    shouldSortByKarma,\n  ])\n  const filteredComments = useMemo(() => {\n    if (!comments) return []\n    if (shouldShowThreads)\n      // Only show comments that are not in thread\n      return comments.filter((e) => e.threadLevel === 0) || []\n    // Set max level so comments do not overflow\n    else\n      return comments.map((e) => ({\n        ...e,\n        level: Math.min(e.level, MAX_LEVEL),\n      }))\n  }, [comments])\n\n  const goToCommentsSettings = () =>\n    history.push('/settings/interface', { highlightSection: 'comments' })\n\n  useEffect(() => {\n    if (!post || post?.id !== id) dispatch(getPost(id))\n    if (!comments) {\n      dispatch(getPostComments(id, parseOptions))\n      setCommentsLength(null)\n    }\n    if (comments) {\n      setCommentsLength(comments.length)\n    }\n  }, [id, comments])\n\n  useEffect(() => {\n    if (\n      JSON.stringify(commentsStoreData.parseOptions) !==\n      JSON.stringify(parseOptions)\n    ) {\n      dispatch(parsePostComments(id, parseOptions))\n    }\n  }, [JSON.stringify(parseOptions)])\n\n  useEffect(() => {\n    if (\n      selectedCommentID &&\n      selectedCommentID.startsWith('#comment_') &&\n      shouldShowComments\n    ) {\n      const commentID = selectedCommentID.slice('#'.length)\n      const commentElement = document.getElementById(commentID)\n      if (commentElement) {\n        commentElement.scrollIntoView(true)\n        window.scrollBy(0, -APP_BAR_HEIGHT)\n      }\n    }\n  }, [selectedCommentID, shouldShowComments])\n\n  if (postFetchingState === FetchingState.Error)\n    return (\n      <Typography className={classes.errorText}>{postFetchingError}</Typography>\n    )\n  if (commentsFetchingState === FetchingState.Error)\n    return (\n      <Typography className={classes.errorText}>\n        {commentsFetchingError}\n      </Typography>\n    )\n\n  return (\n    <OutsidePage\n      hidePositionBar\n      disableShrinking\n      headerText={post?.titleHtml}\n      backgroundColor={theme.palette.background.paper}\n    >\n      <MainBlock>\n        <div className={classes.root}>\n          <div className={classes.header}>\n            <Typography className={classes.headerText}>\n              Комментарии&nbsp;\n              {commentsLength && (\n                <Fade in={commentsLength !== 0}>\n                  <span className={classes.commentsNumber}>\n                    {commentsLength}\n                  </span>\n                </Fade>\n              )}\n            </Typography>\n            <div className={classes.filterButtonWrapper}>\n              <IconButton\n                className={classes.filterButton}\n                onClick={goToCommentsSettings}\n              >\n                <Icon24Filter />\n              </IconButton>\n            </div>\n          </div>\n          {shouldShowComments &&\n            filteredComments.map((e, i) => (\n              <Comment\n                postId={id}\n                isLastInFilteredRootThread={\n                  filteredComments[Math.min(i + 1, filteredComments.length - 1)]\n                    .level === 0\n                }\n                data={e}\n                key={e.id}\n              />\n            ))}\n          {!shouldShowComments && (\n            <div className={classes.spinnerWrapper}>\n              <CircularProgress />\n            </div>\n          )}\n        </div>\n      </MainBlock>\n      <PostSidebar />\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(CommentsPage)\n","import React from 'react'\r\nimport { Typography, Fade, Container, Grid, Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport OutsidePage from 'src/components/blocks/OutsidePage'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  text: {\r\n    marginTop: theme.spacing(4),\r\n    fontFamily: 'Google Sans',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main,\r\n    transitionDuration: '0.1s',\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n      color: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  cross: {\r\n    textDecoration: 'line-through',\r\n    color: theme.palette.text.hint,\r\n  },\r\n  grid: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst useCardStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderRadius: 8,\r\n    padding: theme.spacing(1.5, 2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    boxShadow:\r\n      '0px 3px 1px -2px rgb(0 0 0 / 12%), 0px 2px 2px 0px rgb(0 0 0 / 7%), 0px 1px 5px 0px rgb(0 0 0 / 4%)',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.text.primary,\r\n  },\r\n  title: {\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n  row: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  icon: {\r\n    width: 32,\r\n    height: 32,\r\n  },\r\n  subtitle: {\r\n    color: theme.palette.text.secondary,\r\n    fontFamily: 'Roboto',\r\n    fontSize: 16,\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nconst Card: React.FC<{\r\n  to: string\r\n  title: string\r\n  iconSrc: string\r\n  subtitle?: string\r\n  medium?: boolean\r\n  small?: boolean\r\n}> = ({ to, title, iconSrc, subtitle, medium, small }) => {\r\n  const classes = useCardStyles()\r\n  const xs = medium ? 8 : small ? 4 : 12\r\n  const md = medium ? 4 : small ? 2 : 6\r\n\r\n  return (\r\n    <Grid item xs={xs} md={md}>\r\n      <a className={classes.link} href={to} target=\"_blank\" rel=\"noreferrer\">\r\n        <Paper className={classes.root} elevation={2}>\r\n          <div className={classes.row}>\r\n            <img className={classes.icon} src={iconSrc} alt={title} />\r\n            <Typography className={classes.title}>{title}</Typography>\r\n          </div>\r\n          {subtitle && (\r\n            <Typography className={classes.subtitle}>{subtitle}</Typography>\r\n          )}\r\n        </Paper>\r\n      </a>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst AboutPage = () => {\r\n  const classes = useStyles()\r\n\r\n  // const text = [\r\n  //   {\r\n  //     data: 'Привет!',\r\n  //     props: { variant: 'h4' },\r\n  //   },\r\n  //   {\r\n  //     data: (\r\n  //       <>\r\n  //         Проект&nbsp;\r\n  //         <a className={classes.link} href=\"/\">\r\n  //           habra\r\n  //         </a>\r\n  //         &nbsp; - это , что и на оригинальном&nbsp;\r\n  //         <a className={classes.link} href=\"https://habr.com\">\r\n  //           Habrahabr\r\n  //         </a>\r\n  //         . В чём разница, спросите вы? Удобство, красота и юзабилити - вот к\r\n  //         чему стремится неофициальный клон одной из крупнейших площадок Рунета\r\n  //         с многомиллионной аудиторией.\r\n  //       </>\r\n  //     ),\r\n  //     props: { variant: 'body1', style: { fontSize: 22, lineHeight: '32px' } },\r\n  //   },\r\n  //   {\r\n  //     data: (\r\n  //       <>\r\n  //         В один из солнечных дней Петербурга,&nbsp;\r\n  //         <a className={classes.link} href=\"/\">\r\n  //           jarvis394\r\n  //         </a>\r\n  //         &nbsp;чуть не разбил телефон из-за того, что приложение Хабра на\r\n  //         телефоне глючило и фигово отображало картинки, из-за чего весь контент\r\n  //         страницы дёргался и прыгал. Тогда он решил исправить ситуацию самым\r\n  //         долгим, нудным и ресурсоёмким способом - он взял и сделал свой Хабр,\r\n  //         с&nbsp;\r\n  //         <span className={classes.cross}>блекджеком</span>\r\n  //         &nbsp;тёмной темой и кэшированием!\r\n  //       </>\r\n  //     ),\r\n  //     props: { variant: 'body1', style: { fontSize: 18, lineHeight: '28px' } },\r\n  //   },\r\n  //   {\r\n  //     data: (\r\n  //       <>\r\n  //         Зачем так стараться? Познание React - Typescript - Redux, а\r\n  //         также&nbsp;\r\n  //         <span className={classes.cross}>боли и страданий</span>\r\n  //         &nbsp;получение разнообразного опыта в сфере фронтенда. Ну и Хабр свой\r\n  //         хотелось бы иметь, да.\r\n  //       </>\r\n  //     ),\r\n  //     props: { variant: 'body1', style: { fontSize: 18, lineHeight: '28px' } },\r\n  //   },\r\n  // ]\r\n\r\n  return (\r\n    <OutsidePage headerText=\"О проекте\">\r\n      <Container>\r\n        <Typography className={classes.text} variant=\"h4\">\r\n          Привет!\r\n        </Typography>\r\n        <Typography\r\n          className={classes.text}\r\n          style={{ fontSize: 22, lineHeight: '32px' }}\r\n        >\r\n          Проект{' '}\r\n          <Link className={classes.link} to=\"/\">\r\n            habra.\r\n          </Link>{' '}\r\n          - это неофициальный клон одной из крупнейших IT-площадок Рунета{' '}\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            className={classes.link}\r\n            href=\"https://habr.com\"\r\n          >\r\n            Habrahabr\r\n          </a>\r\n          .\r\n        </Typography>\r\n        <Typography\r\n          className={classes.text}\r\n          style={{ fontSize: 18, lineHeight: '28px', maxWidth: 1000 }}\r\n        >\r\n          Мы стремимся к максимальному удобству пользования приложением{' '}\r\n          <span className={classes.cross}>(пытаемся сесть на два стула)</span>{' '}\r\n          через красивый дизайн и понятный UI.\r\n        </Typography>\r\n        <Typography\r\n          className={classes.text}\r\n          style={{ fontSize: 18, lineHeight: '28px' }}\r\n        >\r\n          Главная фишка проекта &#8212; <b>open-source</b>. Проект{' '}\r\n          <a\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            className={classes.link}\r\n            href=\"https://github.com/jarvis394/habra\"\r\n          >\r\n            доступен\r\n          </a>{' '}\r\n          на GitHub и разрабатывается с помощью открытых библиотек. Каждый может\r\n          внести свою лепту в создании идеального клиента для Хабрахабра.\r\n        </Typography>\r\n\r\n        <Grid container spacing={2} className={classes.grid}>\r\n          <Card\r\n            iconSrc=\"https://img.icons8.com/color/48/000000/react-native.png\"\r\n            title=\"react\"\r\n            to=\"https://reactjs.org/\"\r\n            subtitle=\"Библиотека для отрисовки компонентов\"\r\n          />\r\n          <Card\r\n            iconSrc=\"https://img.icons8.com/color/48/000000/typescript.png\"\r\n            title=\"typescript\"\r\n            to=\"https://www.typescriptlang.org/\"\r\n            subtitle=\"Как JavaScript, только лучше\"\r\n          />\r\n          <Card\r\n            iconSrc=\"https://img.icons8.com/color/48/000000/material-ui.png\"\r\n            title=\"material-ui\"\r\n            to=\"https://material-ui.com/\"\r\n            subtitle=\"Компоненты для React в Material стиле\"\r\n          />\r\n          <Card\r\n            iconSrc=\"https://img.icons8.com/color/48/000000/vk-circled.png\"\r\n            title=\"@vkontakte/icons\"\r\n            to=\"https://vkcom.github.io/icons/\"\r\n            subtitle=\"Красивые иконки из популярного мессенджера\"\r\n          />\r\n          <Card\r\n            iconSrc=\"https://img.icons8.com/color/48/000000/redux.png\"\r\n            title=\"redux\"\r\n            to=\"https://redux.js.org/\"\r\n            subtitle=\"Великий И Могучий Хранитель Состояния\"\r\n          />\r\n          <Card\r\n            iconSrc=\"https://img.icons8.com/material-outlined/24/000000/github.png\"\r\n            title=\"GitHub\"\r\n            to=\"https://github.com/jarvis394/habra/\"\r\n            subtitle=\"Репозиторий проекта\"\r\n            medium\r\n          />\r\n          <Card\r\n            iconSrc=\"https://img.icons8.com/doodle/48/000000/vk-messenger.png\"\r\n            title=\"VK\"\r\n            to=\"https://vk.com/tarnatovski/\"\r\n            subtitle=\"Автор\"\r\n            small\r\n          />\r\n        </Grid>\r\n        <Typography\r\n          className={classes.text}\r\n          style={{ fontSize: 18, lineHeight: '28px' }}\r\n        >\r\n          В один из солнечных дней Петербурга,{' '}\r\n          <Link className={classes.link} to=\"/user/jarvis394\">\r\n            jarvis394\r\n          </Link>{' '}\r\n          чуть не разбил телефон из-за того, что приложение Хабра на телефоне\r\n          глючило и фигово отображало картинки, из-за чего весь контент страницы\r\n          дёргался и прыгал. Тогда он решил исправить ситуацию самым долгим,\r\n          нудным и ресурсоёмким способом &#8212; он взял и сделал свой Хабр, с{' '}\r\n          <span className={classes.cross}>блекджеком</span> тёмной темой и\r\n          кэшированием!\r\n        </Typography>\r\n        <Typography\r\n          className={classes.text}\r\n          style={{ fontSize: 18, lineHeight: '28px' }}\r\n        >\r\n          Зачем так стараться? Познание React - Typescript - Redux, а также{' '}\r\n          <span className={classes.cross}>боли и страданий</span> получение\r\n          разнообразного опыта в сфере фронтенда. Ну и Хабр свой хотелось бы\r\n          иметь, да.\r\n        </Typography>\r\n      </Container>\r\n    </OutsidePage>\r\n  )\r\n}\r\n\r\nexport default React.memo(AboutPage)\r\n","import * as React from 'react'\r\nimport { Paper, InputBase, Button } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport useQuery from 'src/hooks/useQuery'\r\n\r\nconst useSearchStyles = makeStyles((theme) => ({\r\n  search: {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    margin: theme.spacing(2),\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n    flex: 1,\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 2),\r\n    width: '100%',\r\n  },\r\n  searchButton: {\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    textTransform: 'none',\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 16,\r\n  },\r\n}))\r\n\r\nconst SearchBar = ({ inputRef = null, onSubmit: onSubmitProp }) => {\r\n  const classes = useSearchStyles()\r\n  const searchParams = useQuery()\r\n  const query = searchParams.get('q') || ''\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault()\r\n    onSubmitProp(e)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={(e) => onSubmit(e)}>\r\n      <Paper elevation={0} className={classes.search}>\r\n        <InputBase\r\n          name=\"q\"\r\n          inputRef={inputRef}\r\n          defaultValue={query}\r\n          placeholder={'Поиск среди хабов'}\r\n          classes={{\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ 'aria-label': 'search' }}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          disableElevation\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          className={classes.searchButton}\r\n        >\r\n          Найти\r\n        </Button>\r\n      </Paper>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default React.memo(SearchBar)\r\n","import React from 'react'\r\nimport {\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  Typography,\r\n  Grid,\r\n} from '@material-ui/core'\r\nimport { makeStyles, fade } from '@material-ui/core/styles'\r\nimport { Hub } from 'src/interfaces'\r\nimport GroupRoundedIcon from '@material-ui/icons/GroupRounded'\r\nimport FormattedText from 'src/components/formatters/FormattedText'\r\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\r\nimport formatNumber from 'src/utils/formatNumber'\r\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\r\nimport { Icon24Flash } from '@vkontakte/icons'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    textDecoration: 'none',\r\n    '-webkit-tap-highlight-color': 'transparent !important',\r\n  },\r\n  statistics: {\r\n    marginTop: theme.spacing(0.5),\r\n  },\r\n  statisticsItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    maxWidth: 156,\r\n    color: theme.palette.text.hint,\r\n  },\r\n  statisticsItemIcon: {\r\n    color: fade(theme.palette.text.primary, 0.62),\r\n  },\r\n  statisticsItemText: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  title: {\r\n    ...theme.typography.body2,\r\n    color: theme.palette.text.primary,\r\n    '& em.searched-item': {\r\n      color: theme.palette.primary.main,\r\n      fontWeight: 500,\r\n    },\r\n  },\r\n}))\r\n\r\nconst Item = ({ data }: { data: Hub }) => {\r\n  const classes = useStyles()\r\n  const statistics = [\r\n    {\r\n      value: data.statistics.rating,\r\n      icon: Icon24Flash,\r\n      colored: true,\r\n    },\r\n    {\r\n      value: data.statistics.subscribersCount,\r\n      icon: GroupRoundedIcon,\r\n    },\r\n  ]\r\n\r\n  const StatisticsItemText = ({ text }) => (\r\n    <Typography\r\n      component=\"span\"\r\n      variant=\"body2\"\r\n      className={classes.statisticsItemText}\r\n    >\r\n      {text}\r\n    </Typography>\r\n  )\r\n\r\n  return (\r\n    <ListItem\r\n      dense\r\n      button\r\n      className={classes.root}\r\n      component={LinkToOutsidePage}\r\n      to={'/hub/' + data.alias + '/p/1'}\r\n      alignItems=\"flex-start\"\r\n    >\r\n      <ListItemAvatar>\r\n        <Avatar src={data.imageUrl} alt={data.titleHtml} />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        disableTypography\r\n        primary={\r\n          <FormattedText className={classes.title}>\r\n            {data.titleHtml}\r\n          </FormattedText>\r\n        }\r\n        secondary={\r\n          <>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">\r\n              {data.descriptionHtml}\r\n            </Typography>\r\n            <Grid container className={classes.statistics}>\r\n              {statistics.map((e, i) => (\r\n                <Grid item xs={6} key={i} className={classes.statisticsItem}>\r\n                  {e.colored && (\r\n                    <GreenRedNumber\r\n                      number={e.value}\r\n                      wrapperProps={{ className: classes.statisticsItem }}\r\n                    >\r\n                      <>\r\n                        <e.icon />\r\n                        <StatisticsItemText text={e.value} />\r\n                      </>\r\n                    </GreenRedNumber>\r\n                  )}\r\n                  {!e.colored && (\r\n                    <>\r\n                      <e.icon className={classes.statisticsItemIcon} />\r\n                      <StatisticsItemText text={formatNumber(e.value)} />\r\n                    </>\r\n                  )}\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </>\r\n        }\r\n      />\r\n    </ListItem>\r\n  )\r\n}\r\n\r\nexport default React.memo(Item)\r\n","import React from 'react'\r\nimport { Skeleton } from '@material-ui/lab'\r\nimport { ListItem, ListItemAvatar, ListItemText } from '@material-ui/core'\r\n\r\nconst Item = () => (\r\n  <ListItem dense>\r\n    <ListItemAvatar>\r\n      <Skeleton variant=\"circle\" height={40} width={40} />\r\n    </ListItemAvatar>\r\n    <ListItemText\r\n      primary={<Skeleton variant=\"text\" width={200} />}\r\n      secondary={<Skeleton variant=\"text\" width={164} />}\r\n    />\r\n  </ListItem>\r\n)\r\n\r\nconst Loader = () => (\r\n  <>\r\n    {[...new Array(16)].map((_, i) => (\r\n      <Item key={i} />\r\n    ))}\r\n  </>\r\n)\r\n\r\nexport default React.memo(Loader)\r\n","import * as api from 'src/api'\r\nimport { HUBS_PREFIX } from '../reducers/hubs/types'\r\n\r\nexport const getHubsList = (page: number) => async (dispatch, getState) => {\r\n  const storeData = getState().hubs.data.pages[page]\r\n  if (storeData) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  const type = HUBS_PREFIX + 'FETCH'\r\n  dispatch({ type })\r\n\r\n  try {\r\n    const data = await api.getHubsList(page)\r\n    dispatch({\r\n      type: type + '_FULFILLED',\r\n      payload: { data, page },\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: type + '_REJECTED',\r\n      payload: { error: error.message, page },\r\n    })\r\n  }\r\n}\r\n\r\nexport const getHubsSearchResults = (query: string) => async (dispatch) => {\r\n  const type = HUBS_PREFIX + 'SEARCH_FETCH'\r\n  dispatch({ type, payload: { query } })\r\n\r\n  try {\r\n    const data = await api.getHubsSearchResults(query)\r\n\r\n    dispatch({\r\n      type: type + '_FULFILLED',\r\n      payload: { data, query },\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: type + '_REJECTED',\r\n      payload: { error: error.message, query },\r\n    })\r\n  }\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\nimport SearchBar from './SearchBar'\r\nimport Item from './Item'\r\nimport Loader from './Loader'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { List, Typography } from '@material-ui/core'\r\nimport { useSelector } from 'src/hooks'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getHubsList } from 'src/store/actions/hubs'\r\nimport { useParams, useHistory, useLocation } from 'react-router-dom'\r\nimport ErrorComponent from 'src/components/blocks/Error'\r\nimport EmptySVG from 'src/components/svg/Empty'\r\nimport { getHubsSearchResults } from 'src/store/actions/hubs'\r\nimport { HUBS_PREFIX } from 'src/store/reducers/hubs/types'\r\nimport Pagination from 'src/components/blocks/Pagination'\r\nimport OutsidePage from 'src/components/blocks/OutsidePage'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\nimport getInvertedContrastPaperColor from 'src/utils/getInvertedContrastPaperColor'\r\nimport useQuery from 'src/hooks/useQuery'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  list: {\r\n    backgroundColor: getContrastPaperColor(theme),\r\n    marginTop: theme.spacing(-1),\r\n    paddingTop: 0,\r\n  },\r\n  pagination: {\r\n    paddingTop: theme.spacing(2),\r\n    backgroundColor: getInvertedContrastPaperColor(theme),\r\n  },\r\n}))\r\n\r\nconst useNoResultsStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n    minHeight: 600,\r\n  },\r\n  title: {\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 18,\r\n    textAlign: 'center',\r\n    maxWidth: '75%',\r\n  },\r\n  svg: {\r\n    marginTop: theme.spacing(4),\r\n    width: '65%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    '& svg': { maxWidth: 400, width: '100%', height: '100%' },\r\n  },\r\n}))\r\n\r\nconst NoResults = () => {\r\n  const classes = useNoResultsStyles()\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.title}>\r\n        К сожалению, по запросу ничего не нашлось\r\n      </Typography>\r\n      <EmptySVG className={classes.svg} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Hubs = () => {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const classes = useStyles()\r\n  const params = useParams<{ page: string }>()\r\n  const currentPage = Number(params.page)\r\n  const isFetching = useSelector((state) => state.hubs.fetching)\r\n  const isFetched = useSelector((state) => state.hubs.fetched)\r\n  const fetchError = useSelector((state) => state.hubs.error)\r\n  const pagesCount = useSelector((state) => state.hubs.data.pagesCount)\r\n  const data = useSelector((state) => state.hubs.data.pages[currentPage])\r\n  const storeSearchResults = useSelector((state) => state.hubs.searchResults)\r\n  const inputRef = useRef<HTMLInputElement>()\r\n  const searchParams = useQuery()\r\n  const query = searchParams.get('q')\r\n  const headerText = query ? '\"' + query + '\"' : 'Хабы'\r\n\r\n  const search = () => {\r\n    const currentQuery = inputRef.current ? inputRef.current.value : null\r\n\r\n    if (!currentQuery || currentQuery === '')\r\n      return dispatch({ type: HUBS_PREFIX + 'SEARCH_CLEAR' })\r\n    if (!currentQuery || currentQuery.length <= 3 || query === currentQuery)\r\n      return false\r\n\r\n    dispatch(getHubsSearchResults(currentQuery))\r\n    history.replace('/hubs/p/1?q=' + currentQuery, {\r\n      from: location.pathname,\r\n    })\r\n\r\n    return true\r\n  }\r\n\r\n  const handlePagination = (_: never, i: number) => {\r\n    if (i === currentPage) return\r\n    history.replace('/hubs/p/' + i)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const currentQuery = inputRef.current ? inputRef.current.value : null\r\n    if (currentQuery) {\r\n      dispatch(getHubsSearchResults(currentQuery))\r\n    } else {\r\n      dispatch(getHubsList(currentPage))\r\n    }\r\n  }, [currentPage, dispatch])\r\n\r\n  return fetchError ? (\r\n    <ErrorComponent message={fetchError.error.message} />\r\n  ) : (\r\n    <OutsidePage headerText={headerText} hidePositionBar disableShrinking>\r\n      <div className={classes.root}>\r\n        <SearchBar inputRef={inputRef} onSubmit={search} />\r\n        <List className={classes.list}>\r\n          {isFetching && <Loader />}\r\n          {isFetched &&\r\n            query &&\r\n            storeSearchResults.length !== 0 &&\r\n            storeSearchResults.hubIds.map((e: string, i: number) => (\r\n              <Item data={storeSearchResults.hubRefs[e]} key={i} />\r\n            ))}\r\n          {isFetched && query && storeSearchResults.pagesCount === 0 && (\r\n            <NoResults />\r\n          )}\r\n          {isFetched &&\r\n            !query &&\r\n            data &&\r\n            data.hubIds.map((e: string, i: number) => (\r\n              <Item data={data.hubRefs[e]} key={i} />\r\n            ))}\r\n        </List>\r\n        {pagesCount && !query && (\r\n          <div className={classes.pagination}>\r\n            <Pagination\r\n              disabled={isFetching}\r\n              steps={pagesCount}\r\n              handleChange={handlePagination}\r\n              currentStep={currentPage}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </OutsidePage>\r\n  )\r\n}\r\n\r\nexport default React.memo(Hubs)\r\n","import * as React from 'react'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport makeStyles from '@material-ui/core/styles/makeStyles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n    background: theme.palette.background.default,\r\n    borderRadius: 0,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n  },\r\n  skeleton: {\r\n    backgroundColor: theme.palette.action.hover,\r\n  },\r\n  login: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  stats: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  headerColumn: {\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nconst ProfileSkeleton = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Paper elevation={0} className={classes.root}>\r\n      <Skeleton\r\n        className={classes.skeleton}\r\n        variant=\"circle\"\r\n        width={64}\r\n        height={64}\r\n      />\r\n      <Skeleton\r\n        className={[classes.skeleton, classes.login].join(' ')}\r\n        variant=\"text\"\r\n        width={256}\r\n        height={32}\r\n      />\r\n      <Skeleton\r\n        className={classes.skeleton}\r\n        variant=\"text\"\r\n        width={128}\r\n        height={24}\r\n      />\r\n      <Grid className={classes.stats} container justify=\"center\">\r\n        {[...Array(3)].map((_, i) => (\r\n          <div className={classes.headerColumn} key={i}>\r\n            <Skeleton\r\n              className={classes.skeleton}\r\n              variant=\"text\"\r\n              width={64}\r\n              height={18}\r\n            />\r\n            <Skeleton\r\n              className={classes.skeleton}\r\n              variant=\"text\"\r\n              style={{ marginTop: -8 }}\r\n              width={64}\r\n              height={48}\r\n            />\r\n          </div>\r\n        ))}\r\n      </Grid>\r\n      <Skeleton\r\n        className={classes.skeleton}\r\n        variant=\"text\"\r\n        width={256}\r\n        height={22}\r\n      />\r\n      <Skeleton\r\n        className={classes.skeleton}\r\n        variant=\"text\"\r\n        width={200}\r\n        height={18}\r\n      />\r\n      <Skeleton\r\n        className={classes.skeleton}\r\n        variant=\"text\"\r\n        width={164}\r\n        height={18}\r\n      />\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default React.memo(ProfileSkeleton)\r\n","import React from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport UserAvatar from 'src/components/blocks/UserAvatar'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n      color: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(8),\r\n    height: theme.spacing(8),\r\n    borderRadius: '50%',\r\n  },\r\n  login: {\r\n    fontFamily: 'Google Sans',\r\n    fontWeight: 800,\r\n    fontSize: 24,\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n  },\r\n}))\r\n\r\nexport const UserAvatarAndLogin = () => {\r\n  const classes = useStyles()\r\n  const user = useSelector((store) => store.profile.profile.card.data)\r\n\r\n  return (\r\n    <>\r\n      <UserAvatar\r\n        className={classes.avatar}\r\n        alias={user.alias}\r\n        src={user.avatarUrl}\r\n      />\r\n      {user.fullname ? (\r\n        <>\r\n          <Typography className={classes.login}>{user.fullname}</Typography>\r\n          <Link to={'/user/' + user.alias} className={classes.link}>\r\n            @{user.alias}\r\n          </Link>\r\n        </>\r\n      ) : (\r\n        <Typography className={classes.login}>@{user.alias}</Typography>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Typography, Grid } from '@material-ui/core'\r\nimport GreenRedNumber from 'src/components/formatters/GreenRedNumber'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  headerContainer: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  headerColumn: {\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  headerTitle: {\r\n    fontSize: 12,\r\n    color: theme.palette.text.hint,\r\n  },\r\n  headerNumber: {\r\n    fontSize: 24,\r\n    fontWeight: 800,\r\n    fontFamily: 'Google Sans',\r\n  },\r\n}))\r\n\r\nexport const Statistics = () => {\r\n  const user = useSelector((store) => store.profile.profile.card.data)\r\n  const classes = useStyles()\r\n  const items = [\r\n    { field: 'Карма', number: user.scoreStats.score, colored: true },\r\n    { field: 'Рейтинг', number: user.rating },\r\n  ]\r\n\r\n  if (user.ratingPos) {\r\n    items.push({ field: 'Позиция', number: user.ratingPos })\r\n  }\r\n\r\n  return (\r\n    <Grid className={classes.headerContainer} container justify=\"center\">\r\n      {items.map((e, i) => (\r\n        <div key={i} className={classes.headerColumn}>\r\n          <Typography className={classes.headerTitle}>\r\n            {e.field.toUpperCase()}\r\n          </Typography>\r\n          {e.colored ? (\r\n            <GreenRedNumber number={e.number}>\r\n              <Typography className={classes.headerNumber}>\r\n                {e.number > 0 ? '+' : ''}\r\n                {e.number}\r\n              </Typography>\r\n            </GreenRedNumber>\r\n          ) : (\r\n            <Typography className={classes.headerNumber}>{e.number}</Typography>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </Grid>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport dayjs from 'dayjs'\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getProfileWhois } from 'src/store/actions/profile'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n      color: theme.palette.primary.dark,\r\n    },\r\n  },\r\n}))\r\n\r\nexport const InvitedTime = () => {\r\n  const classes = useStyles()\r\n  const user = useSelector((store) => store.profile.profile.card.data)\r\n  const whois = useSelector((store) => store.profile.profile.whois.data)\r\n  const timeInvited = dayjs(whois?.invitedBy?.timeCreated).fromNow()\r\n  const textTimeInvited = timeInvited[0].toUpperCase() + timeInvited.slice(1)\r\n  const wasInvitedText =\r\n    user.gender === '1' ? 'был приглашён' : 'была приглашена'\r\n\r\n  return whois?.invitedBy?.timeCreated ? (\r\n    <Typography variant=\"caption\" color=\"textSecondary\" align=\"center\">\r\n      {textTimeInvited}{' '}\r\n      {user.gender === '0' ? 'было получено приглашение от' : wasInvitedText}{' '}\r\n      {whois.invitedBy.issuerLogin ? (\r\n        <LinkToOutsidePage\r\n          className={classes.link}\r\n          to={'/user/' + whois.invitedBy.issuerLogin}\r\n        >\r\n          @{whois.invitedBy.issuerLogin}\r\n        </LinkToOutsidePage>\r\n      ) : (\r\n        'НЛО'\r\n      )}\r\n    </Typography>\r\n  ) : null\r\n}\r\n","import React from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport dayjs from 'dayjs'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  hintColor: {\r\n    color: theme.palette.text.hint,\r\n  },\r\n}))\r\n\r\nexport const RegisteredTime = () => {\r\n  const classes = useStyles()\r\n  const user = useSelector((store) => store.profile.profile.card.data)\r\n  const whois = useSelector((store) => store.profile.profile.whois.data)\r\n  const text = user.gender === '1' ? 'Зарегистрировался' : 'Зарегистрировалась'\r\n  const timeRegistered = (ti?: string, tr?: string) => {\r\n    if (ti && ti === tr) {\r\n      return 'в то же время'\r\n    } else return dayjs(tr).fromNow()\r\n  }\r\n  return (\r\n    <Typography variant=\"caption\" className={classes.hintColor}>\r\n      {user.gender !== '0' && (\r\n        <>\r\n          {text}{' '}\r\n          {timeRegistered(whois?.invitedBy?.timeCreated, user.registerDateTime)}\r\n        </>\r\n      )}\r\n      {user.gender === '0' && (\r\n        <>Дата регистрации: {dayjs(user.registerDateTime).fromNow()}</>\r\n      )}\r\n    </Typography>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport numToWord from 'number-to-words-ru'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  dot: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n}))\r\n\r\ntype Cases = [string, string, string]\r\n\r\nexport const FollowersCount = (): JSX.Element => {\r\n  const classes = useStyles()\r\n  const user = useSelector((store) => store.profile.profile.card.data)\r\n  const followers = Number(user.followStats.followersCount)\r\n  const followed = Number(user.followStats.followCount)\r\n  const followersCases: Cases = ['подписчик', 'подписчика', 'подписчиков']\r\n  const followedCases: Cases = ['подписка', 'подписки', 'подписок']\r\n  const generateOptions = (cases: Cases): ConvertOptions => ({\r\n    currency: {\r\n      currencyNameCases: cases,\r\n      fractionalPartNameCases: ['', '', ''],\r\n      currencyNounGender: {\r\n        integer: 0,\r\n        fractionalPart: 0,\r\n      },\r\n    },\r\n    showNumberParts: {\r\n      integer: true,\r\n      fractional: false,\r\n    },\r\n    convertNumbertToWords: {\r\n      integer: false,\r\n      fractional: false,\r\n    },\r\n  })\r\n  const followersText = numToWord.convert(\r\n    followers,\r\n    generateOptions(followersCases)\r\n  )\r\n  const followedText = numToWord.convert(\r\n    followed,\r\n    generateOptions(followedCases)\r\n  )\r\n  return (\r\n    <Typography variant=\"body2\">\r\n      {followersText}\r\n      <span className={classes.dot}>•</span>\r\n      {followedText}\r\n    </Typography>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport FormattedText from 'src/components/formatters/FormattedText'\r\nimport { ComponentWithUserParams } from './index'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  blockTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nexport const About = ({\r\n  classes: additionalClasses,\r\n}: ComponentWithUserParams) => {\r\n  const classes = useStyles()\r\n  const whois = useSelector((store) => store.profile.profile.whois.data)\r\n\r\n  return whois.aboutHtml ? (\r\n    <div className={additionalClasses}>\r\n      <Typography className={classes.blockTitle}>О себе</Typography>\r\n      <FormattedText>{whois.aboutHtml}</FormattedText>\r\n    </div>\r\n  ) : null\r\n}\r\n","import React from 'react'\r\nimport { Typography, Chip, Grid } from '@material-ui/core'\r\nimport { ComponentWithUserParams } from './index'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  blockTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  badges: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nexport const Badges = ({\r\n  classes: additionalClasses,\r\n}: ComponentWithUserParams) => {\r\n  const classes = useStyles()\r\n  const whois = useSelector((store) => store.profile.profile.whois.data)\r\n\r\n  return whois.badgets ? (\r\n    <div className={additionalClasses}>\r\n      <Typography className={classes.blockTitle}>Значки</Typography>\r\n      <Grid spacing={1} container className={classes.badges}>\r\n        {whois.badgets.map((e, i) => (\r\n          <Grid key={i} item>\r\n            <Chip\r\n              style={{ cursor: 'help' }}\r\n              title={e.description}\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              label={e.title}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  ) : null\r\n}\r\n","import React from 'react'\r\nimport { Typography, Grid, Link } from '@material-ui/core'\r\nimport { ComponentWithUserParams } from './index'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n      color: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  blockTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  contactsItem: {\r\n    margin: `0 ${theme.spacing(2)}px ${theme.spacing(1)}px 0`,\r\n  },\r\n}))\r\n\r\nexport const Contacts = ({\r\n  classes: additionalClasses,\r\n}: ComponentWithUserParams) => {\r\n  const classes = useStyles()\r\n  const whois = useSelector((store) => store.profile.profile.whois.data)\r\n\r\n  return whois.contacts.length !== 0 ? (\r\n    <div className={additionalClasses}>\r\n      <Typography className={classes.blockTitle}>Контакты</Typography>\r\n      <Grid container>\r\n        {whois.contacts.map((e, i) => (\r\n          <Grid key={i} item className={classes.contactsItem}>\r\n            <Typography>{e.title}</Typography>\r\n            <Link\r\n              className={classes.link}\r\n              href={e.url}\r\n              rel=\"nofollow noopener\"\r\n              target=\"_blank\"\r\n            >\r\n              {e.url}\r\n            </Link>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </div>\r\n  ) : null\r\n}\r\n","import React from 'react'\r\nimport { Typography } from '@material-ui/core'\r\nimport { ComponentWithUserParams } from './index'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useSelector } from 'src/hooks'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  blockTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nexport const Specialisation = ({\r\n  classes: additionalClasses,\r\n}: ComponentWithUserParams) => {\r\n  const classes = useStyles()\r\n  const user = useSelector((store) => store.profile.profile.card.data)\r\n\r\n  return user.speciality ? (\r\n    <div className={additionalClasses}>\r\n      <Typography className={classes.blockTitle}>Специализация</Typography>\r\n      <Typography>{user.speciality}</Typography>\r\n    </div>\r\n  ) : null\r\n}\r\n","import * as React from 'react'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport makeStyles from '@material-ui/core/styles/makeStyles'\r\nimport {\r\n  Typography,\r\n  List,\r\n  ListItemAvatar,\r\n  ListItem,\r\n  ListItemText,\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n  },\r\n  skeleton: {\r\n    maxWidth: '100%',\r\n    backgroundColor: theme.palette.action.focus,\r\n    borderRadius: 4,\r\n  },\r\n}))\r\n\r\nconst PostSkeleton = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.title}>Пригласил на сайт</Typography>\r\n      <List>\r\n        {[...Array(5)].map((_, i) => (\r\n          <ListItem key={i}>\r\n            <ListItemAvatar>\r\n              <Skeleton\r\n                className={classes.skeleton}\r\n                style={{ borderRadius: '50%' }}\r\n                width={40}\r\n                height={40}\r\n                variant=\"circle\"\r\n              />\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n              primary={\r\n                <Skeleton\r\n                  className={classes.skeleton}\r\n                  width={128}\r\n                  height={22}\r\n                  variant=\"text\"\r\n                />\r\n              }\r\n              secondary={\r\n                <Skeleton\r\n                  className={classes.skeleton}\r\n                  width={256}\r\n                  height={20}\r\n                  variant=\"text\"\r\n                />\r\n              }\r\n            />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(PostSkeleton)\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  Typography,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Collapse,\r\n  Fade,\r\n} from '@material-ui/core'\r\nimport { ComponentWithUserParams } from './index'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport UserAvatar from 'src/components/blocks/UserAvatar'\r\nimport { User } from 'src/interfaces/User'\r\nimport useSelector from 'src/hooks/useSelector'\r\nimport ProfileChildrenSkeleton from 'src/components/skeletons/ProfileChildren'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getProfileChildren } from 'src/store/actions/profile'\r\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  blockTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: theme.palette.primary.main,\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n      color: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(5),\r\n    height: theme.spacing(5),\r\n  },\r\n  errorText: {\r\n    color: theme.palette.error.main,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  collapse: {\r\n    position: 'relative',\r\n  },\r\n  collapseShadow: {\r\n    position: 'absolute',\r\n    background:\r\n      'linear-gradient(0deg,' + getContrastPaperColor(theme) + ',transparent)',\r\n    bottom: 0,\r\n    pointerEvents: 'none',\r\n    height: 40,\r\n    width: '100%',\r\n  },\r\n}))\r\n\r\nconst Children = ({ classes: additionalClasses }: ComponentWithUserParams) => {\r\n  const [showAll, setShowAll] = useState<boolean>(false)\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const profile = useSelector((store) => store.profile.profile.card.data)\r\n  const childrenData = useSelector(\r\n    (store) => store.profile.profile.children.data\r\n  )\r\n  const isFetched = useSelector(\r\n    (store) => store.profile.profile.children.fetched\r\n  )\r\n  const isFetching = useSelector(\r\n    (store) => store.profile.profile.children.fetching\r\n  )\r\n  const fetchError = useSelector(\r\n    (store) => store.profile.profile.children.error\r\n  )\r\n  const sortingFunction = (a: string, b: string) => {\r\n    const aRef = childrenData.userRefs[a]\r\n    const bRef = childrenData.userRefs[b]\r\n    return aRef.alias.localeCompare(bRef.alias)\r\n  }\r\n  const sorted = isFetched ? childrenData.userIds.sort(sortingFunction) : []\r\n  const shouldCollapse = sorted.length > 5\r\n\r\n  useEffect(() => {\r\n    setShowAll(false)\r\n    dispatch(getProfileChildren(profile.alias))\r\n  }, [profile.alias, dispatch])\r\n\r\n  const Item = ({ data }: { data: User }) => (\r\n    <ListItem\r\n      style={{ paddingLeft: 0, paddingRight: 0 }}\r\n      component={LinkToOutsidePage}\r\n      to={'/user/' + data.alias}\r\n    >\r\n      <ListItemAvatar>\r\n        <UserAvatar\r\n          className={classes.avatar}\r\n          src={data.avatarUrl}\r\n          alias={data.alias}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        style={{ margin: 0 }}\r\n        primaryTypographyProps={{ className: classes.link }}\r\n        primary={'@' + data.alias}\r\n        secondary={data.speciality}\r\n      />\r\n    </ListItem>\r\n  )\r\n\r\n  if (fetchError)\r\n    return (\r\n      <Typography className={classes.errorText}>\r\n        Не удалось загрузить список приглашённых пользователей\r\n      </Typography>\r\n    )\r\n  if (isFetching) return <ProfileChildrenSkeleton />\r\n\r\n  return isFetched && sorted.length !== 0 ? (\r\n    <div className={additionalClasses}>\r\n      <Typography className={classes.blockTitle}>Пригласил на сайт</Typography>\r\n      <Collapse\r\n        className={classes.collapse}\r\n        in={showAll}\r\n        style={{ height: shouldCollapse ? 280 : '100%' }}\r\n        collapsedHeight={shouldCollapse ? 280 : '100%'}\r\n      >\r\n        <List>\r\n          {sorted.map((e) => (\r\n            <Item data={childrenData.userRefs[e]} key={e} />\r\n          ))}\r\n        </List>\r\n        {shouldCollapse && (\r\n          <Fade appear={false} in={!showAll}>\r\n            <div className={classes.collapseShadow} />\r\n          </Fade>\r\n        )}\r\n      </Collapse>\r\n\r\n      {shouldCollapse && (\r\n        <Button\r\n          size=\"small\"\r\n          style={{ marginTop: 8 }}\r\n          onClick={() => setShowAll((prev) => !prev)}\r\n          variant=\"outlined\"\r\n        >\r\n          {showAll ? 'Скрыть' : 'Показать всех'}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  ) : null\r\n}\r\n\r\nexport default React.memo(Children)\r\n","import * as React from 'react'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport makeStyles from '@material-ui/core/styles/makeStyles'\r\nimport {\r\n  Typography,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n  },\r\n  skeleton: {\r\n    maxWidth: '100%',\r\n    backgroundColor: theme.palette.action.focus,\r\n    borderRadius: 4,\r\n  },\r\n}))\r\n\r\nconst PostSkeleton = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.title}>Подписан на компании</Typography>\r\n      <List>\r\n        {[...Array(2)].map((_, i) => (\r\n          <ListItem key={i}>\r\n            <ListItemAvatar>\r\n              <Skeleton\r\n                className={classes.skeleton}\r\n                style={{ borderRadius: '50%' }}\r\n                width={40}\r\n                height={40}\r\n                variant=\"circle\"\r\n              />\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n              primary={\r\n                <Skeleton\r\n                  className={classes.skeleton}\r\n                  width={128}\r\n                  height={22}\r\n                  variant=\"text\"\r\n                />\r\n              }\r\n              secondary={\r\n                <Skeleton\r\n                  className={classes.skeleton}\r\n                  width={256}\r\n                  height={20}\r\n                  variant=\"text\"\r\n                />\r\n              }\r\n            />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(PostSkeleton)\r\n","import React, { useEffect } from 'react'\r\nimport {\r\n  Typography,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n} from '@material-ui/core'\r\nimport { ComponentWithUserParams } from './index'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Company } from 'src/interfaces'\r\nimport { useSelector } from 'src/hooks'\r\nimport ProfileCompaniesSkeleton from 'src/components/skeletons/ProfileCompanies'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getProfileCompanies } from 'src/store/actions/profile'\r\nimport UserAvatar from 'src/components/blocks/UserAvatar'\r\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  blockTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(5),\r\n    height: theme.spacing(5),\r\n  },\r\n  errorText: {\r\n    color: theme.palette.error.main,\r\n    fontWeight: 500,\r\n    fontFamily: 'Google Sans',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst Companies = ({ classes: additionalClasses }: ComponentWithUserParams) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const profile = useSelector((store) => store.profile.profile.card.data)\r\n  const companies = useSelector((store) => store.profile.profile.companies.data)\r\n  const isFetched = useSelector(\r\n    (store) => store.profile.profile.companies.fetched\r\n  )\r\n  const isFetching = useSelector(\r\n    (store) => store.profile.profile.companies.fetching\r\n  )\r\n  const fetchError = useSelector(\r\n    (store) => store.profile.profile.companies.error\r\n  )\r\n\r\n  useEffect(() => {\r\n    dispatch(getProfileCompanies(profile.alias))\r\n  }, [profile.alias, dispatch])\r\n\r\n  const Item = ({ data }: { data: Company }) => (\r\n    <ListItem\r\n      style={{ paddingLeft: 0, paddingRight: 0 }}\r\n      component={LinkToOutsidePage}\r\n      to={'/company/' + data.alias}\r\n    >\r\n      <ListItemAvatar>\r\n        <UserAvatar\r\n          className={classes.avatar}\r\n          src={data.imageUrl}\r\n          alias={data.alias}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        style={{ margin: 0 }}\r\n        primaryTypographyProps={{ color: 'textPrimary' }}\r\n        primary={data.titleHtml}\r\n        secondary={data.descriptionHtml || 'Компания'}\r\n      />\r\n    </ListItem>\r\n  )\r\n\r\n  if (fetchError)\r\n    return (\r\n      <Typography className={classes.errorText}>\r\n        Не удалось загрузить список любимых компаний\r\n      </Typography>\r\n    )\r\n  if (isFetching) return <ProfileCompaniesSkeleton />\r\n\r\n  return isFetched && companies && companies.companyIds.length !== 0 ? (\r\n    <div className={additionalClasses}>\r\n      <Typography className={classes.blockTitle}>\r\n        Подписан на компании\r\n      </Typography>\r\n      {companies.companyIds.map((e, i) => (\r\n        <Item data={companies.companyRefs[e]} key={i} />\r\n      ))}\r\n    </div>\r\n  ) : null\r\n}\r\n\r\nexport default React.memo(Companies)\r\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Badge, Button, Typography } from '@material-ui/core'\nimport { Icon28CommentOutline } from '@vkontakte/icons'\nimport { Icon20BookmarkOutline } from '@vkontakte/icons'\nimport { Icon28ArticleOutline } from '@vkontakte/icons'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport OutsidePageLocationState from 'src/interfaces/OutsidePageLocationState'\nimport { useSelector } from 'src/hooks'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    borderTop: '1px solid ' + theme.palette.divider,\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '100%',\n  },\n  button: {\n    padding: theme.spacing(1.5, 0),\n    borderRadius: 8,\n    display: 'flex',\n    width: '100%',\n  },\n  buttonLabel: {\n    flexDirection: 'column',\n    color: theme.palette.text.secondary,\n    textTransform: 'none',\n  },\n  buttonText: {\n    fontSize: 13,\n    fontWeight: 500,\n    marginTop: theme.spacing(0.5),\n    fontFamily: 'Google Sans',\n  },\n  badge: {\n    top: 3,\n  },\n}))\n\nconst ProfileLinks = () => {\n  const location = useLocation()\n  const history = useHistory<OutsidePageLocationState>()\n  const profile = useSelector((state) => state.profile.profile.card.data)\n  const classes = useStyles()\n  const buttons = [\n    {\n      icon: Icon28ArticleOutline,\n      to: location.pathname + '/articles/p/1',\n      text: 'Публикации',\n      badgeContent: profile.counterStats.postCount,\n    },\n    {\n      icon: Icon28CommentOutline,\n      to: location.pathname + '/comments/p/1',\n      text: 'Комментарии',\n      style: { transform: 'scale(1.1)' },\n      badgeContent: profile.counterStats.commentCount,\n    },\n    {\n      icon: Icon20BookmarkOutline,\n      to: location.pathname + '/favorites/articles/p/1',\n      text: 'Закладки',\n      badgeContent: profile.counterStats.favoriteCount,\n    },\n  ]\n\n  return (\n    <div className={classes.root}>\n      {buttons.map(({ icon: Icon, text, style, to, badgeContent }, i) => (\n        <Button\n          key={i}\n          classes={{ root: classes.button, label: classes.buttonLabel }}\n          onClick={() =>\n            history.push(to, {\n              from: location.pathname,\n              scroll: window.pageYOffset,\n            })\n          }\n        >\n          <Badge\n            classes={{ badge: classes.badge }}\n            badgeContent={badgeContent}\n            color=\"primary\"\n            invisible={badgeContent === 0}\n          >\n            <Icon width={28} height={28} style={style} />\n          </Badge>\n          <Typography className={classes.buttonText}>{text}</Typography>\n        </Button>\n      ))}\n    </div>\n  )\n}\n\nexport default React.memo(ProfileLinks)\n","import { darken, fade, Theme } from '@material-ui/core'\nimport isDarkTheme from './isDarkTheme'\n\nexport default (theme: Theme) => {\n  const t =\n    theme.palette.type === 'light'\n      ? theme.palette.background.paper\n      : darken(theme.palette.background.paper, 0.2)\n  const colors = [\n    t,\n    fade(t, 0.98),\n    fade(t, 0.94),\n    fade(t, 0.88),\n    fade(t, 0.8),\n    fade(t, 0.71),\n    fade(t, 0.61),\n    fade(t, 0.5),\n    fade(t, 0.39),\n    fade(t, 0.29),\n    fade(t, 0.2),\n    fade(t, 0.12),\n    fade(t, 0.06),\n    fade(t, 0.02),\n    fade(t, 0),\n  ]\n\n  return `linear-gradient(to top, ${(isDarkTheme(theme)\n    ? colors\n    : colors.reverse()\n  ).join(',')})`\n}\n","import React, { useEffect } from 'react'\r\nimport { darken, fade, lighten, makeStyles } from '@material-ui/core/styles'\r\nimport { UserAvatarAndLogin } from '../UserAvatarAndLogin'\r\nimport { Statistics } from '../Statistics'\r\nimport { InvitedTime } from '../InvitedTime'\r\nimport { RegisteredTime } from '../RegisteredTime'\r\nimport { FollowersCount } from '../FollowersCount'\r\nimport { About } from '../About'\r\nimport { Badges } from '../Badges'\r\nimport { Contacts } from '../Contacts'\r\nimport { Specialisation } from '../Specialisation'\r\nimport Children from '../Children'\r\nimport Companies from '../Companies'\r\nimport Hubs from '../Hubs'\r\nimport ProfileLinks from '../ProfileLinks'\r\nimport { useSelector } from 'src/hooks'\r\nimport fadedLinearGradient from 'src/utils/fadedLinearGradient'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  topBlock: {\r\n    background: fadedLinearGradient(theme),\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 0,\r\n  },\r\n  mainBlock: {\r\n    paddingRight: theme.spacing(2),\r\n    paddingLeft: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    backgroundColor: getContrastPaperColor(theme),\r\n  },\r\n  blockMargin: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst Profile = () => {\r\n  const classes = useStyles()\r\n  const user = useSelector((state) => state.profile.profile.card.data)\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  useEffect(() => {}, [user.alias])\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.topBlock}>\r\n        {[\r\n          UserAvatarAndLogin,\r\n          Statistics,\r\n          FollowersCount,\r\n          InvitedTime,\r\n          RegisteredTime,\r\n          ProfileLinks,\r\n        ].map((Component, i) => (\r\n          <Component key={i} />\r\n        ))}\r\n      </div>\r\n      <div className={classes.mainBlock}>\r\n        {[\r\n          Specialisation,\r\n          Badges,\r\n          About,\r\n          Hubs,\r\n          Contacts,\r\n          Children,\r\n          Companies,\r\n        ].map((Component, i) => (\r\n          <Component key={i} classes={classes.blockMargin} />\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default React.memo(Profile)\r\n","import React, { useEffect } from 'react'\r\nimport { useParams } from 'react-router'\r\nimport {\r\n  getProfileCard,\r\n  getProfileChildren,\r\n  getProfileWhois,\r\n} from 'src/store/actions/profile'\r\nimport UserPageSkeleton from 'src/components/skeletons/Profile'\r\nimport ErrorComponent from 'src/components/blocks/Error'\r\nimport Profile from './pages/Profile'\r\nimport { useSelector } from 'src/hooks'\r\nimport { useDispatch } from 'react-redux'\r\nimport OutsidePage from 'src/components/blocks/OutsidePage'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport interface ComponentWithUserParams {\r\n  classes?: string\r\n}\r\n\r\nexport interface UserParams {\r\n  login: string\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n}))\r\n\r\nconst User = () => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n  const profile = useSelector((state) => state.profile.profile.card.data)\r\n  const whois = useSelector((state) => state.profile.profile.whois.data)\r\n  const isUserFetched = useSelector(\r\n    (state) => state.profile.profile.card.fetched\r\n  )\r\n  const isWhoisFetched = useSelector(\r\n    (state) => state.profile.profile.whois.fetched\r\n  )\r\n  const isUserFetching = useSelector(\r\n    (state) => state.profile.profile.card.fetching\r\n  )\r\n  const isWhoisFetching = useSelector(\r\n    (state) => state.profile.profile.whois.fetching\r\n  )\r\n  const userFetchError = useSelector(\r\n    (state) => state.profile.profile.card.error\r\n  )\r\n  const whoisFetchError = useSelector(\r\n    (state) => state.profile.profile.whois.error\r\n  )\r\n  const { login } = useParams<UserParams>()\r\n\r\n  useEffect(() => {\r\n    if (profile?.alias !== login) {\r\n      dispatch(getProfileCard(login))\r\n    }\r\n  }, [login])\r\n\r\n  useEffect(() => {\r\n    if (whois?.alias !== login) {\r\n      dispatch(getProfileWhois(login))\r\n    }\r\n  }, [login])\r\n\r\n  return (\r\n    <OutsidePage\r\n      headerText={login ? '@' + login : null}\r\n      hidePositionBar\r\n      shrinkedHeaderText={profile?.fullname}\r\n    >\r\n      <div className={classes.root}>\r\n        {(userFetchError || whoisFetchError) && (\r\n          <ErrorComponent message={userFetchError || whoisFetchError} />\r\n        )}\r\n        {isUserFetched && isWhoisFetched && <Profile />}\r\n        {(isUserFetching || isWhoisFetching) && <UserPageSkeleton />}\r\n      </div>\r\n    </OutsidePage>\r\n  )\r\n}\r\n\r\nexport default React.memo(User)\r\n","import { AuthorizedRequestParams, FetchingState, Me } from 'src/interfaces'\nimport AuthData from 'src/interfaces/AuthData'\n\nexport const AUTH_PREFIX = 'AUTH_'\nexport const GET_AUTH_DATA = AUTH_PREFIX + 'GET_AUTH_DATA'\nexport const GET_CSRF_TOKEN = AUTH_PREFIX + 'GET_CSRF_TOKEN'\nexport const GET_ME = AUTH_PREFIX + 'GET_ME'\nexport const USER_LOGOUT = 'USER_LOGOUT'\n\nexport interface State {\n  authData: {\n    data: AuthData | null\n    state: FetchingState\n    fetchError: {\n      isAuthError?: boolean\n      isCaptchaError?: boolean\n      isUnknownAuthError?: boolean\n      error?: boolean\n      message?: string\n    } | null\n  }\n  csrfToken: {\n    data: string\n    state: FetchingState\n    fetchError: string\n  }\n  me: {\n    state: FetchingState\n    fetchError: string\n    data: Me\n  }\n  authorizedRequestData: AuthorizedRequestParams | null\n}\n","import makeRequest from 'src/api/makeRequest'\nimport { Me, AuthorizedRequestParams } from 'src/interfaces'\n\nexport default async (authData: AuthorizedRequestParams) =>\n  await makeRequest<Me>({\n    path: 'me',\n    version: 2,\n    authData,\n  })\n","import axios from 'axios'\nimport { API_TOKEN_URL } from 'src/config/constants'\nimport AccountAuthData from 'src/interfaces/AccountAuthData'\n\nexport default async (props: {\n  email: string\n  password: string\n}): Promise<AccountAuthData> =>\n  (\n    await axios({\n      method: 'post',\n      url: API_TOKEN_URL + 'getAccountAuthData',\n      data: props,\n    })\n  ).data\n","import axios from 'axios'\nimport { API_TOKEN_URL } from 'src/config/constants'\nimport AccountAuthData from 'src/interfaces/AccountAuthData'\n\nexport default async (props: AccountAuthData): Promise<string> =>\n  (\n    await axios({\n      method: 'post',\n      url: API_TOKEN_URL + 'getCSRFToken',\n      data: props,\n    })\n  ).data\n","import {\n  GET_ME,\n  GET_AUTH_DATA,\n  GET_CSRF_TOKEN,\n  USER_LOGOUT,\n} from '../reducers/auth/types'\nimport * as api from 'src/api/auth'\nimport AccountAuthData from 'src/interfaces/AccountAuthData'\nimport { AuthorizedRequestParams } from 'src/interfaces'\n\nexport const getAccountAuthData = (props: {\n  email: string\n  password: string\n}) => async (dispatch) => {\n  const type = GET_AUTH_DATA + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await api.getAccountAuthData(props)\n\n    if (data.error) {\n      return dispatch({ type: type + '_REJECTED', payload: data })\n    }\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error?.message })\n  }\n}\n\nexport const getCSRFToken = (props: AccountAuthData) => async (dispatch) => {\n  const type = GET_CSRF_TOKEN + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await api.getCSRFToken(props)\n\n    if (typeof data !== 'string') {\n      return dispatch({ type: type + '_REJECTED', payload: data })\n    }\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error?.message })\n  }\n}\n\nexport const getMe = (params: AuthorizedRequestParams) => async (dispatch) => {\n  const type = GET_ME + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await api.getMe(params)\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error.message })\n  }\n}\n\nexport const userLogout = () => async (dispatch) => {\n  dispatch({ type: USER_LOGOUT })\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  Button,\n  Typography,\n  Grid,\n  Paper,\n  TextField,\n  IconButton,\n  InputAdornment,\n  OutlinedInput,\n  useTheme,\n} from '@material-ui/core'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport { useDispatch } from 'react-redux'\nimport { getAccountAuthData, getCSRFToken } from 'src/store/actions/auth'\nimport { FetchingState } from 'src/interfaces'\nimport { useHistory } from 'react-router-dom'\nimport VisibilityIcon from '@material-ui/icons/Visibility'\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff'\nimport { useSnackbar } from 'notistack'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { useSelector } from 'src/hooks'\nimport { MIN_WIDTH } from 'src/config/constants'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  paper: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    margin: '0 auto',\n    maxWidth: 460,\n    width: '100%',\n    background: theme.palette.background.paper,\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n  },\n  grid: {\n    width: '100%',\n    height: '100%',\n    padding: theme.spacing(2.5),\n  },\n  headerTitle: {\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    fontSize: 28,\n  },\n  input: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(1),\n  },\n  inputLabel: {\n    color: theme.palette.text.secondary,\n    marginBottom: theme.spacing(1),\n    fontSize: 16,\n  },\n  loginButton: {\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(1.25, 2),\n  },\n}))\n\nconst Login = () => {\n  const classes = useStyles()\n  const { enqueueSnackbar } = useSnackbar()\n  const theme = useTheme()\n  const [showPassword, setShowPassword] = useState(false)\n  const authData = useSelector((store) => store.auth.authData.data)\n  const authDataFetchingState = useSelector(\n    (store) => store.auth.authData.state\n  )\n  const authDataFetchError = useSelector(\n    (store) => store.auth.authData.fetchError\n  )\n  const csrfTokenFetchingState = useSelector(\n    (store) => store.auth.csrfToken.state\n  )\n  const csrfTokenFetchError = useSelector(\n    (store) => store.auth.csrfToken.fetchError\n  )\n  const csrfToken = useSelector((store) => store.auth.csrfToken.data)\n  const shouldDisableLoginButton =\n    authDataFetchingState === FetchingState.Fetching ||\n    csrfTokenFetchingState === FetchingState.Fetching\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleLoginSubmit = async (e) => {\n    e.preventDefault()\n    const email = e.target.email.value\n    const password = e.target.password.value\n\n    // Get auth data with user's email and password\n    dispatch(getAccountAuthData({ email, password }))\n  }\n\n  useEffect(() => {\n    if (authData && !csrfToken) {\n      dispatch(getCSRFToken(authData))\n    } else if (authData && csrfToken) {\n      enqueueSnackbar('Вход успешен!', {\n        variant: 'success',\n        autoHideDuration: 3000,\n      })\n      history.push('/')\n    } else if (authDataFetchingState === FetchingState.Error) {\n      if (authDataFetchError.isAuthError) {\n        enqueueSnackbar('Неверная почта или пароль', {\n          variant: 'error',\n          autoHideDuration: 4000,\n        })\n      } else if (authDataFetchError.isCaptchaError) {\n        enqueueSnackbar('Введите капчу', {\n          variant: 'error',\n          autoHideDuration: 4000,\n        })\n      } else if (authDataFetchError.isUnknownAuthError) {\n        enqueueSnackbar(authDataFetchError.message, {\n          variant: 'error',\n          autoHideDuration: 4000,\n        })\n      }\n    } else if (csrfTokenFetchingState === FetchingState.Error) {\n      enqueueSnackbar('Не удалось получить CSRF токен', {\n        variant: 'error',\n        autoHideDuration: 4000,\n      })\n    }\n  }, [authData, csrfToken, history, authDataFetchingState])\n\n  return (\n    <OutsidePage\n      backgroundColor={theme.palette.background.paper}\n      headerText={'Авторизация'}\n      disableShrinking\n    >\n      <form className={classes.root} onSubmit={handleLoginSubmit}>\n        <div className={classes.paper}>\n          <Grid container direction=\"column\" className={classes.grid}>\n            <Grid item>\n              <Typography className={classes.headerTitle}>Вход</Typography>\n            </Grid>\n            <Grid item className={classes.input}>\n              <Typography className={classes.inputLabel}>\n                Электропочта\n              </Typography>\n              <TextField\n                autoFocus\n                autoComplete=\"email\"\n                name=\"email\"\n                size=\"small\"\n                fullWidth\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item className={classes.input}>\n              <Typography className={classes.inputLabel}>Пароль</Typography>\n              <OutlinedInput\n                autoComplete=\"current-password\"\n                name=\"password\"\n                type={showPassword ? 'text' : 'password'}\n                fullWidth\n                margin=\"dense\"\n                endAdornment={\n                  <InputAdornment position=\"end\" style={{ marginRight: -8 }}>\n                    <IconButton\n                      onClick={() => setShowPassword((prev) => !prev)}\n                    >\n                      {showPassword ? (\n                        <VisibilityIcon color=\"disabled\" />\n                      ) : (\n                        <VisibilityOffIcon color=\"disabled\" />\n                      )}\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </Grid>\n            <Grid item>\n              <Button\n                disableElevation\n                className={classes.loginButton}\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                disabled={shouldDisableLoginButton}\n              >\n                Войти\n              </Button>\n            </Grid>\n          </Grid>\n        </div>\n      </form>\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Login)\n","import React from 'react'\nimport {\n  Button as MUIButton,\n  Grid,\n  Typography,\n  ButtonBase,\n} from '@material-ui/core'\nimport { makeStyles, Theme } from '@material-ui/core/styles'\nimport { blue, orange, red, green } from '@material-ui/core/colors'\n\nimport { Icon24Fire } from '@vkontakte/icons'\nimport { Icon36Newsfeed } from '@vkontakte/icons'\nimport { Icon36Users3Outline } from '@vkontakte/icons'\nimport { Icon28CompassOutline } from '@vkontakte/icons'\nimport { Icon28WorkOutline } from '@vkontakte/icons'\nimport { Icon24CubeBoxOutline } from '@vkontakte/icons'\nimport { Icon24ChevronCompactRight } from '@vkontakte/icons'\nimport { Icon28Users3Outline } from '@vkontakte/icons'\nimport { Icon28LogoVkOutline } from '@vkontakte/icons'\nimport { useHistory, useLocation } from 'react-router'\nimport { Icon24InfoCircleOutline } from '@vkontakte/icons'\nimport GitHubIcon from '@material-ui/icons/GitHub'\nimport useMediaExtendedQuery from 'src/hooks/useMediaExtendedQuery'\nimport { MIDDLE_WIDTH, MIN_WIDTH } from 'src/config/constants'\n\nconst makeCardTextColor = (theme: Theme, hasSubtext: boolean) => {\n  if (theme.palette.type === 'dark') {\n    return theme.palette.text[hasSubtext ? 'secondary' : 'hint']\n  } else {\n    return theme.palette.text[hasSubtext ? 'primary' : 'secondary']\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  rootWrapper: {\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%',\n  },\n  root: {\n    paddingTop: theme.spacing(1),\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      marginTop: theme.spacing(1),\n    },\n    maxWidth: MIN_WIDTH,\n  },\n  buttonContainer: {\n    display: 'flex',\n    gap: theme.spacing(2),\n    flexWrap: 'wrap',\n  },\n  title: {\n    fontFamily: 'Google Sans',\n    fontWeight: 800,\n    fontSize: 24,\n    color: theme.palette.text.primary,\n    marginLeft: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  divider: {\n    marginTop: theme.spacing(0.5),\n  },\n  wrapper: {\n    marginTop: theme.spacing(1),\n  },\n  buttonLabel: {\n    textTransform: 'none',\n  },\n  dividerTitle: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.hint,\n  },\n}))\n\nconst useButtonStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(1.5, 2),\n    borderRadius: 8,\n    display: 'flex',\n    width: `calc(50% - ${theme.spacing(1)}px)`,\n    background: theme.palette.background.paper,\n    position: 'relative',\n    '&:hover': {\n      background: theme.palette.background.paper,\n    },\n    alignItems: 'flex-start',\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 12,\n      width: '100%',\n      maxWidth: 164,\n    },\n  },\n  rootLabel: {\n    flexDirection: 'column',\n    color: theme.palette.text.secondary,\n    textTransform: 'none',\n  },\n  text: {\n    fontSize: 18,\n    fontWeight: 500,\n    marginTop: theme.spacing(0.5),\n    fontFamily: 'Google Sans',\n    color: theme.palette.text.primary,\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      fontSize: 20,\n      marginTop: theme.spacing(1),\n    },\n  },\n  icon: {\n    marginTop: theme.spacing(0.5),\n  },\n}))\n\nconst useCardLinkStyles = makeStyles((theme) => ({\n  root: {\n    borderRadius: 8,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'initial',\n    flexDirection: 'column',\n    textAlign: 'left',\n    background: (s) => theme.palette.background[s ? 'paper' : 'default'],\n    marginTop: theme.spacing(1),\n  },\n  a: {\n    padding: theme.spacing(1, 1.5),\n    textDecoration: 'none',\n    color: 'initial',\n    '-webkit-tap-highlight-color': 'transparent',\n  },\n  text: {\n    fontSize: 16,\n    marginLeft: theme.spacing(1),\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n    flexGrow: 1,\n  },\n  header: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    color: (s) => makeCardTextColor(theme, s as boolean),\n  },\n  headerIcon: {\n    marginRight: -8,\n    width: 24,\n    height: 24,\n  },\n}))\n\nconst useCardStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(1, 1.5),\n    borderRadius: 8,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'initial',\n    flexDirection: 'column',\n    textAlign: 'left',\n    background: (s) => theme.palette.background[s ? 'paper' : 'default'],\n    marginTop: theme.spacing(1),\n  },\n  text: {\n    fontSize: 16,\n    marginLeft: theme.spacing(1),\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n    flexGrow: 1,\n  },\n  header: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    color: (s) => makeCardTextColor(theme, s as boolean),\n  },\n  headerIcon: {\n    marginRight: -8,\n    width: 24,\n    height: 24,\n  },\n  subtext: {\n    fontSize: 13,\n    fontWeight: 500,\n    marginTop: theme.spacing(0.5),\n    fontFamily: 'Google Sans',\n    color:\n      theme.palette.text[theme.palette.type === 'dark' ? 'hint' : 'secondary'],\n  },\n}))\n\ninterface ButtonProps {\n  text: string\n  icon: typeof Icon36Newsfeed\n  color: string\n  to: string\n}\n\ninterface CardProps {\n  text: string\n  icon: typeof Icon36Newsfeed | typeof GitHubIcon\n  subtext?: string\n  to: string\n  paper?: boolean\n}\n\nconst Button = ({ text, icon: Icon, color, to }: ButtonProps) => {\n  const classes = useButtonStyles()\n  const history = useHistory()\n  const match = useMediaExtendedQuery()\n\n  return (\n    <MUIButton\n      onClick={() =>\n        history.push(to, {\n          from: location.pathname,\n        })\n      }\n      classes={{ root: classes.root, label: classes.rootLabel }}\n    >\n      <Icon\n        width={match ? 48 : 36}\n        height={match ? 48 : 36}\n        fill={color}\n        className={classes.icon}\n      />\n      <Typography className={classes.text}>{text}</Typography>\n    </MUIButton>\n  )\n}\n\nconst Card = ({ text, subtext, icon: Icon, to, paper }: CardProps) => {\n  const classes = useCardStyles(paper || !!subtext)\n  const history = useHistory()\n  const location = useLocation()\n\n  return (\n    <ButtonBase\n      onClick={() =>\n        history.push(to, {\n          from: location.pathname,\n        })\n      }\n      className={classes.root}\n    >\n      <div className={classes.header}>\n        <Icon width={24} height={24} />\n        <Typography className={classes.text}>{text}</Typography>\n        {subtext && (\n          <Icon24ChevronCompactRight\n            width={24}\n            height={24}\n            className={classes.headerIcon}\n          />\n        )}\n      </div>\n      {subtext && (\n        <Typography className={classes.subtext}>{subtext}</Typography>\n      )}\n    </ButtonBase>\n  )\n}\n\nconst CardLink = ({ text, icon: Icon, to }: CardProps) => {\n  const classes = useCardLinkStyles()\n\n  return (\n    <ButtonBase className={classes.root}>\n      <a href={to} target=\"_blank\" rel=\"noreferrer\" className={classes.a}>\n        <div className={classes.header}>\n          <Icon width={24} height={24} />\n          <Typography className={classes.text}>{text}</Typography>\n        </div>\n      </a>\n    </ButtonBase>\n  )\n}\n\nconst Services = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.rootWrapper}>\n      <div className={classes.root}>\n        <div className={classes.buttonContainer}>\n          <Button\n            to=\"/megaprojects/p/1\"\n            icon={Icon24Fire}\n            text=\"Мегапроекты\"\n            color={red[600]}\n          />\n          <Button\n            to=\"/hubs/p/1\"\n            icon={Icon28CompassOutline}\n            text=\"Хабы\"\n            color={orange.A200}\n          />\n          <Button\n            icon={Icon36Users3Outline}\n            text=\"Авторы\"\n            to=\"/authors/p/1\"\n            color={blue[400]}\n          />\n          <Button\n            icon={Icon28WorkOutline}\n            text=\"Компании\"\n            to=\"/companies/p/1\"\n            color={green[400]}\n          />\n        </div>\n        <div className={classes.wrapper}>\n          <Card\n            to=\"/sandbox/p/1\"\n            text=\"Песочница\"\n            icon={Icon24CubeBoxOutline}\n            subtext=\"Статьи, ожидающие одобрения от сообщества\"\n          />\n          <Card\n            to=\"/how-to-become-an-author\"\n            text=\"Как стать автором\"\n            icon={Icon28Users3Outline}\n            subtext=\"Справка о том, как написать первую статью\"\n          />\n          <Card\n            to=\"/habra-about\"\n            paper\n            text=\"О сайте\"\n            icon={Icon24InfoCircleOutline}\n          />\n        </div>\n        <div className={classes.wrapper} style={{ marginTop: 6 }}>\n          <Typography variant=\"caption\" className={classes.dividerTitle}>\n            Социальные сети\n          </Typography>\n          <Grid container spacing={1}>\n            <Grid item xs={6}>\n              <CardLink\n                to=\"https://vk.com/tarnatovski\"\n                text=\"ВКонтакте\"\n                icon={Icon28LogoVkOutline}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <CardLink\n                to=\"https://github.com/jarvis394/habra\"\n                text=\"GitHub\"\n                icon={GitHubIcon}\n              />\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(Services)\n","import * as React from 'react'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport makeStyles from '@material-ui/core/styles/makeStyles'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport random from 'src/utils/random'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    background: theme.palette.background.paper,\r\n    borderRadius: 0,\r\n  },\r\n  skeleton: {\r\n    backgroundColor: theme.palette.action.hover,\r\n    borderRadius: 4,\r\n  },\r\n}))\r\n\r\nconst NewsItemSkeleton = () => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <Paper elevation={0} className={classes.root}>\r\n      <Grid container>\r\n        <Grid item xs={12}>\r\n          <Skeleton\r\n            variant=\"rect\"\r\n            width={random(75, 100) + '%'}\r\n            className={classes.skeleton}\r\n            height={14}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Skeleton\r\n            variant=\"rect\"\r\n            width={random(75, 100) + '%'}\r\n            className={classes.skeleton}\r\n            height={14}\r\n            style={{ marginTop: 8 }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Skeleton\r\n            variant=\"rect\"\r\n            width=\"50%\"\r\n            className={classes.skeleton}\r\n            height={12}\r\n            style={{ marginTop: 8 }}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default React.memo(NewsItemSkeleton)\r\n","import * as React from 'react'\nimport { useEffect } from 'react'\nimport { Paper, Grid, Typography, Button } from '@material-ui/core'\nimport { makeStyles, fade } from '@material-ui/core/styles'\nimport RightIcon from '@material-ui/icons/ChevronRightRounded'\nimport numToWord from 'number-to-words-ru'\nimport { Link } from 'react-router-dom'\nimport dayjs from 'dayjs'\nimport NewsItemSkeleton from '../../components/skeletons/NewsItem'\nimport { useDispatch } from 'react-redux'\nimport { getNewsPromo } from 'src/store/actions/news'\nimport { useSelector } from 'src/hooks'\nimport { Post } from 'src/interfaces'\nimport { MIN_WIDTH } from 'src/config/constants'\nimport FormattedText from 'src/components/formatters/FormattedText'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(1.5),\n    padding: theme.spacing(2),\n    borderRadius: 0,\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      borderRadius: 8,\n    },\n  },\n  header: {\n    fontFamily: 'Google Sans',\n    fontWeight: 800,\n    fontSize: 16,\n    color: theme.palette.primary.main,\n    paddingBottom: theme.spacing(1),\n  },\n  item: {\n    padding: `${theme.spacing(1)}px 0 ${theme.spacing(1)}px 0`,\n    flexWrap: 'nowrap',\n    alignItems: 'center',\n  },\n  title: {\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    fontSize: 16,\n    color: theme.palette.text.primary,\n  },\n  ts: {\n    fontWeight: 500,\n    fontSize: 14,\n    color: theme.palette.text.hint,\n    fontFamily: 'Google Sans',\n    paddingTop: 2,\n  },\n  linkBox: { marginTop: theme.spacing(1) },\n  link: {\n    textDecoration: 'none',\n    color: theme.palette.primary.main,\n    fontSize: 14,\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    textTransform: 'none',\n    '-webkit-tap-highlight-color': 'transparent !important',\n  },\n  dot: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    fontWeight: 500,\n    fontSize: 12,\n    color: theme.palette.text.hint,\n  },\n  article: {\n    textDecoration: 'none',\n  },\n  error: {\n    color: theme.palette.error.light,\n    fontWeight: 800,\n  },\n}))\n\nconst NewsItem = React.memo(\n  ({ data }: { data: Post }): React.ReactElement => {\n    const classes = useStyles()\n    const ts = dayjs(data.timePublished).calendar()\n    const commentsCount = numToWord.convert(data.statistics.commentsCount, {\n      currency: {\n        currencyNameCases: ['комментарий', 'комментария', 'комментариев'],\n        fractionalPartNameCases: ['', '', ''],\n        currencyNounGender: {\n          integer: 0,\n          fractionalPart: 0,\n        },\n      },\n      showNumberParts: {\n        integer: true,\n        fractional: false,\n      },\n      convertNumbertToWords: {\n        integer: false,\n        fractional: false,\n      },\n    })\n\n    return (\n      <Link to={'/post/' + data.id} className={classes.article}>\n        <Grid container direction=\"row\" className={classes.item}>\n          <Grid container direction=\"column\">\n            <Grid item>\n              <FormattedText className={classes.title}>\n                {data.titleHtml}\n              </FormattedText>\n            </Grid>\n            <Grid container direction=\"row\" alignItems=\"center\">\n              <Typography className={classes.ts}>{ts}</Typography>\n              <span className={classes.dot}>•</span>\n              <Typography className={classes.ts}>{commentsCount}</Typography>\n            </Grid>\n          </Grid>\n          <Grid item>\n            <RightIcon color=\"disabled\" />\n          </Grid>\n        </Grid>\n      </Link>\n    )\n  }\n)\n\nconst NewsBlock = ({ hubAlias }: { hubAlias?: string }) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const isHidden = useSelector(\n    (store) => store.settings.interfaceFeed.hideNewsBlock\n  )\n  const isFetched = useSelector((state) => state.news.block.fetched)\n  const isFetching = useSelector((state) => state.news.block.fetching)\n  const fetchError = useSelector((state) => state.news.block.error)\n  const news = useSelector((state) => state.news.block.data)\n\n  if (isHidden) return null\n\n  useEffect(() => {\n    dispatch(getNewsPromo(hubAlias))\n  }, [dispatch])\n\n  const GoToNewsButton = () => (\n    <Button\n      size=\"small\"\n      component={Link}\n      color=\"primary\"\n      to=\"/news/p/1\"\n      className={classes.link}\n      endIcon={<RightIcon />}\n    >\n      Все новости\n    </Button>\n  )\n\n  return (\n    <Paper className={classes.root} elevation={0}>\n      <div className={classes.header}>Новости</div>\n      {fetchError && (\n        <Typography className={classes.error}>\n          Произошла ошибка при выполнении запроса\n        </Typography>\n      )}\n      {isFetching &&\n        !fetchError &&\n        [...Array(5)].map((_, i) => <NewsItemSkeleton key={i} />)}\n      {isFetched &&\n        news &&\n        news\n          // Sort news in a descending order based on their timePublished\n          .sort(\n            (a, b) => +new Date(b.timePublished) - +new Date(a.timePublished)\n          )\n          .map((e, i) => <NewsItem data={e} key={i} />)}\n      <div className={classes.linkBox}>\n        <GoToNewsButton />\n      </div>\n    </Paper>\n  )\n}\n\nexport default React.memo(NewsBlock)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Button, fade, Grid } from '@material-ui/core'\nimport { ModeObject } from 'src/interfaces'\nimport { Mode } from 'src/config/constants'\nimport isDarkTheme from 'src/utils/isDarkTheme'\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    background: fade(theme.palette.divider, isDarkTheme(theme) ? 0.1 : 0.03),\n    borderRadius: 8,\n    color: fade(theme.palette.text.primary, 0.5),\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    '&:hover': {\n      background: fade(theme.palette.divider, 0.1),\n    },\n    fontSize: 15,\n    minHeight: 40,\n    textTransform: 'none',\n  },\n  buttonChecked: {\n    textTransform: 'none',\n    minHeight: 40,\n    borderRadius: 8,\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    fontSize: 15,\n    background: theme.palette.primary.main + ' !important',\n    color: theme.palette.getContrastText(theme.palette.primary.main),\n    boxShadow:\n      '0 3px 6px ' + fade(theme.palette.primary.main, 0.1) + ' !important',\n  },\n  inlineContainer: {\n    display: 'inline-flex',\n    gap: theme.spacing(2),\n    marginLeft: theme.spacing(2),\n  },\n  inlineButton: {\n    padding: theme.spacing(1, 2),\n    fontSize: 16,\n    minHeight: '36px !important',\n  },\n}))\n\ninterface Params {\n  data: ModeObject[]\n  onChange: (e: ModeObject) => void\n  currentValue: Mode\n  inline?: boolean\n}\n\nconst SwitcherButtons = ({\n  data,\n  onChange,\n  currentValue,\n  inline = false,\n}: Params) => {\n  const classes = useStyles()\n  const fullWidthIndex = data.length % 2 === 1 ? data.length - 1 : -1\n\n  if (inline) {\n    return (\n      <div className={classes.inlineContainer}>\n        {data.map((e, i) => (\n          <Button\n            key={i}\n            onClick={() => onChange(e)}\n            color=\"primary\"\n            variant=\"text\"\n            className={\n              (e.mode === currentValue\n                ? classes.buttonChecked\n                : classes.button) +\n              ' ' +\n              classes.inlineButton\n            }\n          >\n            {e.switcherText}\n          </Button>\n        ))}\n      </div>\n    )\n  }\n\n  return (\n    <Grid container spacing={1}>\n      {data.map((e, i) => (\n        <Grid\n          item\n          key={i}\n          xs={fullWidthIndex === i ? 12 : 6}\n          sm={fullWidthIndex === i ? 8 : 4}\n        >\n          <Button\n            fullWidth\n            onClick={() => onChange(e)}\n            color=\"primary\"\n            variant=\"text\"\n            className={\n              e.mode === currentValue ? classes.buttonChecked : classes.button\n            }\n          >\n            {e.switcherText}\n          </Button>\n        </Grid>\n      ))}\n    </Grid>\n  )\n}\n\nexport default React.memo(SwitcherButtons)\n","import React, { Dispatch, SetStateAction } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport Container from '@material-ui/core/Container'\nimport { MIN_WIDTH } from '../../config/constants'\nimport { Drawer, fade, IconButton, SwipeableDrawer } from '@material-ui/core'\nimport { Icon24Cancel } from '@vkontakte/icons'\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    color: '#fff',\n  },\n  drawerRoot: {\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: MIN_WIDTH,\n    background: 'transparent',\n    padding: theme.spacing(0, 1),\n  },\n  drawerContent: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  drawer: {\n    borderRadius: '14px',\n    margin: theme.spacing(1, 0),\n    padding: theme.spacing(2),\n    background: theme.palette.background.paper,\n    border: '1px solid ' + fade(theme.palette.divider, 0.05),\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    height: 56,\n  },\n  drawerHeaderIcon: {\n    marginRight: 4,\n    marginLeft: -12,\n  },\n  drawerHeaderText: {\n    fontFamily: 'Google Sans',\n    fontSize: 20,\n    fontWeight: 500,\n    width: '100%',\n    textAlign: 'center',\n    position: 'absolute',\n    left: 0,\n    zIndex: 1,\n  },\n  margin: {\n    marginRight: theme.spacing(2),\n    marginLeft: theme.spacing(2),\n  },\n}))\n\ninterface Props {\n  children: NonNullable<React.ReactNode>\n  isOpen: boolean\n  setOpen?: Dispatch<SetStateAction<boolean>>\n}\n\nconst BottomDrawerMargin = ({ children, isOpen, setOpen }: Props) => {\n  const classes = useStyles()\n  const contents = (\n    <Container className={classes.drawer}>\n      <div className={classes.drawerContent}>{children}</div>\n    </Container>\n  )\n\n  return (\n    <SwipeableDrawer\n      open={isOpen}\n      anchor=\"bottom\"\n      onClose={() => setOpen(false)}\n      onOpen={() => setOpen(true)}\n      disableBackdropTransition\n      disableDiscovery\n      disableSwipeToOpen\n      classes={{\n        paper: classes.drawerRoot,\n      }}\n      className={classes.margin}\n      style={{ zIndex: 5000 }}\n      elevation={0}\n    >\n      {contents}\n    </SwipeableDrawer>\n  )\n}\n\nexport default React.memo(BottomDrawerMargin)\n","import React, { useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n  FLOWS,\r\n  MIN_WIDTH,\r\n  Mode,\r\n  RATING_MODES as modes,\r\n} from '../../config/constants'\r\nimport {\r\n  Button,\r\n  ButtonBase,\r\n  createStyles,\r\n  fade,\r\n  Tab,\r\n  Tabs,\r\n  Theme,\r\n  withStyles,\r\n} from '@material-ui/core'\r\nimport { ModeObject } from 'src/interfaces'\r\nimport ExpandMoreRoundedIcon from '@material-ui/icons/ExpandMoreRounded'\r\nimport SwitcherButtons from './SwitcherButtons'\r\nimport BottomDrawerMargin from 'src/components/blocks/BottomDrawerMargin'\r\nimport isDarkTheme from 'src/utils/isDarkTheme'\r\nimport FlowAlias from 'src/interfaces/FlowAlias'\r\n\r\ninterface StyledTabProps {\r\n  label: string\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  switcherDesktop: {\r\n    display: 'none',\r\n    flexDirection: 'column',\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  inline: {\r\n    flexDirection: 'row',\r\n    display: 'flex',\r\n  },\r\n  currentFlow: {\r\n    marginBottom: theme.spacing(2),\r\n    fontFamily: 'Google Sans',\r\n    fontWeight: 700,\r\n    fontSize: 28,\r\n    marginLeft: theme.spacing(0.5),\r\n  },\r\n  button: {\r\n    background: theme.palette.background.default,\r\n    textAlign: 'left',\r\n    minHeight: 48,\r\n    height: 48,\r\n    marginTop: theme.spacing(1),\r\n    width: '100%',\r\n    [theme.breakpoints.up(MIN_WIDTH)]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  buttonContainer: {\r\n    display: 'flex',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 2),\r\n    width: '100%',\r\n  },\r\n  currentMode: {\r\n    fontSize: 24,\r\n    fontWeight: 800,\r\n    fontFamily: 'Google Sans',\r\n  },\r\n  expandIconWrapper: {\r\n    display: 'flex',\r\n    marginLeft: theme.spacing(1),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: theme.palette.primary.main,\r\n  },\r\n  expandIcon: {\r\n    fontSize: 28,\r\n  },\r\n  drawerTitleText: {\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 16,\r\n    fontWeight: 500,\r\n    lineHeight: '14px',\r\n    marginBottom: theme.spacing(1.5),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  applyButton: {\r\n    height: 40,\r\n    marginTop: theme.spacing(2),\r\n    borderRadius: 8,\r\n    textTransform: 'none',\r\n    fontFamily: 'Google Sans',\r\n    fontSize: 15,\r\n    fontWeight: 500,\r\n  },\r\n  margin: {\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst IOSTabs = withStyles((theme: Theme) => ({\r\n  root: {\r\n    background: fade(theme.palette.divider, isDarkTheme(theme) ? 0.1 : 0.03),\r\n    borderRadius: 12,\r\n    display: 'flex',\r\n    minHeight: 'unset',\r\n    maxWidth: 'unset',\r\n  },\r\n  scroller: {\r\n    padding: 4,\r\n  },\r\n  indicator: {\r\n    background: fade(theme.palette.divider, 0.1),\r\n    height: 'calc(100% - 8px)',\r\n    marginBottom: 4,\r\n    borderRadius: 8,\r\n    boxShadow:\r\n      '0 3px 6px ' +\r\n      fade(theme.palette.background.default, 0.1) +\r\n      ' !important',\r\n  },\r\n}))(Tabs)\r\n\r\ninterface TabGroupProps {\r\n  handleShowModeChange: (newShowMode: ShowMode) => void\r\n  showMode: ShowMode\r\n  desktop?: boolean\r\n}\r\n\r\nconst TabGroupUnmemoized: React.FC<TabGroupProps> = ({\r\n  handleShowModeChange,\r\n  showMode,\r\n  desktop = false,\r\n}) => {\r\n  const handleChange = (\r\n    _event: React.ChangeEvent<Record<string, unknown>>,\r\n    newValue: number\r\n  ) => {\r\n    handleShowModeChange(showModes[newValue].mode)\r\n  }\r\n  const currentValue = showModes.findIndex((e) => e.mode === showMode)\r\n\r\n  /**\r\n   * `Tab` component needs to be here so it can change its styles\r\n   * according to the `desktop` boolean. `Tabs` are moved outside so it\r\n   * will not rerender every time `showMode` changes\r\n   * */\r\n  const IOSTab = withStyles((theme: Theme) =>\r\n    createStyles({\r\n      root: {\r\n        textTransform: 'none',\r\n        minWidth: desktop ? 122 : 72,\r\n        minHeight: desktop ? 40 : 38,\r\n        flexGrow: 1,\r\n        fontSize: 16,\r\n        padding: 0,\r\n        maxWidth: 'unset',\r\n        fontFamily: 'Google Sans',\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n        transition: 'opacity 0.1s ease',\r\n        '&:hover': {\r\n          opacity: 1,\r\n        },\r\n        '&$selected': {\r\n          color: theme.palette.text.primary,\r\n          fontWeight: theme.typography.fontWeightMedium,\r\n        },\r\n      },\r\n      selected: {},\r\n    })\r\n  )((props: StyledTabProps) => <Tab disableRipple {...props} />)\r\n\r\n  return (\r\n    <IOSTabs value={currentValue} onChange={handleChange}>\r\n      {showModes.map((e, i) => (\r\n        <IOSTab label={e.text} key={i} />\r\n      ))}\r\n    </IOSTabs>\r\n  )\r\n}\r\nconst TabGroup = React.memo(TabGroupUnmemoized)\r\n\r\ntype ShowMode = 'top' | 'new'\r\nconst showModes: { text: string; mode: ShowMode }[] = [\r\n  {\r\n    text: 'Лучшие',\r\n    mode: 'top',\r\n  },\r\n  {\r\n    text: 'Новые',\r\n    mode: 'new',\r\n  },\r\n]\r\nconst switcherButtonsDataNew = modes.filter(\r\n  (e) => e.switcherText && e.isNewMode\r\n)\r\nconst switcherButtonsDataTop = modes.filter(\r\n  (e) => e.switcherText && !e.isNewMode\r\n)\r\nconst Switcher: React.FC<{\r\n  flow?: FlowAlias\r\n  mode: Mode\r\n  setMode: React.Dispatch<React.SetStateAction<Mode>>\r\n  handleClick: ({ mode: newMode, to }: { mode: Mode; to: string }) => void\r\n}> = ({ flow, handleClick, mode, setMode }) => {\r\n  const [isOpen, setOpen] = useState(false)\r\n  const current = modes.find((e) => e.mode === mode)\r\n  const [showMode, setShowMode] = useState<ShowMode>(\r\n    current.isNewMode ? 'new' : 'top'\r\n  )\r\n  const [drawerMode, setDrawerMode] = useState<ModeObject>(current)\r\n  const currentFlow = flow ? FLOWS.find((e) => e.alias === flow) : null\r\n  const classes = useStyles()\r\n\r\n  const onButtonClick = () => {\r\n    setOpen((prev) => !prev)\r\n  }\r\n  const handleShowModeChange = (newShowMode: ShowMode, updateMode = false) => {\r\n    if (newShowMode !== showMode) {\r\n      setShowMode(newShowMode)\r\n      if (newShowMode === 'new') {\r\n        setDrawerMode(switcherButtonsDataNew[0])\r\n        if (updateMode) {\r\n          setMode(switcherButtonsDataNew[0].mode)\r\n          handleClick(switcherButtonsDataNew[0])\r\n        }\r\n      } else {\r\n        setDrawerMode(switcherButtonsDataTop[0])\r\n        if (updateMode) {\r\n          setMode(switcherButtonsDataTop[0].mode)\r\n          handleClick(switcherButtonsDataTop[0])\r\n        }\r\n      }\r\n    }\r\n  }\r\n  const handleApplyClick = () => {\r\n    setMode(drawerMode.mode)\r\n    handleClick(drawerMode)\r\n    setOpen(false)\r\n  }\r\n  const onChange = (e: ModeObject) => setDrawerMode(e)\r\n  const onDesktopSwitcherChange = (e: ModeObject) => {\r\n    setDrawerMode(e)\r\n    setMode(e.mode)\r\n    handleClick(e)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const newCurrentMode = modes.find((e) => e.mode === mode)\r\n    setShowMode(newCurrentMode.isNewMode ? 'new' : 'top')\r\n    setDrawerMode(newCurrentMode)\r\n  }, [mode, handleClick])\r\n\r\n  return (\r\n    <>\r\n      <ButtonBase className={classes.button} onClick={onButtonClick}>\r\n        <div className={classes.buttonContainer}>\r\n          <Typography className={classes.currentMode}>\r\n            {current.text}\r\n          </Typography>\r\n          <div className={classes.expandIconWrapper}>\r\n            <ExpandMoreRoundedIcon className={classes.expandIcon} />\r\n          </div>\r\n        </div>\r\n      </ButtonBase>\r\n\r\n      <div className={classes.switcherDesktop}>\r\n        {currentFlow && (\r\n          <Typography className={classes.currentFlow}>\r\n            {currentFlow.title}\r\n          </Typography>\r\n        )}\r\n        <div className={classes.inline}>\r\n          <TabGroup\r\n            handleShowModeChange={(m) => handleShowModeChange(m, true)}\r\n            showMode={showMode}\r\n            desktop\r\n          />\r\n          <SwitcherButtons\r\n            data={\r\n              showMode === 'new'\r\n                ? switcherButtonsDataNew\r\n                : switcherButtonsDataTop\r\n            }\r\n            onChange={onDesktopSwitcherChange}\r\n            currentValue={drawerMode.mode}\r\n            inline\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <BottomDrawerMargin isOpen={isOpen} setOpen={setOpen}>\r\n        <Typography className={classes.drawerTitleText}>\r\n          Сначала показывать\r\n        </Typography>\r\n        <TabGroup\r\n          handleShowModeChange={handleShowModeChange}\r\n          showMode={showMode}\r\n        />\r\n\r\n        {/** Block for 'new' showMode */}\r\n        {showMode === 'new' && (\r\n          <>\r\n            <Typography\r\n              className={classes.drawerTitleText}\r\n              style={{ marginTop: 16 }}\r\n            >\r\n              Порог рейтинга\r\n            </Typography>\r\n            <SwitcherButtons\r\n              data={switcherButtonsDataNew}\r\n              onChange={onChange}\r\n              currentValue={drawerMode.mode}\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {/** Block for 'top' showMode */}\r\n        {showMode === 'top' && (\r\n          <>\r\n            <Typography\r\n              className={classes.drawerTitleText}\r\n              style={{ marginTop: 16 }}\r\n            >\r\n              Период\r\n            </Typography>\r\n            <SwitcherButtons\r\n              data={switcherButtonsDataTop}\r\n              onChange={onChange}\r\n              currentValue={drawerMode.mode}\r\n            />\r\n          </>\r\n        )}\r\n        <Button\r\n          color=\"primary\"\r\n          disableElevation\r\n          className={classes.applyButton}\r\n          fullWidth\r\n          variant=\"contained\"\r\n          onClick={handleApplyClick}\r\n        >\r\n          Применить\r\n        </Button>\r\n      </BottomDrawerMargin>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default React.memo(Switcher)\r\n","import * as React from 'react'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport { GridListTile } from '@material-ui/core'\nimport {\n  ADVERTS_BLOCK_HEIGHT,\n  ADVERTS_BLOCK_MAX_WIDTH,\n} from 'src/config/constants'\n\nconst useStyles = makeStyles((theme) => ({\n  skeleton: {\n    backgroundColor: theme.palette.action.hover,\n    borderRadius: 8,\n  },\n}))\n\nconst AdvertsBlockSkeleton = () => {\n  const classes = useStyles()\n\n  return (\n    <>\n      {[...Array(3)].map((_, i) => (\n        <GridListTile\n          key={i}\n          style={{\n            padding: '2px 2px 2px 16px',\n            width: '83.3333%',\n            maxWidth: ADVERTS_BLOCK_MAX_WIDTH,\n          }}\n        >\n          <Skeleton\n            variant=\"rect\"\n            className={classes.skeleton}\n            key={i}\n            height={ADVERTS_BLOCK_HEIGHT}\n          />\n        </GridListTile>\n      ))}\n    </>\n  )\n}\n\nexport default React.memo(AdvertsBlockSkeleton)\n","import React, { useEffect } from 'react'\nimport {\n  Typography,\n  ButtonBase,\n  GridList,\n  GridListTile,\n  Fade,\n  useTheme,\n} from '@material-ui/core'\nimport { darken, fade, lighten, makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'src/hooks'\nimport { getAdverts } from 'src/store/actions/home'\nimport { useDispatch } from 'react-redux'\nimport AdvertsBlockSkeleton from '../../components/skeletons/AdvertsBlock'\nimport isMobile from 'is-mobile'\nimport {\n  ADVERTS_BLOCK_HEIGHT,\n  ADVERTS_BLOCK_MAX_WIDTH,\n  MIN_WIDTH,\n} from 'src/config/constants'\nimport isDarkTheme from 'src/utils/isDarkTheme'\nimport { Link } from 'react-router-dom'\nimport { Icon28FireCircleFillRed } from '@vkontakte/icons'\nimport { Icon24ChevronCompactRight } from '@vkontakte/icons'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    flexDirection: 'column',\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(1.5),\n    padding: theme.spacing(1.5, 0),\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      display: 'none',\n    },\n  },\n  header: {\n    fontSize: 13,\n    color: theme.palette.text.hint,\n    textTransform: 'uppercase',\n    fontWeight: 500,\n    lineHeight: 'normal',\n    fontFamily: 'Google Sans',\n    marginBottom: theme.spacing(1),\n    padding: theme.spacing(0, 2),\n  },\n  buttonsHolder: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: 'translateZ(0)',\n    overflowX: 'auto',\n    overflowY: 'hidden',\n    marginRight: theme.spacing(2),\n    width: '100%',\n    margin: '0 !important',\n    // Do not change the scrollbar on mobile due to design flaws\n    // If the -webkit-scrollbar is empty, any other scrollbar style will not be applied.\n    '&::-webkit-scrollbar': !isMobile() && {\n      background: isDarkTheme(theme)\n        ? lighten(theme.palette.background.default, 0.03)\n        : theme.palette.background.paper,\n      border: '1px solid ' + darken(theme.palette.background.paper, 0.05),\n      borderRadius: 4,\n      height: 12,\n    },\n    '&::-webkit-scrollbar-thumb': {\n      minHeight: 12,\n      borderRadius: 4,\n      background: isDarkTheme(theme)\n        ? lighten(theme.palette.background.paper, 0.08)\n        : darken(theme.palette.background.paper, 0.08),\n      transition: '0.1s',\n      '&:hover': {\n        background: isDarkTheme(theme)\n          ? lighten(theme.palette.background.paper, 0.1)\n          : darken(theme.palette.background.paper, 0.1),\n      },\n      '&:active': {\n        background: isDarkTheme(theme)\n          ? lighten(theme.palette.background.paper, 0.2)\n          : darken(theme.palette.background.paper, 0.2),\n      },\n    },\n  },\n  button: {\n    height: '100%',\n    width: '100%',\n    borderRadius: 8,\n    flexDirection: 'column',\n    padding: theme.spacing(0, 1.5),\n    alignItems: 'start',\n    backgroundPosition: 'center',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n  },\n  title: {\n    fontFamily: 'Google Sans',\n    fontSize: 18,\n    fontWeight: 800,\n    textAlign: 'initial',\n    display: '-webkit-box',\n    '-webkit-line-clamp': 2,\n    '-webkit-box-orient': 'vertical',\n    overflow: 'hidden',\n    color: theme.palette.getContrastText(theme.palette.common.black),\n  },\n  label: {\n    padding: '2px 6px',\n    background: fade(theme.palette.common.white, 0.9),\n    fontFamily: 'Google Sans',\n    fontSize: 14,\n    fontWeight: 800,\n    borderRadius: 8,\n    marginTop: theme.spacing(1),\n    color: theme.palette.getContrastText(theme.palette.common.white),\n  },\n  tile: {\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n    '-webkit-tap-highlight-color': 'transparent !important',\n    maxWidth: ADVERTS_BLOCK_MAX_WIDTH,\n    margin: theme.spacing(0, 0, 0, 2),\n  },\n  tileMegaprojects: {\n    textDecoration: 'none',\n    color: theme.palette.text.primary,\n    '-webkit-tap-highlight-color': 'transparent !important',\n    width: 'auto !important',\n    padding: '2px ' + theme.spacing(2) + 'px !important',\n  },\n  buttonMegaprojects: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    height: '100%',\n    background: theme.palette.background.default + ' !important',\n    boxShadow:\n      '0px 1px 5px -1px rgb(0 0 0 / 5%), 0px 5px 8px 0px rgb(0 0 0 / 2%)',\n    flexDirection: 'column',\n    borderRadius: 8,\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n    fontSize: 15,\n    padding: theme.spacing(0, 2),\n  },\n  iconMegaprojects: {\n    marginBottom: theme.spacing(1.5),\n  },\n  iconRightMegaprojects: {\n    marginLeft: theme.spacing(0.5),\n    marginTop: 2,\n  },\n  tileTileMegaprojects: {\n    overflow: 'visible',\n  },\n}))\n\nconst AdvertsBlock = () => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const dispatch = useDispatch()\n  const isHidden = useSelector(\n    (store) => store.settings.interfaceFeed.hideMegaposts\n  )\n  const data = useSelector((store) => store.home.adverts.data)\n  const fetched = useSelector((store) => store.home.adverts.fetched)\n  const error = useSelector((store) => store.home.adverts.error)\n  const getButtonStyles = (imageUrl: string) => ({\n    backgroundImage: `linear-gradient(to right, ${fade(\n      theme.palette.common.black,\n      0.7\n    )}, ${fade(theme.palette.common.black, 0.5)}), url(${imageUrl})`,\n  })\n\n  if (isHidden) return null\n\n  useEffect(() => {\n    !data && dispatch(getAdverts())\n  }, [dispatch, data])\n\n  if (error) return null\n\n  if (fetched && data.length === 0) return null\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.header}>Мегапосты</div>\n      <GridList\n        cellHeight={ADVERTS_BLOCK_HEIGHT}\n        className={classes.buttonsHolder}\n        cols={1.2}\n      >\n        {fetched &&\n          data.map((e, i) => (\n            <GridListTile\n              className={classes.tile}\n              component={'a'}\n              href={e.linkUrl}\n              key={i}\n            >\n              <Fade in>\n                <ButtonBase\n                  className={classes.button}\n                  style={getButtonStyles(e.imageUrl)}\n                >\n                  <Typography className={classes.title}>{e.title}</Typography>\n                  <Typography className={classes.label}>{e.label}</Typography>\n                </ButtonBase>\n              </Fade>\n            </GridListTile>\n          ))}\n        {!fetched && <AdvertsBlockSkeleton />}\n        <GridListTile\n          to={'/megaprojects/p/1'}\n          className={classes.tileMegaprojects}\n          component={Link}\n          classes={{\n            tile: classes.tileTileMegaprojects,\n          }}\n        >\n          <ButtonBase className={classes.buttonMegaprojects}>\n            <Icon28FireCircleFillRed\n              width={48}\n              height={48}\n              className={classes.iconMegaprojects}\n            />\n            <span style={{ display: 'flex', alignItems: 'center' }}>\n              Мегапроекты\n              <Icon24ChevronCompactRight\n                width={18}\n                height={22}\n                className={classes.iconRightMegaprojects}\n              />\n            </span>\n          </ButtonBase>\n        </GridListTile>\n      </GridList>\n    </div>\n  )\n}\n\nexport default React.memo(AdvertsBlock)\n","import * as React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation, useParams } from 'react-router-dom'\r\nimport { List } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport PostSkeleton from 'src/components/skeletons/PostItem'\r\nimport PostItem from 'src/components/blocks/PostItem'\r\nimport Pagination from 'src/components/blocks/Pagination'\r\nimport ErrorComponent from 'src/components/blocks/Error'\r\nimport NewsBlock from 'src/pages/Home/NewsBlock'\r\nimport {\r\n  APP_BAR_HEIGHT,\r\n  DEFAULT_POST_ITEM_HEIGHT,\r\n  FLOWS,\r\n  Mode,\r\n  RATING_MODES as modes,\r\n  RATING_MODES,\r\n} from 'src/config/constants'\r\nimport Switcher from './Switcher'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getPosts, setPostItemSize } from 'src/store/actions/home'\r\nimport { useSelector } from 'src/hooks'\r\nimport getCachedMode from 'src/utils/getCachedMode'\r\nimport AdvertsBlock from './AdvertsBlock'\r\nimport MainBlock from 'src/components/blocks/MainBlock'\r\nimport Sidebar from 'src/pages/Home/Sidebar'\r\nimport useLastMode from 'src/utils/useLastMode'\r\nimport FlowsBar from 'src/components/blocks/FlowsBar'\r\nimport useQuery from 'src/hooks/useQuery'\r\nimport NotFound from '../NotFound'\r\nimport FlowAlias from 'src/interfaces/FlowAlias'\r\nimport { FlowObject } from 'src/interfaces'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    maxWidth: '100%',\r\n    width: '100%',\r\n    marginTop: APP_BAR_HEIGHT + 1,\r\n  },\r\n  flexContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-start',\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  list: {\r\n    background: theme.palette.background.default,\r\n    padding: 0,\r\n    width: '100%',\r\n  },\r\n}))\r\n\r\ntype HomePathParams = { page: string }\r\n\r\nconst isServerUpdateError = (message: string) => message === 'Network Error'\r\n\r\nconst Home = () => {\r\n  const params = useParams<HomePathParams>()\r\n  const query = useQuery()\r\n  const flow = (query.get('flow') || 'all') as FlowAlias\r\n\r\n  /** Show 404 page when 'flow' value is outside of flows aliases */\r\n  if (!FLOWS.some((e) => e.alias === flow)) {\r\n    return <NotFound />\r\n  }\r\n\r\n  const lastSelectedMode = getCachedMode()\r\n  const paramsMode = useLastMode()\r\n  const [mode, setMode] = useState<Mode>(paramsMode || lastSelectedMode.mode)\r\n  const currentPage = Number(params.page)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const postItemsSizesMap = useSelector((store) => store.home.sizesMap)\r\n  const lastAllFlowsModeName = useSelector((state) => state.home.mode)\r\n  const lastAllFlowsMode = RATING_MODES.find(\r\n    (e) => e.mode === lastAllFlowsModeName\r\n  )\r\n  const isFetched = useSelector((state) =>\r\n    flow === 'all' ? state.home.fetched : state.home.flows.fetched\r\n  )\r\n  const isFetching = useSelector((state) =>\r\n    flow === 'all' ? state.home.fetching : state.home.flows.fetching\r\n  )\r\n  const fetchError = useSelector((state) =>\r\n    flow === 'all' ? state.home.error : state.home.flows.error\r\n  )\r\n  const posts = useSelector((state) =>\r\n    flow === 'all'\r\n      ? state.home.data[mode].pages[currentPage]\r\n      : state.home.flows.data[flow][mode].pages[currentPage]\r\n  )\r\n  const pagesCount = useSelector((state) =>\r\n    flow === 'all'\r\n      ? state.home.data[mode].pagesCount\r\n      : state.home.flows.data[flow][mode].pagesCount\r\n  )\r\n  const fetchErrorMessage = isServerUpdateError(fetchError?.error?.message)\r\n    ? 'Идут технические работы'\r\n    : fetchError?.error?.message\r\n  const fetchErrorCode = isServerUpdateError(fetchError?.error?.message)\r\n    ? 503\r\n    : fetchError?.error?.code\r\n\r\n  const PaginationComponent = () =>\r\n    pagesCount ? (\r\n      <Pagination\r\n        disabled={!posts}\r\n        handleChange={handlePagination}\r\n        steps={pagesCount}\r\n        currentStep={currentPage}\r\n      />\r\n    ) : null\r\n\r\n  const setPostItemSizeWrapper = (id: number | string, size: number) => {\r\n    !postItemsSizesMap[id] && dispatch(setPostItemSize(id, size))\r\n  }\r\n  const getPostItemSize = (id: number | string) => {\r\n    return postItemsSizesMap[id] || DEFAULT_POST_ITEM_HEIGHT\r\n  }\r\n  const postsComponents =\r\n    posts &&\r\n    posts.articleIds.map((id, i) => (\r\n      <PostItem\r\n        key={i}\r\n        setPostItemSize={setPostItemSizeWrapper}\r\n        getPostItemSize={getPostItemSize}\r\n        post={posts.articleRefs[id]}\r\n      />\r\n    ))\r\n\r\n  const handlePagination = (_, i) => {\r\n    if (i === currentPage) return\r\n    history.push(\r\n      modes.find((e) => e.mode === mode).to + '/p/' + i + '?' + query.toString()\r\n    )\r\n  }\r\n\r\n  const handleSwitcher = React.useCallback(\r\n    ({ mode: newMode, to }) => {\r\n      localStorage.setItem('mode', newMode)\r\n      setMode(newMode)\r\n      history.push(to + '/p/1?' + query.toString())\r\n    },\r\n    [flow, location.pathname, location.search]\r\n  )\r\n\r\n  const onFlowsBarLinkClick = (e: FlowObject) => {\r\n    if (e.alias === 'all') {\r\n      history.push(lastAllFlowsMode.to + '/p/1')\r\n    } else {\r\n      history.push('/all/p/1?flow=' + e.alias)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (paramsMode !== mode) setMode(paramsMode)\r\n    dispatch(getPosts({ mode, page: currentPage, flow }))\r\n  }, [paramsMode, mode, flow, currentPage, location.pathname, location.search])\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FlowsBar onClick={onFlowsBarLinkClick} flow={flow} />\r\n      {currentPage === 1 && <AdvertsBlock />}\r\n      <Switcher\r\n        flow={flow}\r\n        setMode={setMode}\r\n        mode={mode}\r\n        handleClick={handleSwitcher}\r\n      />\r\n\r\n      <div className={classes.flexContainer}>\r\n        <MainBlock>\r\n          <List className={classes.list}>\r\n            {isFetching &&\r\n              [...new Array(4)].map((_, i) => <PostSkeleton key={i} />)}\r\n            {isFetched && !fetchError && posts && (\r\n              <>\r\n                {postsComponents[0]}\r\n                {currentPage === 1 && <NewsBlock />}\r\n                {postsComponents.slice(1)}\r\n              </>\r\n            )}\r\n            {fetchError && (\r\n              <ErrorComponent\r\n                code={fetchErrorCode}\r\n                message={fetchErrorMessage}\r\n              />\r\n            )}\r\n            <PaginationComponent />\r\n          </List>\r\n        </MainBlock>\r\n        <Sidebar />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default React.memo(Home)\r\n","import { useLocation } from 'react-router-dom'\r\nimport { Mode, RATING_MODES } from 'src/config/constants'\r\n\r\nexport default (): Mode => {\r\n  const location = useLocation()\r\n  const mode = RATING_MODES.find((e) => location.pathname.startsWith(e.to))\r\n  return mode.mode || 'daily'\r\n}\r\n","// import { useEffect } from 'react'\n// import { useHistory } from 'react-router'\n// import { useSelector } from 'src/hooks'\n\nconst Me = () => {\n  // const userData = useSelector((state) => state.user.profile.data)\n  // const history = useHistory()\n\n  return null\n}\n\nexport default Me\n","import React, { useEffect } from 'react'\r\nimport { useSelector } from 'src/hooks'\r\nimport PostItem from 'src/components/blocks/PostItem'\r\nimport Pagination from 'src/components/blocks/Pagination'\r\nimport { useParams, useHistory } from 'react-router'\r\nimport { useDispatch } from 'react-redux'\r\nimport { getProfileCard, getProfileArticles } from 'src/store/actions/profile'\r\nimport { List, makeStyles, useTheme } from '@material-ui/core'\r\nimport PostSkeleton from 'src/components/skeletons/PostItem'\r\nimport ErrorComponent from 'src/components/blocks/Error'\r\nimport OutsidePage from 'src/components/blocks/OutsidePage'\r\nimport { UserParams } from '..'\r\n\r\ninterface ArticlesPathParams {\r\n  page: string\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    background: theme.palette.background.default,\r\n    padding: 0,\r\n    width: '100%',\r\n  },\r\n}))\r\n\r\nconst UserArticles = () => {\r\n  const params = useParams() as ArticlesPathParams\r\n  const currentPage = Number(params.page)\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n  const theme = useTheme()\r\n  const dispatch = useDispatch()\r\n  const isProfileFetched = useSelector(\r\n    (state) => state.profile.profile.card.fetched\r\n  )\r\n  const isFetched = useSelector((state) => state.profile.articles.fetched)\r\n  const isFetching = useSelector((state) => state.profile.articles.fetching)\r\n  const fetchError = useSelector((state) => state.profile.articles.error)\r\n  const data = useSelector(\r\n    (state) => state.profile.articles.data.pages[currentPage]\r\n  )\r\n  const profile = useSelector((state) => state.profile.profile.card.data)\r\n  const pagesCount = useSelector(\r\n    (state) => state.profile.articles.data.pagesCount\r\n  )\r\n  const { login } = useParams<UserParams>()\r\n\r\n  const PaginationComponent = () =>\r\n    pagesCount ? (\r\n      <Pagination\r\n        disabled={isFetching}\r\n        handleChange={handlePagination}\r\n        steps={pagesCount}\r\n        currentStep={currentPage}\r\n      />\r\n    ) : null\r\n\r\n  const handlePagination = (_: never, i: number) => {\r\n    if (i === currentPage) return\r\n    else history.replace(`/user/${login}/articles/${i}`)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isProfileFetched) {\r\n      dispatch(getProfileCard(login))\r\n    } else {\r\n      dispatch(getProfileArticles(login, currentPage))\r\n    }\r\n  }, [profile, currentPage, dispatch])\r\n\r\n  return (\r\n    <OutsidePage\r\n      headerText={'Публикации'}\r\n      hidePositionBar\r\n      backgroundColor={theme.palette.background.paper}\r\n      shrinkedBackgroundColor={theme.palette.background.paper}\r\n      shrinkedHeaderText={'Публикации'}\r\n    >\r\n      <List className={classes.root}>\r\n        {isFetching &&\r\n          [...new Array(4)].map((_, i) => <PostSkeleton key={i} />)}\r\n        {isFetched &&\r\n          !fetchError &&\r\n          data &&\r\n          data.articleIds.map((id: number) => (\r\n            <PostItem post={data.articleRefs[id]} key={id} />\r\n          ))}\r\n        {fetchError && <ErrorComponent message={fetchError.error.message} />}\r\n        <PaginationComponent />\r\n      </List>\r\n    </OutsidePage>\r\n  )\r\n}\r\n\r\nexport default React.memo(UserArticles)\r\n","import React from 'react'\r\n\r\nconst Comments = () => {\r\n  return <div></div>\r\n}\r\n\r\nexport default React.memo(Comments)\r\n","import React from 'react'\r\n\r\nconst FavArticles = () => {\r\n  return <div></div>\r\n}\r\n\r\nexport default React.memo(FavArticles)\r\n","import React from 'react'\r\n\r\nconst FavComments = () => {\r\n  return <div></div>\r\n}\r\n\r\nexport default React.memo(FavComments)\r\n","export const HUB_PREFIX = 'HUB_'\nexport const GET_PROFILE = HUB_PREFIX + 'GET_PROFILE'\nexport const GET_NEWS = HUB_PREFIX + 'GET_NEWS'\nexport const GET_POSTS = HUB_PREFIX + 'GET_POSTS'\nexport const GET_AUTHORS = HUB_PREFIX + 'GET_AUTHORS'\nexport const GET_COMPANIES = HUB_PREFIX + 'GET_COMPANIES'\n\nexport const typeCorrespondings = {\n  [GET_PROFILE]: 'profile',\n  [GET_NEWS]: 'news',\n  [GET_POSTS]: 'posts',\n  [GET_AUTHORS]: 'authors',\n  [GET_COMPANIES]: 'companies',\n}\n","import makeRequest from './makeRequest'\nimport { AuthorizedRequestParams, HubExtended } from '../interfaces'\n\nexport default async (alias: string, authData?: AuthorizedRequestParams) =>\n  await makeRequest<HubExtended>({\n    path: 'hubs/' + alias + '/profile',\n    version: 2,\n    authData,\n  })\n","import React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport useSelector from 'src/hooks/useSelector'\nimport fadedLinearGradient from 'src/utils/fadedLinearGradient'\nimport {\n  Avatar,\n  ButtonBase,\n  darken,\n  lighten,\n  List,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport Switcher from 'src/pages/Home/Switcher'\nimport { Mode, RATING_MODES as modes } from 'src/config/constants'\nimport ErrorComponent from 'src/components/blocks/Error'\nimport Pagination from 'src/components/blocks/Pagination'\nimport PostItem from 'src/components/blocks/PostItem'\nimport PostSkeleton from 'src/components/skeletons/PostItem'\nimport { FetchingState } from 'src/interfaces'\nimport NewsBlock from 'src/pages/Home/NewsBlock'\nimport { useHistory, useParams } from 'react-router'\nimport { HubParams } from '..'\nimport { getHubPosts } from 'src/store/actions/hub'\nimport { useDispatch } from 'react-redux'\n\nimport { Icon28Users3Outline } from '@vkontakte/icons'\nimport { Icon24WorkOutline } from '@vkontakte/icons'\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\nimport isDarkTheme from 'src/utils/isDarkTheme'\nimport SubscribeButton from 'src/components/blocks/SubscribeButton'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n  },\n  topBlock: {\n    background: fadedLinearGradient(theme),\n    display: 'flex',\n    flexDirection: 'column',\n    padding: theme.spacing(2),\n    paddingBottom: 0,\n  },\n  mainBlock: {\n    backgroundColor: theme.palette.background.default,\n  },\n}))\n\nconst useInformationStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    marginBottom: theme.spacing(2),\n  },\n  avatar: {\n    width: 64,\n    height: 64,\n    marginRight: theme.spacing(2),\n  },\n  rating: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  caption: {\n    fontSize: 12,\n    color: theme.palette.text.hint,\n  },\n  ratingText: {\n    fontSize: 18,\n    color: theme.palette.primary.main,\n    fontWeight: 500,\n  },\n  avatarAndRating: {\n    flexGrow: 1,\n    display: 'flex',\n  },\n}))\n\nconst useDescriptionStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom: theme.spacing(2),\n  },\n  title: {\n    fontFamily: 'Google Sans',\n    fontSize: 24,\n    fontWeight: 700,\n    marginBottom: theme.spacing(0.5),\n  },\n  description: {\n    fontSize: 14,\n  },\n}))\n\nconst useLinksStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    marginBottom: theme.spacing(2),\n  },\n  button: {\n    boxShadow:\n      '0px 1px 5px -1px rgb(0 0 0 / 7%), 0px 5px 8px 0px rgb(0 0 0 / 4%)',\n    borderRadius: 8,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    textAlign: 'left',\n    background: theme.palette.background.paper,\n    '&:nth-child(1)': {\n      marginRight: theme.spacing(1),\n    },\n    '&:nth-child(2)': {\n      marginLeft: theme.spacing(1),\n    },\n  },\n  link: {\n    padding: theme.spacing(1, 1.5),\n    color: theme.palette.text.primary,\n    textDecoration: 'none',\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  text: {\n    fontSize: 16,\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n    flexGrow: 1,\n    marginLeft: theme.spacing(1),\n  },\n}))\n\nconst usePostsStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    paddingBottom: 0,\n  },\n})\n\nconst Information = () => {\n  const profile = useSelector((state) => state.hub.profile.data)\n  const [isSubscribed, setSubscribed] = useState(\n    profile?.relatedData?.isSubscribed || false\n  )\n  const classes = useInformationStyles()\n  const theme = useTheme()\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.avatarAndRating}>\n        <Avatar\n          alt={profile.titleHtml}\n          src={profile.imageUrl}\n          className={classes.avatar}\n        />\n        <div className={classes.rating}>\n          <Typography className={classes.ratingText}>\n            {profile.statistics.rating}\n          </Typography>\n          <Typography className={classes.caption}>Рейтинг</Typography>\n        </div>\n      </div>\n      <SubscribeButton\n        isSubscribed={isSubscribed}\n        setSubscribed={setSubscribed}\n        backgroundColor={\n          theme.palette.background[isDarkTheme(theme) ? 'default' : 'paper']\n        }\n      />\n    </div>\n  )\n}\n\nconst Description = () => {\n  const profile = useSelector((state) => state.hub.profile.data)\n  const classes = useDescriptionStyles()\n\n  return (\n    <div className={classes.root}>\n      <Typography className={classes.title}>{profile.titleHtml}</Typography>\n      <Typography className={classes.description}>\n        {profile.descriptionHtml}\n      </Typography>\n    </div>\n  )\n}\n\nconst Links = () => {\n  const { alias } = useParams<HubParams>()\n  const classes = useLinksStyles()\n\n  return (\n    <div className={classes.root}>\n      <ButtonBase className={classes.button}>\n        <LinkToOutsidePage\n          className={classes.link}\n          to={'/hub/' + alias + '/authors/p/1'}\n        >\n          <Icon28Users3Outline />\n          <Typography className={classes.text}>Авторы</Typography>\n        </LinkToOutsidePage>\n      </ButtonBase>\n      <ButtonBase className={classes.button}>\n        <LinkToOutsidePage\n          className={classes.link}\n          to={'/hub/' + alias + '/companies/p/1'}\n        >\n          <Icon24WorkOutline />\n          <Typography className={classes.text}>Компании</Typography>\n        </LinkToOutsidePage>\n      </ButtonBase>\n    </div>\n  )\n}\n\nconst Posts = ({ mode }) => {\n  const classes = usePostsStyles()\n  const { alias } = useParams<HubParams>()\n  const data = useSelector((state) => state.hub.posts.data)\n  const fetchState = useSelector((state) => state.hub.posts.state)\n  const fetchError = useSelector((state) => state.hub.posts.fetchError)\n  const pagesCount = useSelector((state) => state.hub.posts.data?.pagesCount)\n  const params = useParams<{ page: string }>()\n  const currentPage = Number(params.page)\n  const history = useHistory()\n  const postsComponents =\n    data &&\n    data.articleIds.map((id, i) => (\n      <PostItem key={id} post={data.articleRefs[id]} />\n    ))\n  const PaginationComponent = () =>\n    pagesCount ? (\n      <Pagination\n        disabled={!data}\n        handleChange={handlePagination}\n        steps={pagesCount}\n        currentStep={currentPage}\n      />\n    ) : null\n\n  const handlePagination = (_, i) => {\n    const currentModeObject = modes.find((e) => e.mode === mode)\n    if (i === currentPage) return\n    if (currentModeObject.mode === 'all') {\n      history.replace('/hub/' + alias + '/p/' + i)\n    } else {\n      history.replace('/hub/' + alias + currentModeObject.to + '/p/' + i)\n    }\n  }\n\n  return (\n    <List className={classes.root}>\n      {fetchState === FetchingState.Fetching &&\n        [...new Array(4)].map((_, i) => <PostSkeleton key={i} />)}\n      {fetchState === FetchingState.Fetched && data && (\n        <>\n          {postsComponents[0]}\n          {currentPage === 1 && <NewsBlock hubAlias={alias} />}\n          {postsComponents.slice(1)}\n        </>\n      )}\n      {fetchError && <ErrorComponent message=\"Не удалось получить статьи\" />}\n      <PaginationComponent />\n    </List>\n  )\n}\n\nconst Profile = () => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const { alias } = useParams<HubParams>()\n  const [mode, setMode] = useState<Mode>('all')\n  const history = useHistory()\n  const params = useParams<{ page: string }>()\n  const currentPage = Number(params.page)\n\n  const handleSwitcher = React.useCallback(\n    ({ mode: newMode, to }) => {\n      setMode(newMode)\n      if (newMode === 'all') {\n        history.replace('/hub/' + alias + '/p/1')\n      } else {\n        history.replace('/hub/' + alias + to + '/p/1')\n      }\n    },\n    [history]\n  )\n\n  useEffect(() => {\n    dispatch(getHubPosts(mode, currentPage, alias))\n  }, [mode, currentPage, alias])\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.topBlock}>\n        <Information />\n        <Description />\n        <Links />\n      </div>\n      <div className={classes.mainBlock}>\n        <Switcher mode={mode} setMode={setMode} handleClick={handleSwitcher} />\n        <Posts mode={mode} />\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(Profile)\n","import {\n  GET_AUTHORS,\n  GET_COMPANIES,\n  GET_NEWS,\n  GET_POSTS,\n  GET_PROFILE,\n} from '../reducers/hub/types'\nimport getHubProfile from 'src/api/getHub'\nimport getHubAuthorsRequest from 'src/api/getHubAuthors'\nimport getHubCompaniesRequest from 'src/api/getHubCompanies'\nimport getHubPostsRequest from 'src/api/getHubPosts'\nimport getNewsPromo from 'src/api/getNewsPromo'\nimport { Mode } from 'src/config/constants'\n\n/**\n * Gets hub's profile data\n * @param alias Hub alias\n */\nexport const getHub = (alias: string) => async (dispatch) => {\n  const type = GET_PROFILE + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await getHubProfile(alias)\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error.message })\n  }\n}\n\n/**\n * Gets hub's news promo\n * @param alias Hub alias\n */\nexport const getHubNews = (alias: string) => async (dispatch) => {\n  const type = GET_NEWS + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await getNewsPromo({ hubAlias: alias })\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error.message })\n  }\n}\n\n/**\n * Gets hub's posts\n * @param mode Mode\n * @param page Page number\n * @param alias Hub alias\n */\nexport const getHubPosts = (mode: Mode, page: number, alias: string) => async (\n  dispatch\n) => {\n  const type = GET_POSTS + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await getHubPostsRequest({ mode, page, alias })\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error.message })\n  }\n}\n\n/**\n * Gets hub's authors\n */\nexport const getHubAuthors = ({\n  alias,\n  page,\n}: {\n  alias: string\n  page: number\n}) => async (dispatch) => {\n  const type = GET_AUTHORS + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await getHubAuthorsRequest({ alias, page })\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error.message })\n  }\n}\n\n/**\n * Gets hub's companies\n * @param alias Hub alias\n * @param page Page number\n */\nexport const getHubCompanies = (alias: string, page: number) => async (\n  dispatch\n) => {\n  const type = GET_COMPANIES + '_FETCH'\n\n  dispatch({ type })\n\n  try {\n    const data = await getHubCompaniesRequest({ alias, page })\n\n    dispatch({\n      type: type + '_FULFILLED',\n      payload: data,\n    })\n  } catch (error) {\n    dispatch({ type: type + '_REJECTED', payload: error.message })\n  }\n}\n","import React from 'react'\n\nconst HubProfile = () => {\n  return <div></div>\n}\n\nexport default HubProfile\n","import React, { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useParams } from 'react-router'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport { useSelector } from 'src/hooks'\nimport { getHub } from 'src/store/actions/hub'\nimport ErrorComponent from 'src/components/blocks/Error'\nimport { FetchingState } from 'src/interfaces'\nimport Profile from './pages/Profile'\nimport ProfileSkeleton from 'src/components/skeletons/HubProfile'\n\nexport interface HubParams {\n  alias: string\n  page?: string\n}\n\nconst Hub = () => {\n  const dispatch = useDispatch()\n  const { alias } = useParams<HubParams>()\n  const profile = useSelector((state) => state.hub.profile.data)\n  const profileFetchingState = useSelector((state) => state.hub.profile.state)\n  const profileFetchError = useSelector((state) => state.hub.profile.fetchError)\n\n  useEffect(() => {\n    if (profile?.alias !== alias) dispatch(getHub(alias))\n  }, [alias, profile, dispatch])\n\n  return (\n    <OutsidePage\n      headerText={profile ? profile.titleHtml : null}\n      shrinkedHeaderText={\n        profileFetchingState === FetchingState.Fetched\n          ? profile.titleHtml\n          : alias\n      }\n      hidePositionBar\n    >\n      {profileFetchingState === FetchingState.Error && (\n        <ErrorComponent message={profileFetchError} />\n      )}\n      {profileFetchingState === FetchingState.Fetched && <Profile />}\n      {profileFetchingState === FetchingState.Fetching && <ProfileSkeleton />}\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Hub)\n","import * as React from 'react'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport Grid from '@material-ui/core/Grid'\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\nimport { ListItem, ListItemAvatar, ListItemText } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    borderRadius: 0,\n  },\n  skeleton: {\n    backgroundColor: theme.palette.action.hover,\n    borderRadius: 4,\n  },\n  padding: {\n    padding: theme.spacing(2),\n  },\n  holder: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  link: {\n    marginLeft: theme.spacing(1),\n  },\n}))\n\nconst HubAuthorListItemSkeleton = () => {\n  const classes = useStyles()\n\n  return (\n    <ListItem dense button className={classes.root} alignItems=\"flex-start\">\n      <ListItemAvatar>\n        <Skeleton\n          variant=\"rect\"\n          width={40}\n          height={40}\n          style={{ borderRadius: 4 }}\n          className={classes.skeleton}\n        />\n      </ListItemAvatar>\n      <ListItemText\n        disableTypography\n        primary={\n          <Grid container style={{ marginTop: 4 }}>\n            <Skeleton\n              variant=\"rect\"\n              width=\"50%\"\n              height={12}\n              className={classes.skeleton}\n            />\n            <Skeleton\n              variant=\"rect\"\n              width=\"30%\"\n              height={12}\n              className={[classes.skeleton, classes.link].join(' ')}\n            />\n          </Grid>\n        }\n        secondary={\n          <>\n            <Skeleton\n              variant=\"rect\"\n              width=\"40%\"\n              height={12}\n              style={{ marginTop: 8 }}\n              className={classes.skeleton}\n            />\n            <Grid container style={{ marginTop: 12 }} alignItems=\"center\">\n              <Skeleton\n                variant=\"circle\"\n                width={16}\n                height={16}\n                style={{ borderRadius: '50%' }}\n                className={classes.skeleton}\n              />\n              <Skeleton\n                variant=\"rect\"\n                width={40}\n                height={12}\n                style={{ marginLeft: 12 }}\n                className={classes.skeleton}\n              />\n            </Grid>\n          </>\n        }\n      />\n    </ListItem>\n  )\n}\n\nexport default React.memo(HubAuthorListItemSkeleton)\n","import React, { useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useDispatch } from 'react-redux'\nimport { useHistory, useLocation, useParams } from 'react-router'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\nimport Pagination from 'src/components/blocks/Pagination'\nimport { useSelector } from 'src/hooks'\nimport { FetchingState, HubAuthor } from 'src/interfaces'\nimport { getHubAuthors } from 'src/store/actions/hub'\nimport { HubParams } from '..'\nimport ErrorComponent from 'src/components/blocks/Error'\nimport { List, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core'\nimport HubAuthorListItemSkeleton from 'src/components/skeletons/HubAuthorListItem'\nimport LinkToOutsidePage from 'src/components/blocks/LinkToOutsidePage'\nimport UserAvatar from 'src/components/blocks/UserAvatar'\nimport { Icon24Flash } from '@vkontakte/icons'\nimport formatNumber from 'src/utils/formatNumber'\nimport purple from '@material-ui/core/colors/purple'\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: getContrastPaperColor(theme),\n    paddingBottom: 0,\n    marginBottom: theme.spacing(2),\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}))\n\nconst useItemStyles = makeStyles((theme) => ({\n  root: {\n    '-webkit-tap-highlight-color': 'transparent !important',\n    textDecoration: 'none',\n  },\n  alias: {\n    color: theme.palette.primary.light,\n  },\n  avatar: {\n    borderRadius: 4,\n    background: 'transparent',\n  },\n  investHolder: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginTop: theme.spacing(0.5),\n  },\n  investIcon: {\n    color: theme.palette.type === 'dark' ? purple.A100 : purple.A400,\n  },\n  invest: {\n    marginLeft: theme.spacing(1),\n    marginTop: 1,\n    color: theme.palette.type === 'dark' ? purple[200] : purple.A700,\n  },\n}))\n\nconst Item = ({ data }: { data: HubAuthor }) => {\n  const classes = useItemStyles()\n  return (\n    <ListItem\n      dense\n      button\n      className={classes.root}\n      component={LinkToOutsidePage}\n      to={'/user/' + data.alias}\n      alignItems=\"flex-start\"\n    >\n      <ListItemAvatar>\n        <UserAvatar\n          src={data.avatarUrl}\n          alias={data.alias}\n          className={classes.avatar}\n        />\n      </ListItemAvatar>\n      <ListItemText\n        primaryTypographyProps={{ component: 'div' }}\n        secondaryTypographyProps={{ component: 'div' }}\n        primary={\n          <>\n            {data.fullname} <span className={classes.alias}>@{data.alias}</span>\n          </>\n        }\n        secondary={\n          <>\n            {data.speciality || 'Пользователь'}\n            <div className={classes.investHolder}>\n              <Icon24Flash className={classes.investIcon} />\n              <span className={classes.invest}>\n                {formatNumber(data.invest)}\n              </span>\n            </div>\n          </>\n        }\n      />\n    </ListItem>\n  )\n}\n\nconst Authors = () => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n  const { alias, page } = useParams<HubParams>()\n  const fetchState = useSelector((state) => state.hub.authors.state)\n  const fetchError = useSelector((state) => state.hub.authors.fetchError)\n  const data = useSelector((state) => state.hub.authors.data)\n  const pagesCount = useSelector((state) => state.hub.authors.data?.pagesCount)\n  const currentPage = Number(page)\n  const history = useHistory()\n  const location = useLocation()\n\n  const handlePagination = (_, i) => {\n    if (i === currentPage) return\n    history.replace('/hub/' + alias + '/authors/p/' + i, {\n      from: location.pathname,\n    })\n  }\n\n  useEffect(() => {\n    dispatch(getHubAuthors({ alias, page: currentPage }))\n  }, [alias, currentPage])\n\n  return (\n    <OutsidePage headerText=\"Авторы\" hidePositionBar disableShrinking>\n      <List className={classes.root}>\n        {fetchState === FetchingState.Fetching &&\n          [...new Array(12)].map((_, i) => (\n            <HubAuthorListItemSkeleton key={i} />\n          ))}\n        {fetchState === FetchingState.Fetched &&\n          data.authorIds.map((e, i) => (\n            <Item key={i} data={data.authorRefs[e]} />\n          ))}\n        {fetchError && <ErrorComponent message=\"Не удалось получить авторов\" />}\n      </List>\n      {pagesCount && (\n        <Pagination\n          disabled={!data}\n          handleChange={handlePagination}\n          steps={pagesCount}\n          currentStep={currentPage}\n        />\n      )}\n    </OutsidePage>\n  )\n}\n\nexport default React.memo(Authors)\n","import React from 'react'\nimport OutsidePage from 'src/components/blocks/OutsidePage'\n\nconst Companies = () => {\n  return (\n    <OutsidePage\n      headerText=\"Компании\"\n      hidePositionBar\n      disableShrinking\n    ></OutsidePage>\n  )\n}\n\nexport default React.memo(Companies)\n","/**\r\n * If you add a Settings subpage, add its alias to constants.tsx\r\n * in `makeNavigationTabs`, so SideNavigationDrawer will match a new page\r\n */\r\n\r\nimport React, { MemoExoticComponent } from 'react'\r\nimport Post from 'src/pages/Post'\r\nimport Settings from 'src/pages/Settings/index'\r\nimport SettingsAppearance from 'src/pages/Settings/Appearance'\r\nimport SettingsBlacklist from 'src/pages/Settings/Blacklist'\r\nimport SettingsNewTheme from 'src/pages/Settings/NewTheme'\r\nimport SettingsInterface from 'src/pages/Settings/Interface'\r\nimport SettingsReader from 'src/pages/Settings/Reader'\r\nimport SettingsPrivacy from 'src/pages/Settings/Privacy'\r\nimport SettingsLanguage from 'src/pages/Settings/Language'\r\nimport Search from 'src/pages/Search'\r\nimport News from 'src/pages/News'\r\nimport NotFound from 'src/pages/NotFound'\r\nimport Thread from 'src/pages/Comments/Thread'\r\nimport CommentsPage from 'src/pages/Comments'\r\nimport getCachedMode from 'src/utils/getCachedMode'\r\nimport AboutPage from 'src/pages/AboutPage'\r\nimport Hubs from 'src/pages/Hubs/index'\r\nimport User from 'src/pages/User/index'\r\nimport { Redirect } from 'react-router'\r\nimport Login from 'src/pages/Login'\r\nimport { Theme } from '@material-ui/core'\r\nimport Services from 'src/pages/Services'\r\nimport Home from 'src/pages/Home/index'\r\nimport Me from 'src/pages/Me'\r\nimport UserArticles from 'src/pages/User/pages/Articles'\r\nimport UserComments from 'src/pages/User/pages/Comments'\r\nimport UserFavoriteArticles from 'src/pages/User/pages/FavArticles'\r\nimport UserFavoriteComments from 'src/pages/User/pages/FavComments'\r\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\r\nimport Hub from 'src/pages/Hub/index'\r\nimport HubAuthors from 'src/pages/Hub/pages/Authors'\r\nimport HubCompanies from 'src/pages/Hub/pages/Companies'\r\n\r\nexport interface Route {\r\n  path: string | string[]\r\n  component: MemoExoticComponent<() => React.ReactElement> | React.ReactElement\r\n  title?: string\r\n  shouldShowAppBar?: boolean\r\n  appBarColor?: (theme: Theme) => string\r\n  shouldAppBarChangeColors?: boolean\r\n  alias: string\r\n}\r\n\r\nexport const routes: Route[] = [\r\n  {\r\n    path: '/services',\r\n    component: <Services />,\r\n    title: 'Хабы',\r\n    shouldShowAppBar: true,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'services',\r\n  },\r\n  {\r\n    path: '/auth',\r\n    component: <Login />,\r\n    title: 'Авторизация',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'auth',\r\n  },\r\n  {\r\n    path: '/post/:id/comments/thread/:threadId',\r\n    component: <Thread />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'commentsThread',\r\n  },\r\n  {\r\n    path: '/post/:id/comments',\r\n    component: <CommentsPage />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'comments',\r\n  },\r\n  {\r\n    path: '/company/:alias/blog/:id/comments',\r\n    component: <CommentsPage />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'comments',\r\n  },\r\n  {\r\n    path: '/company/:alias/blog/:id',\r\n    component: <Post />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'post',\r\n  },\r\n  {\r\n    path: '/post/:id',\r\n    component: <Post />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'post',\r\n  },\r\n  {\r\n    path: '/settings/reader',\r\n    component: <SettingsReader />,\r\n    title: 'Параметры чтения',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsReader',\r\n  },\r\n  {\r\n    path: '/settings/interface',\r\n    component: <SettingsInterface />,\r\n    title: 'Настройки интерфейса',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsInterface',\r\n  },\r\n  {\r\n    path: '/settings/privacy',\r\n    component: <SettingsPrivacy />,\r\n    title: 'Приватность',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsPrivacy',\r\n  },\r\n  {\r\n    path: '/settings/language',\r\n    component: <SettingsLanguage />,\r\n    title: 'Настройки языка',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsLanguage',\r\n  },\r\n  {\r\n    path: '/settings/appearance/new-theme',\r\n    component: <SettingsNewTheme />,\r\n    title: 'Новая тема',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsNewTheme',\r\n  },\r\n  {\r\n    path: '/settings/appearance/edit-theme/:themeType',\r\n    component: <SettingsNewTheme isEditMode />,\r\n    title: 'Изменение темы',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsEditTheme',\r\n  },\r\n  {\r\n    path: '/settings/appearance',\r\n    component: <SettingsAppearance />,\r\n    title: 'Внешний вид',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsAppearance',\r\n  },\r\n  {\r\n    path: '/settings/blacklist',\r\n    component: <SettingsBlacklist />,\r\n    title: 'Чёрный список',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settingsBlacklist',\r\n  },\r\n  {\r\n    path: '/settings',\r\n    component: <Settings />,\r\n    title: 'Настройки',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => getContrastPaperColor(theme),\r\n    alias: 'settings',\r\n  },\r\n  {\r\n    path: '/habra-about',\r\n    component: <AboutPage />,\r\n    title: 'О проекте',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: true,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'habraAbout',\r\n  },\r\n  {\r\n    path: ['/search', '/search/p/:page'],\r\n    component: <Search />,\r\n    title: 'Поиск',\r\n    shouldShowAppBar: true,\r\n    shouldAppBarChangeColors: true,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'search',\r\n  },\r\n  {\r\n    path: '/hubs/p/:page',\r\n    component: <Hubs />,\r\n    title: 'Хабы',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'hubs',\r\n  },\r\n  {\r\n    path: '/hub/:alias/companies/p/:page',\r\n    component: <HubCompanies />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'hubCompanies',\r\n  },\r\n  {\r\n    path: '/hub/:alias/authors/p/:page',\r\n    component: <HubAuthors />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'hubAuthors',\r\n  },\r\n  {\r\n    path: [\r\n      '/hub/:alias/p/:page',\r\n      '/hub/:alias/top0/p/:page',\r\n      '/hub/:alias/top10/p/:page',\r\n      '/hub/:alias/top25/p/:page',\r\n      '/hub/:alias/top50/p/:page',\r\n      '/hub/:alias/top100/p/:page',\r\n      '/hub/:alias/top/daily/p/:page',\r\n      '/hub/:alias/top/weekly/p/:page',\r\n      '/hub/:alias/top/monthly/p/:page',\r\n      '/hub/:alias/top/yearly/p/:page',\r\n      '/hub/:alias/top/alltime/p/:page',\r\n    ],\r\n    component: <Hub />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'hub',\r\n  },\r\n  {\r\n    path: '/user/:login/favorites/comments/p/:page',\r\n    component: <UserFavoriteComments />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'userFaviritesComments',\r\n  },\r\n  {\r\n    path: '/user/:login/favorites/articles/p/:page',\r\n    component: <UserFavoriteArticles />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'userFaviritesArticles',\r\n  },\r\n  {\r\n    path: '/user/:login/comments/p/:page',\r\n    component: <UserComments />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'userComments',\r\n  },\r\n  {\r\n    path: '/user/:login/articles/p/:page',\r\n    component: <UserArticles />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'userArticles',\r\n  },\r\n  {\r\n    path: '/user/:login',\r\n    component: <User />,\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'user',\r\n  },\r\n  {\r\n    path: '/news/p/:page',\r\n    component: <News />,\r\n    title: 'Новости',\r\n    shouldShowAppBar: true,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.paper,\r\n    alias: 'news',\r\n  },\r\n  {\r\n    path: [\r\n      '/all/p/:page',\r\n      '/top0/p/:page',\r\n      '/top10/p/:page',\r\n      '/top25/p/:page',\r\n      '/top50/p/:page',\r\n      '/top100/p/:page',\r\n      '/top/daily/p/:page',\r\n      '/top/weekly/p/:page',\r\n      '/top/monthly/p/:page',\r\n      '/top/yearly/p/:page',\r\n      '/top/alltime/p/:page',\r\n    ],\r\n    component: <Home />,\r\n    shouldShowAppBar: true,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.paper,\r\n    alias: 'feed',\r\n  },\r\n  {\r\n    path: '/me',\r\n    component: <Me />,\r\n    shouldShowAppBar: true,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'me',\r\n  },\r\n  {\r\n    path: '/',\r\n    component: <Redirect to={`${getCachedMode().to}/p/1`} />,\r\n    shouldShowAppBar: true,\r\n    shouldAppBarChangeColors: true,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: 'feed',\r\n  },\r\n  {\r\n    path: '/:404*',\r\n    component: <NotFound />,\r\n    title: '404',\r\n    shouldShowAppBar: false,\r\n    shouldAppBarChangeColors: false,\r\n    appBarColor: (theme) => theme.palette.background.default,\r\n    alias: '404',\r\n  },\r\n]\r\n","import { useEffect } from 'react'\nimport { useMatomo } from '@datapunt/matomo-tracker-react'\nimport { useLocation } from 'react-router-dom'\nimport { APP_VERSION } from 'src/config/constants'\n\nconst useAnalytics = () => {\n  const location = useLocation()\n  const { trackPageView } = useMatomo()\n\n  useEffect(() => {\n    trackPageView({\n      customDimensions: [\n        {\n          id: 2,\n          value: APP_VERSION,\n        },\n      ],\n    })\n  }, [location.pathname])\n}\n\nexport default useAnalytics\n","import * as React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport { routes } from 'src/config/routes'\r\nimport useAnalytics from 'src/hooks/useAnalytics'\r\n\r\nconst Router = () => {\r\n  useAnalytics()\r\n\r\n  return (\r\n    <Switch>\r\n      {routes.map(({ path, component }, i) => (\r\n        <Route key={i} exact path={path}>\r\n          {component}\r\n        </Route>\r\n      ))}\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default React.memo(Router)\r\n","import * as React from 'react'\n\ninterface Options {\n  getTrigger: typeof defaultTrigger\n  target: Window\n}\n\nconst defaultTarget = typeof window !== 'undefined' ? window : null\n\nfunction defaultTrigger(options: Partial<Options>) {\n  const { target } = options\n  const currentScroll = target ? target.pageYOffset : 0\n\n  return currentScroll > 0\n}\n\nconst useAppBarScrollTrigger = (options: Partial<Options> = {}) => {\n  const { getTrigger = defaultTrigger, target = defaultTarget } = options\n  const [trigger, setTrigger] = React.useState(() => getTrigger({ target }))\n\n  React.useEffect(() => {\n    const handleScroll = () => {\n      setTrigger(getTrigger({ target }))\n    }\n\n    handleScroll() // Re-evaluate trigger when dependencies change\n    target.addEventListener('scroll', handleScroll)\n    return () => {\n      target.removeEventListener('scroll', handleScroll)\n    }\n  }, [target, getTrigger])\n\n  return trigger\n}\n\nexport default useAppBarScrollTrigger\n","import React from 'react'\nimport { IconButton, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useSelector } from 'src/hooks'\nimport LinkToOutsidePage from '../LinkToOutsidePage'\nimport UserAvatar from '../UserAvatar'\nimport { Icon28DoorArrowRightOutline } from '@vkontakte/icons'\nimport { useDispatch } from 'react-redux'\nimport { userLogout } from 'src/store/actions/auth'\nimport { useSnackbar } from 'notistack'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: theme.spacing(0, 2),\n    margin: theme.spacing(1.5, 0),\n    marginTop: theme.spacing(0.5),\n  },\n  avatarAndLogin: {\n    display: 'flex',\n    flexGrow: 1,\n  },\n  icons: {\n    display: 'flex',\n    flexDirection: 'row',\n    marginLeft: theme.spacing(1),\n  },\n  link: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    textDecoration: 'none',\n  },\n  avatar: {\n    borderRadius: '50%',\n  },\n  fullnameAndAliasWrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginLeft: theme.spacing(1),\n  },\n  fullname: {\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    fontSize: 17,\n    color: theme.palette.text.primary,\n    lineHeight: '20px',\n  },\n  alias: {\n    fontFamily: 'Google Sans',\n    fontWeight: 500,\n    fontSize: 15,\n    color: theme.palette.primary.light,\n    lineHeight: '18px',\n    marginTop: theme.spacing(0.35),\n  },\n  logoutIcon: {\n    color: theme.palette.text.secondary,\n  },\n}))\n\nconst UserAvatarAndLogin: React.FC<{ handleClose: () => void }> = ({\n  handleClose,\n}) => {\n  const user = useSelector((store) => store.auth.me.data)\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const { enqueueSnackbar } = useSnackbar()\n  const logout = () => {\n    enqueueSnackbar('Вы вышли из аккаунта', {\n      variant: 'info',\n      autoHideDuration: 3000,\n    })\n    handleClose()\n    dispatch(userLogout())\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.avatarAndLogin}>\n        <LinkToOutsidePage\n          to={'/user/' + user?.alias}\n          className={classes.link}\n          onClick={handleClose}\n        >\n          <UserAvatar\n            src={user?.avatarUrl}\n            alias={user?.alias}\n            className={classes.avatar}\n          />\n          <div className={classes.fullnameAndAliasWrapper}>\n            <Typography className={classes.fullname}>\n              {user?.fullname}\n            </Typography>\n            <Typography className={classes.alias}>@{user?.alias}</Typography>\n          </div>\n        </LinkToOutsidePage>\n      </div>\n      <div className={classes.icons}>\n        <IconButton className={classes.logoutIcon} onClick={logout}>\n          <Icon28DoorArrowRightOutline width={24} height={24} />\n        </IconButton>\n      </div>\n    </div>\n  )\n}\n\nexport default React.memo(UserAvatarAndLogin)\n","import { Button, makeStyles } from '@material-ui/core'\nimport React from 'react'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: theme.spacing(2),\n  },\n  button: {\n    borderRadius: 50,\n    textTransform: 'none',\n    fontFamily: 'Google Sans',\n    padding: '2px 15px',\n    letterSpacing: '.04rem',\n  },\n}))\n\nconst ManageAccountButton = () => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <Button className={classes.button} variant=\"outlined\">\n        Управление профилем\n      </Button>\n    </div>\n  )\n}\n\nexport default React.memo(ManageAccountButton)\n","import React from 'react'\nimport { fade, makeStyles, Typography } from '@material-ui/core'\nimport { useSelector } from 'src/hooks'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: fade(theme.palette.divider, 0.075),\n    padding: theme.spacing(1.5, 2),\n  },\n}))\n\nconst KarmaStatistics = () => {\n  const classes = useStyles()\n  const user = useSelector((store) => store.auth.me.data)\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body1\">\n        У вас <b>{user?.settings?.chargeSettings?.postVoteCount}</b> голосов за\n        карму и публикации, и ещё{' '}\n        <b>{user?.settings?.chargeSettings?.commentVoteCount}</b> голосов за\n        комментарии\n      </Typography>\n    </div>\n  )\n}\n\nexport default React.memo(KarmaStatistics)\n","import { List, ListItem, makeStyles, Typography } from '@material-ui/core'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Icon28CommentOutline } from '@vkontakte/icons'\nimport { Icon20BookmarkOutline } from '@vkontakte/icons'\nimport { Icon28ArticleOutline } from '@vkontakte/icons'\nimport { useSelector } from 'src/hooks'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n}))\n\nconst useListLinkStyles = makeStyles((theme) => ({\n  root: {\n    '-webkit-tap-highlight-color': 'transparent !important',\n    padding: theme.spacing(1.25, 2),\n  },\n  icon: {\n    marginRight: theme.spacing(1.5),\n    color: theme.palette.primary.light,\n  },\n}))\n\ninterface ListLinkProps {\n  to: string\n  title: string\n  icon: typeof Icon28ArticleOutline\n}\n\nconst ListLinkUnmemoized: React.FC<ListLinkProps> = ({\n  to,\n  title,\n  icon: Icon,\n}) => {\n  const classes = useListLinkStyles()\n\n  return (\n    <ListItem button component={Link} to={to} className={classes.root}>\n      <Icon width={28} height={28} className={classes.icon} />\n      <Typography>{title}</Typography>\n    </ListItem>\n  )\n}\nconst ListLink = React.memo(ListLinkUnmemoized)\n\nconst Links = () => {\n  const classes = useStyles()\n  const user = useSelector((store) => store.auth.me.data)\n  const alias = user?.alias\n\n  return (\n    <List className={classes.root}>\n      <ListLink\n        to={'/user/' + alias + '/articles/p/1'}\n        title={'Статьи'}\n        icon={Icon28ArticleOutline}\n      />\n      <ListLink\n        to={'/user/' + alias + '/comments/p/1'}\n        title={'Комментарии'}\n        icon={Icon28CommentOutline}\n      />\n      <ListLink\n        to={'/user/' + alias + '/favorites/articles/p/1'}\n        title={'Закладки'}\n        icon={Icon20BookmarkOutline}\n      />\n    </List>\n  )\n}\n\nexport default React.memo(Links)\n","import React from 'react'\nimport { makeStyles, lighten } from '@material-ui/core/styles/'\nimport {\n  ClickAwayListener,\n  Dialog,\n  Fade,\n  IconButton,\n  Paper,\n  Portal,\n  Typography,\n} from '@material-ui/core'\nimport { TransitionProps } from '@material-ui/core/transitions'\nimport { Icon24Cancel } from '@vkontakte/icons'\nimport UserAvatarAndLogin from './UserAvatarAndLogin'\nimport ManageAccountButton from './ManageAccountButton'\nimport KarmaStatistics from './KarmaStatistics'\nimport Links from './Links'\nimport { APP_BAR_HEIGHT, DRAWER_WIDTH } from 'src/config/constants'\nimport isDarkTheme from 'src/utils/isDarkTheme'\n\nconst DIALOG_MAX_WIDTH = 440\nconst MODAL_MAX_WIDTH = 300\n\nconst useDialogStyles = makeStyles((theme) => ({\n  paper: {\n    display: 'flex',\n    width: '100%',\n    maxWidth: DIALOG_MAX_WIDTH,\n    borderRadius: 12,\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    height: 48,\n  },\n  headerIcon: {\n    marginRight: 4,\n    zIndex: 2,\n  },\n  headerText: {\n    fontFamily: 'Google Sans',\n    fontSize: 20,\n    fontWeight: 500,\n    width: '100%',\n    textAlign: 'center',\n    position: 'absolute',\n    zIndex: 1,\n  },\n}))\nconst useModalStyles = makeStyles((theme) => ({\n  root: {\n    background: isDarkTheme(theme)\n      ? lighten(theme.palette.background.paper, 0.05)\n      : theme.palette.background.paper,\n    display: 'flex',\n    width: '100%',\n    maxWidth: MODAL_MAX_WIDTH,\n    borderRadius: 8,\n    flexDirection: 'column',\n    zIndex: theme.zIndex.modal,\n    position: 'fixed',\n    paddingTop: theme.spacing(1),\n    top: `calc(${APP_BAR_HEIGHT}px + ${theme.spacing(1.5)}px)`,\n    left: `calc(${DRAWER_WIDTH}px + ${theme.spacing(2)}px)`,\n    boxShadow:\n      '0px 3px 5px -1px rgb(0 0 0 / 12%), 0px 6px 10px 0px rgb(0 0 0 / 7%), 0px 1px 18px 0px rgb(0 0 0 / 4%) !important',\n  },\n}))\n\ninterface Props {\n  isOpen: boolean\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n  variant: 'dialog' | 'modal'\n}\n\nconst Transition = React.forwardRef(function Transition(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  props: TransitionProps & { children?: React.ReactElement<any, any> },\n  ref: React.Ref<unknown>\n) {\n  return <Fade ref={ref} {...props} />\n})\n\nconst UserMenu: React.FC<Props> = ({ isOpen, setOpen, variant }) => {\n  const classesDialog = useDialogStyles()\n  const classesModal = useModalStyles()\n  const handleClose = () => setOpen(false)\n\n  if (variant === 'dialog')\n    return (\n      <Dialog\n        onClose={handleClose}\n        open={isOpen}\n        TransitionComponent={Transition}\n        classes={{ paper: classesDialog.paper }}\n      >\n        <div className={classesDialog.header}>\n          <IconButton\n            className={classesDialog.headerIcon}\n            onClick={handleClose}\n          >\n            <Icon24Cancel />\n          </IconButton>\n          <Typography className={classesDialog.headerText}>Аккаунт</Typography>\n        </div>\n        <UserAvatarAndLogin handleClose={handleClose} />\n        <ManageAccountButton />\n        <KarmaStatistics />\n        <Links />\n      </Dialog>\n    )\n  else if (variant === 'modal')\n    return isOpen ? (\n      <Portal>\n        <ClickAwayListener onClickAway={handleClose}>\n          <div>\n            <Paper className={classesModal.root}>\n              <UserAvatarAndLogin handleClose={handleClose} />\n              <ManageAccountButton />\n              <KarmaStatistics />\n              <Links />\n            </Paper>\n          </div>\n        </ClickAwayListener>\n      </Portal>\n    ) : null\n  else throw new Error('Unknown variant for UserMenu (\"dialog\" | \"modal\")')\n}\n\nexport default React.memo(UserMenu)\n","import * as React from 'react'\nimport { useEffect } from 'react'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport Avatar from '@material-ui/core/Avatar'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport {\n  APP_BAR_HEIGHT,\n  MAX_WIDTH,\n  MIN_WIDTH,\n  MIDDLE_WIDTH,\n  RATING_MODES,\n} from 'src/config/constants'\nimport { Icon28SettingsOutline } from '@vkontakte/icons'\nimport { Icon24UserOutline } from '@vkontakte/icons'\nimport WifiOffRoundedIcon from '@material-ui/icons/WifiOffRounded'\nimport { Offline } from 'react-detect-offline'\nimport { useRoute, useSelector } from 'src/hooks'\nimport { FetchingState } from 'src/interfaces'\nimport {\n  CircularProgress,\n  fade,\n  Theme,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport useAppBarScrollTrigger from 'src/hooks/useAppBarScrollTrigger'\nimport UserMenu from './UserMenu'\n\ninterface StyleProps {\n  isTransformed: boolean\n  appBarColor: (theme: Theme) => string\n  shouldChangeColors: boolean\n}\n\nconst makeAppBarBackgroundColor = ({\n  isTransformed,\n  appBarColor,\n  shouldChangeColors,\n  theme,\n}) => {\n  if (shouldChangeColors)\n    return theme.palette.background[isTransformed ? 'paper' : 'default']\n  else return appBarColor ? appBarColor(theme) : theme.palette.background.paper\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: (props: StyleProps) =>\n      makeAppBarBackgroundColor({ ...props, theme }),\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      display: 'none',\n    },\n    color: theme.palette.text.primary,\n    position: 'fixed',\n    height: APP_BAR_HEIGHT + 1,\n    flexGrow: 1,\n    zIndex: theme.zIndex.appBar + 1,\n    willChange: 'transform',\n  },\n  toolbar: {\n    margin: 'auto',\n    minHeight: 'unset',\n    height: APP_BAR_HEIGHT,\n    padding: 0,\n    maxWidth: MAX_WIDTH,\n    width: '100%',\n    flexDirection: 'column',\n  },\n  headerTitle: {\n    color: theme.palette.text.primary,\n    fontWeight: 800,\n    height: '100%',\n    alignItems: 'center',\n    display: 'flex',\n    fontFamily: 'Google Sans',\n    cursor: 'pointer',\n    '-webkit-tap-highlight-color': fade(theme.palette.background.paper, 0.3),\n    userSelect: 'none',\n  },\n  headerTitleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    flexGrow: 1,\n  },\n  offline: {\n    color: theme.palette.text.disabled,\n    marginLeft: theme.spacing(1),\n    display: 'flex',\n    alignItems: 'center',\n  },\n  avatar: {\n    height: theme.spacing(3),\n    width: theme.spacing(3),\n    borderRadius: theme.shape.borderRadius,\n  },\n  content: {\n    display: 'flex',\n    alignItems: 'center',\n    width: `calc(100% - ${theme.spacing(2) * 2}px)`,\n  },\n}))\n\nconst AppBarComponent = () => {\n  const trigger = useAppBarScrollTrigger()\n  const history = useHistory()\n  const location = useLocation()\n  const route = useRoute()\n  const shouldChangeColors = route.shouldAppBarChangeColors\n  const appBarColor = route.appBarColor\n  const isHidden = !route.shouldShowAppBar\n  const theme = useTheme()\n  const appHasDrawer = useMediaQuery(theme.breakpoints.up(MIDDLE_WIDTH))\n  const [isUserMenuOpen, setUserMenuOpen] = React.useState(false)\n  const classes = useStyles({\n    isTransformed: trigger,\n    appBarColor,\n    shouldChangeColors,\n  })\n  const modeName = useSelector((state) => state.home.mode)\n  const userState = useSelector((state) => state.auth.me.state)\n  const userData = useSelector((state) => state.auth.me.data)\n  const csrfTokenState = useSelector((state) => state.auth.csrfToken.state)\n  const mode = RATING_MODES.find((e) => e.mode === modeName)\n  const shouldShowUser =\n    userState === FetchingState.Fetched &&\n    csrfTokenState === FetchingState.Fetched\n  const shouldShowLoadingSpinner =\n    csrfTokenState === FetchingState.Fetched &&\n    userState !== FetchingState.Fetched\n\n  const goHome = () => {\n    window.scrollTo(0, 0)\n    if (location.pathname !== `${mode?.to}/p/1`) {\n      history.push(mode ? `${mode.to}/p/1` : '/')\n    }\n  }\n  const goSettings = () =>\n    history.push('/settings', {\n      from: location.pathname + location.search,\n      scroll: window.pageYOffset,\n    })\n  const goAuth = () =>\n    history.push('/auth', {\n      from: location.pathname + location.search,\n      scroll: window.pageYOffset,\n    })\n  const openUserMenu = () => setUserMenuOpen(true)\n\n  useEffect(() => {\n    if (appHasDrawer && isUserMenuOpen) setUserMenuOpen(false)\n  }, [shouldChangeColors, isHidden, route, appHasDrawer])\n\n  // Do not render the AppBar if it is hidden by the route\n  if (isHidden) return null\n\n  return (\n    <>\n      <AppBar className={classes.root} elevation={0}>\n        <Toolbar className={classes.toolbar}>\n          <div className={classes.content}>\n            <div className={classes.headerTitleWrapper}>\n              <Typography\n                onClick={goHome}\n                variant=\"h6\"\n                className={classes.headerTitle}\n              >\n                habra.\n              </Typography>\n              <Offline\n                polling={{\n                  url: 'https://ipv4.icanhazip.com',\n                }}\n              >\n                <WifiOffRoundedIcon className={classes.offline} />\n              </Offline>\n            </div>\n            <IconButton onClick={goSettings}>\n              <Icon28SettingsOutline width={24} height={24} />\n            </IconButton>\n            {shouldShowLoadingSpinner && (\n              <IconButton style={{ width: 48, height: 48 }}>\n                <CircularProgress\n                  style={{ width: 16, height: 16 }}\n                  color=\"primary\"\n                />\n              </IconButton>\n            )}\n            {!shouldShowUser && !shouldShowLoadingSpinner && (\n              <IconButton onClick={goAuth}>\n                <Icon24UserOutline width={24} height={24} />\n              </IconButton>\n            )}\n            {shouldShowUser && (\n              <IconButton onClick={openUserMenu}>\n                <Avatar className={classes.avatar} src={userData.avatarUrl} />\n              </IconButton>\n            )}\n          </div>\n        </Toolbar>\n      </AppBar>\n      <UserMenu\n        variant=\"dialog\"\n        isOpen={isUserMenuOpen}\n        setOpen={setUserMenuOpen}\n      />\n    </>\n  )\n}\n\nexport default React.memo(AppBarComponent)\n","import React, { useState, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport BottomNavigation from '@material-ui/core/BottomNavigation'\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction'\nimport { Paper, useMediaQuery, useTheme } from '@material-ui/core'\nimport { useLocation, useHistory } from 'react-router-dom'\nimport {\n  BOTTOM_BAR_HEIGHT,\n  makeNavigationTabs,\n  MIDDLE_WIDTH,\n} from 'src/config/constants'\nimport getContrastPaperColor from 'src/utils/getContrastPaperColor'\nimport { useRoute } from 'src/hooks'\nimport TabObject from 'src/interfaces/NavigationTabObject'\nimport { Route } from 'src/config/routes'\n\nconst NAVIGATION_TABS = makeNavigationTabs()\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: 0,\n    left: 0,\n    zIndex: theme.zIndex.appBar,\n    width: '100%',\n    willChange: 'transform',\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      display: 'none',\n    },\n  },\n  container: {\n    background: getContrastPaperColor(theme),\n    height: BOTTOM_BAR_HEIGHT,\n  },\n  item: {\n    fontFamily: 'Google Sans',\n    fontSize: '12px',\n    transitionDuration: '50ms',\n  },\n  selected: {\n    fontSize: '12.5px !important',\n  },\n}))\n\nconst findPathValue = (route: Route): number => {\n  const res = NAVIGATION_TABS.findIndex((e) => {\n    if (Array.isArray(e.match)) {\n      return e.match.some((k) => k === route.alias)\n    } else {\n      return e.match === route.alias\n    }\n  })\n  return res\n}\n\nconst BottomBar = () => {\n  const route = useRoute()\n  const classes = useStyles()\n  const theme = useTheme()\n  const history = useHistory()\n  const location = useLocation()\n  const [isShown, setShown] = React.useState(false)\n  const [value, setValue] = useState<number>(findPathValue(route))\n  // future: https://material-ui.com/components/use-media-query/#server-side-rendering\n  // when ssr is implemented, change `noSsr` to false.\n  const shouldHideBottomBar = useMediaQuery(\n    theme.breakpoints.up(MIDDLE_WIDTH),\n    {\n      noSsr: true,\n    }\n  )\n  const handleChange = (\n    _event: React.ChangeEvent<unknown>,\n    newValue: number\n  ) => {\n    setValue(newValue)\n  }\n\n  const go = (e: TabObject) => {\n    if (history.location.pathname !== e.to()) {\n      history.push(e.to())\n    }\n  }\n\n  const hideAppBarHandler = (r) => {\n    setShown(r.shouldShowAppBar)\n  }\n\n  useEffect(() => {\n    hideAppBarHandler(route)\n    setValue(findPathValue(route))\n  }, [route])\n\n  if (shouldHideBottomBar) return null\n\n  return isShown ? (\n    <Paper elevation={2} className={classes.root}>\n      <BottomNavigation\n        value={value}\n        onChange={handleChange}\n        showLabels\n        className={classes.container}\n      >\n        {NAVIGATION_TABS.map((e, i) => (\n          <BottomNavigationAction\n            key={i}\n            classes={{ label: classes.item, selected: classes.selected }}\n            label={e.label}\n            icon={e.icon}\n            onClick={() => go(e)}\n          />\n        ))}\n      </BottomNavigation>\n    </Paper>\n  ) : null\n}\n\nexport default React.memo(BottomBar)\n","import useRoute from './useRoute'\n\nconst useTitleChange = () => {\n  const route = useRoute()\n  const newTitle = route.title ? route.title + ' | habra.' : 'habra.'\n  if (document.title !== newTitle) document.title = newTitle\n}\n\nexport default useTitleChange\n","import { useEffect } from 'react'\nimport { useMediaQuery } from '@material-ui/core'\nimport { useDispatch } from 'react-redux'\nimport { setSettings } from 'src/store/actions/settings'\nimport useSelector from './useSelector'\n\nconst useAutoChangeTheme = () => {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', {\n    noSsr: true,\n  })\n  const isAutoThemeChange = useSelector(\n    (state) => state.settings.autoChangeTheme\n  )\n  const preferredDarkTheme = useSelector(\n    (state) => state.settings.preferredDarkTheme\n  )\n  const preferredLightTheme = useSelector(\n    (state) => state.settings.preferredLightTheme\n  )\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if (isAutoThemeChange) {\n      dispatch(\n        setSettings({\n          themeType: prefersDarkMode ? preferredDarkTheme : preferredLightTheme,\n        })\n      )\n    }\n  }, [\n    prefersDarkMode,\n    isAutoThemeChange,\n    preferredDarkTheme,\n    preferredLightTheme,\n  ])\n}\n\nexport default useAutoChangeTheme\n","import React, { useState } from 'react'\nimport {\n  Avatar,\n  ButtonBase,\n  Divider,\n  Drawer,\n  Theme,\n  Typography,\n  useTheme,\n} from '@material-ui/core'\nimport { makeStyles, fade } from '@material-ui/core/styles'\nimport {\n  APP_BAR_HEIGHT,\n  makeNavigationTabs,\n  DRAWER_WIDTH,\n  MIDDLE_WIDTH,\n  RATING_MODES,\n} from 'src/config/constants'\nimport TabObject from 'src/interfaces/NavigationTabObject'\nimport { useRoute, useSelector } from 'src/hooks'\nimport { useHistory, useLocation } from 'react-router'\nimport { Link } from 'react-router-dom'\nimport { Skeleton } from '@material-ui/lab'\nimport { Icon24DoorArrowLeftOutline } from '@vkontakte/icons'\nimport { Icon24InfoCircleOutline } from '@vkontakte/icons'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\nimport { Route } from 'src/config/routes'\nimport { FetchingState } from 'src/interfaces'\nimport UserMenu from './UserMenu'\n\nconst NAVIGATION_TABS = makeNavigationTabs(28, 28, true)\nconst avatarWidth = 32\nconst avatarHeight = 32\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    flexShrink: 0,\n    display: 'flex',\n    width: DRAWER_WIDTH,\n  },\n  drawerPaper: {\n    width: DRAWER_WIDTH,\n    border: 'none',\n  },\n  drawerContainer: {\n    overflow: 'auto',\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  logoHolder: {\n    height: APP_BAR_HEIGHT + 1,\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n    cursor: 'pointer',\n    '-webkit-tap-highlight-color': fade(theme.palette.background.paper, 0.3),\n    userSelect: 'none',\n  },\n  logo: {\n    color: theme.palette.text.primary,\n    fontWeight: 800,\n    height: '100%',\n    alignItems: 'center',\n    display: 'flex',\n    fontSize: 20,\n    marginLeft: theme.spacing(2),\n    fontFamily: 'Google Sans',\n  },\n  logoDivider: {\n    margin: theme.spacing(0, 2),\n  },\n  tabsHolder: {\n    padding: theme.spacing(0, 2),\n    display: 'flex',\n    flexDirection: 'column',\n    marginTop: theme.spacing(2),\n    flexGrow: 1,\n  },\n  bottomBlock: {\n    padding: theme.spacing(0, 2),\n    margin: theme.spacing(1, 0),\n  },\n}))\n\nconst useNavButtonStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    padding: theme.spacing(1, 1.5, 1, 1.25),\n    borderRadius: 8,\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    color: theme.palette.text.secondary,\n    '&:hover': {\n      color: fade(theme.palette.text.primary, 0.75),\n    },\n  },\n  icon: {\n    color: theme.palette.primary.main,\n  },\n  match: {\n    color: theme.palette.text.primary + ' !important',\n    background: fade(theme.palette.text.primary, 0.1),\n  },\n  label: {\n    transitionDuration: '0.1s',\n    marginLeft: theme.spacing(2),\n    fontSize: 16,\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n  },\n}))\n\nconst useProfileButtonStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(2),\n    marginBottom: 0,\n    display: 'flex',\n    flexDirection: 'row',\n    padding: theme.spacing(1, 1.2),\n    textDecoration: 'none !important',\n    background: fade(theme.palette.text.primary, 0.075),\n    borderRadius: 8,\n    transitionDuration: '100ms',\n    transitionTimingFunction: theme.transitions.easing.easeIn,\n    alignItems: 'center',\n    '&:hover': {\n      background: fade(theme.palette.text.primary, 0.1),\n    },\n  },\n  avatar: {\n    width: avatarWidth,\n    height: avatarHeight,\n    color: theme.palette.primary.main,\n  },\n  textHolder: {\n    marginLeft: theme.spacing(1.5),\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    overflow: 'hidden',\n  },\n  fullname: {\n    fontFamily: 'Google Sans',\n    fontWeight: 'bold',\n    fontSize: 16,\n    color: theme.palette.text.primary,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    width: '100%',\n    textAlign: 'start',\n  },\n}))\n\nconst useAboutButtonStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(0.8, 1),\n    borderRadius: 8,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'initial',\n    flexDirection: 'column',\n    textAlign: 'left',\n    background: (s) => theme.palette.background[s ? 'paper' : 'default'],\n    marginTop: theme.spacing(1),\n  },\n  text: {\n    fontSize: 16,\n    marginLeft: theme.spacing(1),\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n    flexGrow: 1,\n  },\n  header: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    color: theme.palette.text.secondary,\n  },\n  headerIcon: {\n    marginRight: -8,\n    width: 24,\n    height: 24,\n  },\n}))\n\nconst isCurrent = (obj: TabObject, route: Route): boolean => {\n  if (Array.isArray(obj.match)) {\n    return obj.match.some((k) => k === route.alias)\n  } else {\n    return obj.match === route.alias\n  }\n}\n\ninterface NavButtonProps extends TabObject {\n  current: boolean\n}\n\nconst NavButton: React.FC<NavButtonProps> = ({ label, icon, to, current }) => {\n  const classes = useNavButtonStyles()\n  const history = useHistory()\n  const handleClick = () => {\n    const link = to()\n    if (history.location.pathname !== link) {\n      history.push(link)\n    }\n  }\n\n  return (\n    <ButtonBase\n      className={classes.root + (current ? ' ' + classes.match : '')}\n      onClick={() => handleClick()}\n    >\n      <div className={classes.icon}>{icon}</div>\n      <Typography className={classes.label} component=\"span\">\n        {label}\n      </Typography>\n    </ButtonBase>\n  )\n}\n\nconst ProfileButton: React.FC = () => {\n  const classes = useProfileButtonStyles()\n  const [isUserMenuOpen, setUserMenuOpen] = useState(false)\n  const userState = useSelector((state) => state.auth.me.state)\n  const userData = useSelector((state) => state.auth.me.data)\n  const csrfTokenState = useSelector((state) => state.auth.csrfToken.state)\n  const shouldShowUser =\n    userState === FetchingState.Fetched &&\n    csrfTokenState === FetchingState.Fetched\n  const shouldShowLoadingSpinner =\n    csrfTokenState === FetchingState.Fetched &&\n    userState !== FetchingState.Fetched\n  const openUserMenu = () => setUserMenuOpen(true)\n\n  if (shouldShowLoadingSpinner) {\n    return (\n      <div className={classes.root}>\n        <div>\n          <Skeleton variant=\"circle\" className={classes.avatar} />\n        </div>\n        <div className={classes.textHolder}>\n          <Skeleton width=\"75%\"></Skeleton>\n        </div>\n      </div>\n    )\n  }\n\n  return shouldShowUser ? (\n    <>\n      <ButtonBase className={classes.root} onClick={openUserMenu}>\n        <Avatar className={classes.avatar} src={userData.avatarUrl} />\n        <div className={classes.textHolder}>\n          <Typography className={classes.fullname}>\n            {userData.fullname}\n          </Typography>\n        </div>\n      </ButtonBase>\n      <UserMenu\n        isOpen={isUserMenuOpen}\n        setOpen={setUserMenuOpen}\n        variant=\"modal\"\n      />\n    </>\n  ) : (\n    <Link className={classes.root} to={'/auth'}>\n      <Icon24DoorArrowLeftOutline\n        className={classes.avatar}\n        width={avatarWidth}\n        height={avatarHeight}\n      />\n      <div className={classes.textHolder}>\n        <Typography className={classes.fullname}>Войти</Typography>\n      </div>\n    </Link>\n  )\n}\n\nconst AboutButton = () => {\n  const classes = useAboutButtonStyles()\n  const history = useHistory()\n\n  return (\n    <ButtonBase\n      onClick={() =>\n        history.push('/habra-about', {\n          from: location.pathname,\n        })\n      }\n      className={classes.root}\n    >\n      <div className={classes.header}>\n        <Icon24InfoCircleOutline width={24} height={24} />\n        <Typography className={classes.text}>О сайте</Typography>\n      </div>\n    </ButtonBase>\n  )\n}\n\nconst SideNavigationDrawer = () => {\n  const theme = useTheme()\n  const route = useRoute()\n  const location = useLocation()\n  const classes = useStyles()\n  const modeName = useSelector((state) => state.home.mode)\n  const mode = RATING_MODES.find((e) => e.mode === modeName)\n  const history = useHistory()\n  // future: https://material-ui.com/components/use-media-query/#server-side-rendering\n  // when ssr is implemented, change `noSsr` to false.\n  const shouldShowDrawer = useMediaQuery(theme.breakpoints.up(MIDDLE_WIDTH), {\n    noSsr: true,\n  })\n\n  // Do not render drawer on mobile and tablet\n  if (!shouldShowDrawer) return null\n\n  const goHome = () => {\n    window.scrollTo(0, 0)\n    if (location.pathname !== `${mode?.to}/p/1`) {\n      history.push(mode ? `${mode.to}/p/1` : '/')\n    }\n  }\n\n  return (\n    <Drawer\n      variant=\"permanent\"\n      anchor=\"left\"\n      className={classes.drawer}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <div className={classes.drawerContainer}>\n        <div className={classes.logoHolder}>\n          <Typography\n            onClick={() => goHome()}\n            variant=\"h6\"\n            className={classes.logo}\n          >\n            habra.\n          </Typography>\n          <Divider className={classes.logoDivider} />\n        </div>\n        <ProfileButton />\n        <div className={classes.tabsHolder}>\n          {NAVIGATION_TABS.map((e, i) => (\n            <NavButton current={isCurrent(e, route)} key={i} {...e} />\n          ))}\n        </div>\n        <div className={classes.bottomBlock}>\n          <Divider />\n          <AboutButton />\n        </div>\n      </div>\n    </Drawer>\n  )\n}\n\nexport default SideNavigationDrawer\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { FetchingState } from 'src/interfaces'\nimport { getMe } from 'src/store/actions/auth'\nimport { useSelector } from '.'\n\nconst useUserDataFetch = () => {\n  const dispatch = useDispatch()\n  const userState = useSelector((state) => state.auth.me.state)\n  const authData = useSelector((state) => state.auth.authData.data)\n  const csrfToken = useSelector((state) => state.auth.csrfToken.data)\n  const shouldFetchUser =\n    authData && csrfToken && userState !== FetchingState.Fetched\n\n  useEffect(() => {\n    if (shouldFetchUser)\n      dispatch(\n        getMe({\n          ...authData,\n          csrfToken,\n        })\n      )\n  }, [csrfToken, authData, shouldFetchUser])\n}\n\nexport default useUserDataFetch\n","import React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  ButtonBase,\n  fade,\n  Typography,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core'\nimport RefreshRoundedIcon from '@material-ui/icons/RefreshRounded'\nimport {\n  BOTTOM_BAR_HEIGHT,\n  MIDDLE_WIDTH,\n  MIN_WIDTH,\n  NEEDS_UPDATE_KEY,\n} from 'src/config/constants'\nimport { useRoute } from 'src/hooks'\nimport { useSnackbar } from 'notistack'\n\nconst useStyles = makeStyles((theme) => ({\n  rootWrapper: {\n    padding: theme.spacing(1.8, 2),\n    position: 'fixed',\n    display: 'flex',\n    justifyContent: 'center',\n    zIndex: theme.zIndex.snackbar,\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      right: 0,\n    },\n    bottom: 0,\n    width: `calc(100% - ${theme.spacing(2) * 2}px)`,\n    transitionDuration: '0.1s',\n    transitionTimingFunction: theme.transitions.easing.easeOut,\n  },\n  root: {\n    backgroundColor: theme.palette.primary.dark,\n    borderRadius: 8,\n    marginBottom: 0,\n    padding: theme.spacing(1.5, 2),\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    flexDirection: 'row',\n    textAlign: 'initial',\n    maxWidth: 520,\n    boxShadow:\n      '0px 3px 5px -1px rgb(0 0 0 / 10%), 0px 6px 10px 0px rgb(0 0 0 / 4%), 0px 1px 18px 0px rgb(0 0 0 / 2%)',\n  },\n  title: {\n    color: theme.palette.getContrastText(theme.palette.primary.dark),\n    fontWeight: 700,\n    fontSize: 17,\n    fontFamily: 'Google Sans',\n  },\n  subtitle: {\n    fontWeight: 500,\n    fontFamily: 'Google Sans',\n    fontSize: 14,\n    color: fade(\n      theme.palette.getContrastText(theme.palette.primary.dark),\n      0.75\n    ),\n  },\n  text: {\n    flexDirection: 'column',\n    flexGrow: 1,\n  },\n  icon: {\n    color: theme.palette.getContrastText(theme.palette.primary.dark),\n    marginLeft: theme.spacing(2),\n  },\n}))\n\nconst UpdateNotification = () => {\n  const initialShouldShow = localStorage.getItem(NEEDS_UPDATE_KEY) === 'true'\n  const [isShown, setIsShown] = useState(initialShouldShow)\n  const classes = useStyles()\n  const theme = useTheme()\n  const route = useRoute()\n  const match = useMediaQuery(theme.breakpoints.up(MIDDLE_WIDTH), {\n    noSsr: true,\n  })\n  const noBottomMargin = !route.shouldShowAppBar || match\n  const { enqueueSnackbar } = useSnackbar()\n\n  useEffect(() => {\n    const receiveMessage = (event: MessageEvent<string>) => {\n      if (event.origin === process.env.PUBLIC_URL) {\n        if (event.data === 'showUpdateNotification') {\n          setIsShown(true)\n        } else if (event.data === 'showUpdateSuccessNotification') {\n          enqueueSnackbar('Приложение было обновлено', {\n            variant: 'info',\n            autoHideDuration: 3000,\n          })\n        }\n      }\n    }\n    window.addEventListener('message', receiveMessage)\n    return () => window.removeEventListener('message', receiveMessage)\n  })\n\n  const onClick = () => {\n    window.location.reload()\n    localStorage.setItem(NEEDS_UPDATE_KEY, 'false')\n  }\n\n  return isShown ? (\n    <div\n      className={classes.rootWrapper}\n      style={{\n        transform: `translateY(${\n          noBottomMargin ? 0 : -1 * BOTTOM_BAR_HEIGHT\n        }px)`,\n      }}\n    >\n      <ButtonBase className={classes.root} onClick={onClick}>\n        <div className={classes.text}>\n          <Typography className={classes.title}>Доступно обновление</Typography>\n          <Typography className={classes.subtitle}>\n            Обновите страницу или нажмите на сообщение, чтобы изменения вступили\n            в силу\n          </Typography>\n        </div>\n        <RefreshRoundedIcon className={classes.icon} />\n      </ButtonBase>\n    </div>\n  ) : null\n}\n\nexport default UpdateNotification\n","import { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { FetchingState } from 'src/interfaces'\nimport { getDownvoteReasons } from 'src/store/actions/post'\nimport { useSelector } from '.'\n\nconst useGetDownvoteReasons = () => {\n  const dispatch = useDispatch()\n  const state = useSelector((state) => state.post.downvoteReasons.state)\n  const shouldFetchDownvoteReasons = state !== FetchingState.Fetched\n\n  useEffect(() => {\n    if (shouldFetchDownvoteReasons) dispatch(getDownvoteReasons())\n  }, [shouldFetchDownvoteReasons])\n}\n\nexport default useGetDownvoteReasons\n","import * as React from 'react'\nimport { ThemeProvider } from '@material-ui/core/styles'\nimport createMuiTheme, { Theme } from '@material-ui/core/styles/createMuiTheme'\nimport { fade, makeStyles } from '@material-ui/core/styles/'\nimport AppRouter from './Router'\nimport AppBar from './blocks/AppBar'\nimport {\n  APP_BAR_HEIGHT,\n  BOTTOM_BAR_HEIGHT,\n  chromeAddressBarHeight,\n  DRAWER_WIDTH,\n  MAX_WIDTH as maxWidth,\n  MIDDLE_WIDTH,\n  MIN_WIDTH,\n} from '../config/constants'\nimport { lighten, darken } from '@material-ui/core/styles'\nimport isMobile from 'is-mobile'\nimport { useRoute, useSelector } from 'src/hooks'\nimport ScrollRestoration from 'react-scroll-restoration'\nimport { SnackbarProvider } from 'notistack'\nimport BottomBar from './blocks/BottomBar'\nimport useTitleChange from 'src/hooks/useTitleChange'\nimport useAnalytics from 'src/hooks/useAnalytics'\nimport isDarkTheme from 'src/utils/isDarkTheme'\nimport useAutoChangeTheme from 'src/hooks/useAutoChangeTheme'\nimport SideNavigationDrawer from './blocks/SideNavigationDrawer'\nimport useUserDataFetch from 'src/hooks/useUserDataFetch'\nimport UpdateNotification from 'src/components/blocks/UpdateNotification'\nimport useGetDownvoteReasons from 'src/hooks/useGetDownvoteReasons'\nimport { useEffect } from 'react'\n\ninterface StyleProps {\n  theme: Theme\n  shouldShowAppBar: boolean\n}\n\nconst useStyles = makeStyles({\n  '@global': {\n    // Needed for IconButton touch ripple tweaks\n    '@keyframes enter': {\n      '0%': {\n        opacity: 0.1,\n      },\n      '100%': {\n        opacity: 0.15,\n      },\n    },\n    '@keyframes exit': {\n      '0%': {\n        opacity: 1,\n      },\n      '100%': {\n        opacity: 0,\n      },\n    },\n    '.IconButton_TouchRipple-rippleVisible': {\n      animation: 'enter 0ms ease',\n      opacity: 0.15,\n    },\n    '.IconButton_TouchRipple-childLeaving': {\n      animation: 'exit 255ms ease',\n    },\n  },\n  app: ({ shouldShowAppBar, theme }: StyleProps) => ({\n    display: 'flex',\n    minHeight: `calc(100vh - ${APP_BAR_HEIGHT}px - ${\n      isMobile() ? chromeAddressBarHeight : 0\n    }px - ${shouldShowAppBar ? BOTTOM_BAR_HEIGHT : 0}px)`,\n    borderRadius: 0,\n    alignItems: 'flex-start',\n    flexDirection: 'row',\n    width: '100%',\n    maxWidth: maxWidth,\n    margin: `${APP_BAR_HEIGHT}px auto ${\n      shouldShowAppBar ? BOTTOM_BAR_HEIGHT : 0\n    }px auto`,\n    boxSizing: 'border-box',\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      marginTop: 0,\n      marginBottom: 0,\n    },\n    [theme.breakpoints.up(MIN_WIDTH)]: {\n      padding: theme.spacing(0, 2),\n    },\n  }),\n  /** Body class */\n  body: ({ theme }: StyleProps) => ({\n    /** Disable blue highlight for links. Can be bad for accessibility. */\n    '& a': {\n      '-webkit-tap-highlight-color': fade(theme.palette.background.paper, 0.3),\n    },\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.text.primary,\n    margin: 0,\n    fontFamily: '-apple-system, BlinkMacSystemFont, Roboto, Arial, sans-serif',\n    lineHeight: 1.5,\n    '&::-webkit-scrollbar': {\n      width: 15,\n      height: 10,\n      background: isDarkTheme(theme)\n        ? lighten(theme.palette.background.default, 0.03)\n        : theme.palette.background.paper,\n      border: '1px solid ' + darken(theme.palette.background.paper, 0.05),\n    },\n    '&::-webkit-scrollbar-thumb': {\n      minHeight: 28,\n      background: isDarkTheme(theme)\n        ? lighten(theme.palette.background.paper, 0.08)\n        : darken(theme.palette.background.paper, 0.08),\n      transition: '0.1s',\n      '&:hover': {\n        background: isDarkTheme(theme)\n          ? lighten(theme.palette.background.paper, 0.1)\n          : darken(theme.palette.background.paper, 0.1),\n      },\n      '&:active': {\n        background: isDarkTheme(theme)\n          ? lighten(theme.palette.background.paper, 0.2)\n          : darken(theme.palette.background.paper, 0.2),\n      },\n    },\n    '& *::selection': {\n      background: (isDarkTheme(theme) ? darken : lighten)(\n        theme.palette.primary.main,\n        0.5\n      ),\n    },\n  }),\n  appWrapper: ({ theme }: StyleProps) => ({\n    display: 'flex',\n    paddingLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up(MIDDLE_WIDTH)]: {\n      paddingLeft: DRAWER_WIDTH,\n      width: `calc(100% - ${DRAWER_WIDTH}px)`,\n    },\n  }),\n})\n\nconst App = () => {\n  const storeTheme = useSelector((state) => state.settings.theme)\n  const theme = React.useMemo(() => createMuiTheme(storeTheme), [storeTheme])\n  const route = useRoute()\n  const classes = useStyles({\n    theme,\n    shouldShowAppBar: route?.shouldShowAppBar,\n  })\n\n  useTitleChange()\n  useAutoChangeTheme()\n  useAnalytics()\n  useUserDataFetch()\n  useGetDownvoteReasons()\n\n  // Set root classes\n  useEffect(() => {\n    document.body.className = classes.body\n  }, [])\n\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <SnackbarProvider>\n          <SideNavigationDrawer />\n          <div className={classes.appWrapper}>\n            <div className={classes.app}>\n              <ScrollRestoration />\n              <UpdateNotification />\n              <AppBar />\n              <BottomBar />\n              <AppRouter />\n            </div>\n          </div>\n        </SnackbarProvider>\n      </ThemeProvider>\n    </>\n  )\n}\n\nexport default React.memo(App)\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nexport interface Config {\r\n  onUpdate: (registration: ServiceWorkerRegistration) => void\r\n  onSuccess: (registration: ServiceWorkerRegistration) => void\r\n}\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register(config?: Config): void {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config): void {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = (): void => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = (): void => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\r\n                '%c[info] %cContent is cached for offline use.',\r\n                'color: #2979ff;',\r\n                'color: #e9e9e9;'\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error(\r\n        '%c[error] %cError during service worker registration:',\r\n        'color: #ff5252;',\r\n        'color: #e9e9e9;',\r\n        error\r\n      )\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config): void {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        '%c[info] %cNo internet connection found. App is running in offline mode.',\r\n        'color: #2979ff;',\r\n        'color: #e9e9e9;'\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister(): void {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import {\r\n  HOME_PREFIX,\r\n  ADVERTS_PREFIX,\r\n  SIDEBAR_TOP_COMPANIES,\r\n  SIDEBAR_MOST_READING,\r\n  SET_HOME_POST_ITEM_SIZE,\r\n} from './types'\r\nimport { FLOWS, RATING_MODES } from 'src/config/constants'\r\nimport { Advert, FetchingState, FlowAlias, Posts } from 'src/interfaces'\r\nimport getCachedMode from 'src/utils/getCachedMode'\r\nimport getPostFirstImage from 'src/utils/getPostFirstImage'\r\nimport { Mode } from 'node:fs'\r\n\r\ninterface ModeObject {\r\n  pages: Record<number, Omit<Posts, 'pagesCount'>>\r\n  pagesCount: number\r\n  lastUpdated: number\r\n}\r\n\r\nconst modes: Record<Mode, ModeObject> = {}\r\nconst flowModes = {} as Record<FlowAlias, Record<string, ModeObject>>\r\nRATING_MODES.forEach(({ mode }) => {\r\n  modes[mode] = {\r\n    pages: {},\r\n    pagesCount: null,\r\n    lastUpdated: null,\r\n  }\r\n})\r\nFLOWS.forEach((e) => {\r\n  flowModes[e.alias] = {}\r\n  RATING_MODES.forEach(({ mode }) => {\r\n    flowModes[e.alias][mode] = {\r\n      pages: {},\r\n      pagesCount: null,\r\n      lastUpdated: null,\r\n    }\r\n  })\r\n})\r\n\r\nconst initialState = {\r\n  fetching: false,\r\n  fetched: false,\r\n  error: null,\r\n  data: modes,\r\n  sizesMap: {},\r\n  flows: {\r\n    fetching: false,\r\n    fetched: false,\r\n    error: null,\r\n    data: flowModes,\r\n  },\r\n  adverts: {\r\n    fetching: false,\r\n    fetched: false,\r\n    error: null,\r\n    data: null as Advert[],\r\n  },\r\n  sidebar: {\r\n    mostReading: {\r\n      state: FetchingState.Idle,\r\n      fetchError: null,\r\n      data: null,\r\n    },\r\n    topCompanies: {\r\n      state: FetchingState.Idle,\r\n      fetchError: null,\r\n      data: null,\r\n    },\r\n  },\r\n  mode: getCachedMode().mode,\r\n}\r\n\r\nexport default (\r\n  state = initialState,\r\n  { type, payload }\r\n): typeof initialState => {\r\n  switch (type) {\r\n    case HOME_PREFIX + 'FETCH': {\r\n      if (payload.flow === 'all') {\r\n        state.fetching = true\r\n        state.fetched = false\r\n        state.error = null\r\n        state.mode = payload.mode\r\n      } else {\r\n        state.flows.fetching = true\r\n        state.flows.fetched = false\r\n        state.flows.error = null\r\n      }\r\n      return state\r\n    }\r\n\r\n    case HOME_PREFIX + 'FETCH_FULFILLED': {\r\n      const { page, pagesCount, data, mode, flow } = payload\r\n\r\n      for (const id in data.articleRefs) {\r\n        data.articleRefs[id].postFirstImage = getPostFirstImage(\r\n          data.articleRefs[id]\r\n        )\r\n      }\r\n\r\n      if (flow === 'all') {\r\n        state.data[mode].pages[page] = data\r\n        state.data[mode].pagesCount = pagesCount\r\n        state.data[mode].lastUpdated = Date.now()\r\n        state.fetching = false\r\n        state.fetched = true\r\n        state.error = null\r\n      } else {\r\n        state.flows.data[flow][mode].pages[page] = data\r\n        state.flows.data[flow][mode].pagesCount = pagesCount\r\n        state.flows.data[flow][mode].lastUpdated = Date.now()\r\n        state.flows.fetching = false\r\n        state.flows.fetched = true\r\n        state.flows.error = null\r\n      }\r\n\r\n      return state\r\n    }\r\n\r\n    case HOME_PREFIX + 'FETCH_REJECTED': {\r\n      if (payload.flow === 'all') {\r\n        return { ...state, fetching: false, fetched: false, error: payload }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          flows: {\r\n            fetching: false,\r\n            fetched: false,\r\n            error: payload,\r\n            ...state.flows,\r\n          },\r\n        }\r\n      }\r\n    }\r\n\r\n    case SET_HOME_POST_ITEM_SIZE: {\r\n      state.sizesMap[payload.id] = payload.size\r\n      return state\r\n    }\r\n\r\n    case ADVERTS_PREFIX + 'FETCH': {\r\n      state.adverts.fetched = false\r\n      state.adverts.fetching = true\r\n      state.adverts.error = null\r\n      return state\r\n    }\r\n\r\n    case ADVERTS_PREFIX + 'FETCH_FULFILLED': {\r\n      state.adverts.data = payload\r\n      state.adverts.fetched = true\r\n      state.adverts.fetching = false\r\n      state.adverts.error = null\r\n      return state\r\n    }\r\n\r\n    case ADVERTS_PREFIX + 'FETCH_REJECTED': {\r\n      state.adverts.error = payload\r\n      state.adverts.fetched = false\r\n      state.adverts.fetching = false\r\n      return state\r\n    }\r\n\r\n    case SIDEBAR_MOST_READING + 'FETCH': {\r\n      state.sidebar.mostReading.data = null\r\n      state.sidebar.mostReading.fetchError = null\r\n      state.sidebar.mostReading.state = FetchingState.Fetching\r\n      return state\r\n    }\r\n\r\n    case SIDEBAR_MOST_READING + 'FETCH_FULFILLED': {\r\n      state.sidebar.mostReading.data = payload\r\n      state.sidebar.mostReading.fetchError = null\r\n      state.sidebar.mostReading.state = FetchingState.Fetched\r\n      return state\r\n    }\r\n\r\n    case SIDEBAR_MOST_READING + 'FETCH_REJECTED': {\r\n      state.sidebar.mostReading.data = null\r\n      state.sidebar.mostReading.fetchError = payload\r\n      state.sidebar.mostReading.state = FetchingState.Error\r\n      return state\r\n    }\r\n\r\n    case SIDEBAR_TOP_COMPANIES + 'FETCH': {\r\n      state.sidebar.topCompanies.data = null\r\n      state.sidebar.topCompanies.fetchError = null\r\n      state.sidebar.topCompanies.state = FetchingState.Fetching\r\n      return state\r\n    }\r\n\r\n    case SIDEBAR_TOP_COMPANIES + 'FETCH_FULFILLED': {\r\n      state.sidebar.topCompanies.data = payload\r\n      state.sidebar.topCompanies.fetchError = null\r\n      state.sidebar.topCompanies.state = FetchingState.Fetched\r\n      return state\r\n    }\r\n\r\n    case SIDEBAR_TOP_COMPANIES + 'FETCH_REJECTED': {\r\n      state.sidebar.topCompanies.data = null\r\n      state.sidebar.topCompanies.fetchError = payload\r\n      state.sidebar.topCompanies.state = FetchingState.Error\r\n      return state\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { blue } from '@material-ui/core/colors'\r\nimport { darken, ThemeOptions } from '@material-ui/core/styles'\r\nimport { PaletteType as MUIPaletteType } from '@material-ui/core'\r\nimport {\r\n  BACKGROUND_COLORS_DEFAULT,\r\n  BACKGROUND_COLORS_PAPER,\r\n  THEME_TYPES,\r\n  PaletteType,\r\n  THEME_PRIMARY_COLORS,\r\n  THEME_TEXT_COLORS,\r\n} from './constants'\r\nimport * as userSettings from 'src/utils/userSettings'\r\n\r\nexport const makeBackgroundColors = (\r\n  t: PaletteType | string\r\n): {\r\n  default: string\r\n  paper: string\r\n} => ({\r\n  default: BACKGROUND_COLORS_DEFAULT[t],\r\n  paper: BACKGROUND_COLORS_PAPER[t],\r\n})\r\n\r\nexport const makePrimaryColors = (\r\n  t: PaletteType | string\r\n): {\r\n  main: string\r\n  light: string\r\n  dark: string\r\n} => THEME_PRIMARY_COLORS[t]\r\n\r\nexport const makeTextColors = (\r\n  t: PaletteType | string\r\n): {\r\n  primary: string\r\n  secondary: string\r\n  disabled: string\r\n  hint: string\r\n} => THEME_TEXT_COLORS[t]\r\n\r\nexport const makeType = (t: PaletteType | string): MUIPaletteType =>\r\n  THEME_TYPES[t]\r\n\r\nconst generateTheme = (themeType?: PaletteType | string): ThemeOptions => {\r\n  const localStorageUserSettings = userSettings.get()\r\n  const localStorageCustomThemes = localStorageUserSettings.customThemes\r\n  const localStorageThemeType = localStorageUserSettings.themeType\r\n  const type = (localStorageThemeType || 'light') as MUIPaletteType\r\n  const customTheme = localStorageCustomThemes.find((e) => e.type === type)\r\n  const defaultPalette = {\r\n    type: makeType(themeType || type),\r\n    primary: makePrimaryColors(themeType || type),\r\n    background: makeBackgroundColors(themeType || type),\r\n    text: makeTextColors(themeType || type),\r\n  }\r\n\r\n  return {\r\n    palette: customTheme ? customTheme.palette : defaultPalette,\r\n    shape: { borderRadius: 4 },\r\n    overrides: {\r\n      MuiTab: {\r\n        wrapper: {\r\n          flexDirection: 'row',\r\n        },\r\n      },\r\n      MuiPaper: {\r\n        rounded: {\r\n          borderRadius: 8,\r\n        },\r\n      },\r\n    },\r\n    props: {\r\n      // Ripple on IconButtons is delayed and not very effective in its action\r\n      // So we change its styles to the custom ones\r\n      MuiIconButton: {\r\n        TouchRippleProps: {\r\n          classes: {\r\n            rippleVisible: 'IconButton_TouchRipple-rippleVisible',\r\n            childLeaving: 'IconButton_TouchRipple-childLeaving',\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }\r\n}\r\n\r\nexport default generateTheme\r\n","import { SET_SETTINGS, GET_SETTINGS } from './types'\r\nimport generateTheme from 'src/config/theme'\r\nimport * as userSettings from 'src/utils/userSettings'\r\n\r\nconst userLocalSettings = userSettings.get()\r\nconst theme = generateTheme(userLocalSettings.themeType)\r\n\r\nconst initialState = {\r\n  theme,\r\n  ...userLocalSettings,\r\n}\r\n\r\nexport default (\r\n  state = initialState,\r\n  { type, payload }\r\n): typeof initialState => {\r\n  switch (type) {\r\n    case SET_SETTINGS: {\r\n      const newSettings = userSettings.set(payload)\r\n      const shouldUpdateTheme = !!payload.themeType\r\n      state = {\r\n        ...newSettings,\r\n        theme: shouldUpdateTheme\r\n          ? generateTheme(newSettings.themeType)\r\n          : state.theme,\r\n      }\r\n      return state\r\n    }\r\n\r\n    case GET_SETTINGS:\r\n      return { theme: state.theme, ...userSettings.get() }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { NEWS_PREFIX } from './types'\r\nimport getPostFirstImage from 'src/utils/getPostFirstImage'\r\nimport { FLOWS } from 'src/config/constants'\r\n\r\nconst flowsData = {}\r\nFLOWS.forEach((e) => {\r\n  flowsData[e.alias] = {\r\n    pages: {},\r\n    pagesCount: null,\r\n  }\r\n})\r\n\r\nconst initialState = {\r\n  fetching: false,\r\n  fetched: false,\r\n  error: null,\r\n  block: {\r\n    data: [],\r\n    fetching: false,\r\n    fetched: false,\r\n    error: null,\r\n    lastUpdated: null,\r\n  },\r\n  flows: flowsData,\r\n  data: {\r\n    pages: {},\r\n    pagesCount: null,\r\n  },\r\n}\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case NEWS_PREFIX + 'FETCH': {\r\n      return { ...state, fetching: true, error: null, fetched: false }\r\n    }\r\n\r\n    case NEWS_PREFIX + 'FETCH_FULFILLED': {\r\n      const { page, pagesCount, data, flow } = payload\r\n      const ids = flow === 'all' ? data.articleIds : data.newsIds\r\n      const refs = flow === 'all' ? data.articleRefs : data.newsRefs\r\n\r\n      for (const id in refs) {\r\n        refs[id].postFirstImage = getPostFirstImage(refs[id])\r\n      }\r\n\r\n      if (flow === 'all') {\r\n        state.data.pages[page] = {\r\n          articleIds: ids,\r\n          articleRefs: refs,\r\n          lastUpdated: Date.now(),\r\n        }\r\n        state.data.pagesCount = pagesCount\r\n      } else {\r\n        state.flows[flow].pages[page] = {\r\n          articleIds: ids,\r\n          articleRefs: refs,\r\n          lastUpdated: Date.now(),\r\n        }\r\n        state.flows[flow].pagesCount = pagesCount\r\n      }\r\n\r\n      return { ...state, fetching: false, fetched: true, error: null }\r\n    }\r\n\r\n    case NEWS_PREFIX + 'FETCH_REJECTED': {\r\n      return { ...state, fetching: false, fetched: false, error: payload }\r\n    }\r\n\r\n    case NEWS_PREFIX + 'PROMO_FETCH': {\r\n      state.block.fetching = true\r\n      state.block.fetched = false\r\n      state.block.error = null\r\n      return state\r\n    }\r\n\r\n    case NEWS_PREFIX + 'PROMO_FETCH_FULFILLED': {\r\n      const { data } = payload\r\n      state.block.fetching = false\r\n      state.block.fetched = true\r\n      state.block.error = null\r\n      state.block.data = Object.values(data.articleRefs)\r\n      state.block.lastUpdated = Date.now()\r\n\r\n      return state\r\n    }\r\n\r\n    case NEWS_PREFIX + 'PROMO_FETCH_REJECTED': {\r\n      state.block.fetching = false\r\n      state.block.fetched = false\r\n      state.block.error = payload\r\n      return state\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { HUBS_PREFIX } from './types'\r\n\r\nconst initialState = {\r\n  fetching: false,\r\n  fetched: false,\r\n  error: null,\r\n  data: {\r\n    pages: {},\r\n    pagesCount: null,\r\n  },\r\n  search: null,\r\n  searchResults: [],\r\n}\r\n\r\nexport default (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case HUBS_PREFIX + 'FETCH': {\r\n      return { ...state, fetching: true, fetched: false, error: null }\r\n    }\r\n\r\n    case HUBS_PREFIX + 'FETCH_FULFILLED': {\r\n      const { page, data } = payload\r\n      state.data.pagesCount = data.pagesCount\r\n      state.data.pages[page] = data\r\n      return { ...state, fetching: false, fetched: true, error: null }\r\n    }\r\n\r\n    case HUBS_PREFIX + 'FETCH_REJECTED': {\r\n      return { ...state, error: payload, fetching: false, fetched: false }\r\n    }\r\n\r\n    case HUBS_PREFIX + 'SEARCH_CLEAR': {\r\n      return {\r\n        ...state,\r\n        searchResults: [],\r\n        search: null,\r\n      }\r\n    }\r\n\r\n    case HUBS_PREFIX + 'SEARCH_FETCH': {\r\n      return {\r\n        ...state,\r\n        searchResults: [],\r\n        fetching: true,\r\n        fetched: false,\r\n        error: null,\r\n        search: payload.query,\r\n      }\r\n    }\r\n\r\n    case HUBS_PREFIX + 'SEARCH_FETCH_FULFILLED': {\r\n      const { data } = payload\r\n      return {\r\n        ...state,\r\n        searchResults: data,\r\n        fetching: false,\r\n        fetched: true,\r\n        error: null,\r\n      }\r\n    }\r\n\r\n    case HUBS_PREFIX + 'SEARCH_FETCH_REJECTED': {\r\n      return { ...state, error: payload, fetching: false, fetched: false }\r\n    }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { State, fieldsMap, typesMap } from './types'\n\nconst initialState: State = {}\nfieldsMap.forEach(\n  (e: string) =>\n    (initialState[e] = {\n      data: null,\n      fetching: false,\n      fetched: false,\n      error: null,\n    })\n)\n\nexport default (\n  state = initialState,\n  { type, payload }: { type: string; payload: { data: never; error?: string } }\n): State => {\n  const actionHandler = (type: string) => {\n    if (type.endsWith('FETCH')) {\n      return {\n        fetching: true,\n        fetched: false,\n        error: null,\n        data: null,\n      }\n    } else if (type.endsWith('FULFILLED')) {\n      return {\n        fetching: false,\n        fetched: true,\n        error: null,\n        data: payload.data,\n      }\n    } else if (type.endsWith('REJECTED')) {\n      return {\n        fetching: false,\n        fetched: true,\n        data: null,\n        error: payload.error,\n      }\n    } else return {}\n  }\n\n  const field = fieldsMap[typesMap.findIndex((e) => type.startsWith(e))]\n  if (!field) return state\n\n  return Object.assign({}, state, {\n    [field]: { ...state[field], ...actionHandler(type) },\n  })\n}\n","import { PROFILE_ARTICLES } from './types'\nimport getPostFirstImage from 'src/utils/getPostFirstImage'\n\nconst initialState = {\n  fetching: false,\n  fetched: false,\n  error: null,\n  data: {\n    pages: {},\n    pagesCount: null,\n    lastUpdated: null,\n  },\n}\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case PROFILE_ARTICLES + 'FETCH': {\n      return { ...state, fetching: true, error: null, fetched: false }\n    }\n\n    case PROFILE_ARTICLES + 'FETCH_FULFILLED': {\n      const { page, pagesCount, data } = payload\n\n      for (const id in data.articleRefs) {\n        data.articleRefs[id].postFirstImage = getPostFirstImage(\n          data.articleRefs[id]\n        )\n      }\n\n      state.data.pages[page] = {\n        articleIds: data.articleIds,\n        articleRefs: data.articleRefs,\n        lastUpdated: Date.now(),\n      }\n      state.data.pagesCount = pagesCount\n\n      return { ...state, fetching: false, fetched: true, error: null }\n    }\n\n    case PROFILE_ARTICLES + 'FETCH_REJECTED': {\n      return { ...state, fetching: false, fetched: false, error: payload }\n    }\n\n    default:\n      return state\n  }\n}\n","import profile from './profile'\nimport articles from './articles'\nimport { combineReducers } from 'redux'\n\nexport default combineReducers({\n  profile,\n  articles,\n})\n","import { AUTH_DATA_KEY, CSRF_TOKEN_KEY } from 'src/config/constants'\nimport { FetchingState } from 'src/interfaces'\nimport AuthData from 'src/interfaces/AuthData'\nimport safeJSONParse from 'src/utils/safeJSONParse'\nimport {\n  GET_AUTH_DATA,\n  GET_CSRF_TOKEN,\n  GET_ME,\n  State,\n  USER_LOGOUT,\n} from './types'\n\nconst cachedAuthData = safeJSONParse<AuthData, null>(\n  localStorage.getItem(AUTH_DATA_KEY),\n  null\n)\nconst cachedCSRFToken = localStorage.getItem(CSRF_TOKEN_KEY)\nconst initialState: State = {\n  authData: {\n    data: cachedAuthData,\n    state: FetchingState[cachedAuthData ? 'Fetched' : 'Idle'],\n    fetchError: null,\n  },\n  csrfToken: {\n    data: cachedCSRFToken,\n    state: FetchingState[cachedCSRFToken ? 'Fetched' : 'Idle'],\n    fetchError: null,\n  },\n  me: {\n    state: FetchingState.Idle,\n    fetchError: null,\n    data: null,\n  },\n  authorizedRequestData:\n    cachedAuthData && cachedCSRFToken ? {\n      connectSID: cachedAuthData?.connectSID,\n      csrfToken: cachedCSRFToken,\n    }\n    : null,\n}\n\nexport default (reducerState = initialState, { type, payload }): State => {\n  switch (type) {\n    case GET_AUTH_DATA + '_FETCH': {\n      reducerState.authData.state = FetchingState.Fetching\n      reducerState.authData.fetchError = null\n      reducerState.authData.data = null\n      return reducerState\n    }\n\n    case GET_AUTH_DATA + '_FETCH_FULFILLED': {\n      reducerState.authData.state = FetchingState.Fetched\n      reducerState.authData.fetchError = null\n      reducerState.authData.data = payload\n      reducerState.authorizedRequestData = {\n        ...reducerState.authorizedRequestData,\n        connectSID: payload.connectSID,\n      }\n      localStorage.setItem(AUTH_DATA_KEY, JSON.stringify(payload))\n      return reducerState\n    }\n\n    case GET_AUTH_DATA + '_FETCH_REJECTED': {\n      reducerState.authData.state = FetchingState.Error\n      reducerState.authData.fetchError = payload\n      reducerState.authData.data = null\n      return reducerState\n    }\n\n    case GET_CSRF_TOKEN + '_FETCH': {\n      reducerState.csrfToken.state = FetchingState.Fetching\n      reducerState.csrfToken.fetchError = null\n      reducerState.csrfToken.data = null\n      return reducerState\n    }\n\n    case GET_CSRF_TOKEN + '_FETCH_FULFILLED': {\n      reducerState.csrfToken.state = FetchingState.Fetched\n      reducerState.csrfToken.fetchError = null\n      reducerState.csrfToken.data = payload\n      reducerState.authorizedRequestData = {\n        ...reducerState.authorizedRequestData,\n        csrfToken: payload,\n      }\n      localStorage.setItem(CSRF_TOKEN_KEY, payload)\n      return reducerState\n    }\n\n    case GET_CSRF_TOKEN + '_FETCH_REJECTED': {\n      reducerState.csrfToken.state = FetchingState.Error\n      reducerState.csrfToken.fetchError = payload\n      reducerState.csrfToken.data = null\n      return reducerState\n    }\n\n    case GET_ME + '_FETCH': {\n      return {\n        ...reducerState,\n        me: {\n          state: FetchingState.Fetching,\n          fetchError: null,\n          data: null,\n        },\n      }\n    }\n\n    case GET_ME + '_FETCH_FULFILLED': {\n      if (!payload) {\n        reducerState.authData.data = null\n        reducerState.authData.state = FetchingState.Idle\n        reducerState.authData.fetchError = null\n        reducerState.csrfToken.data = null\n        reducerState.csrfToken.state = FetchingState.Idle\n        reducerState.csrfToken.fetchError = null\n        reducerState.authorizedRequestData = null\n        localStorage.removeItem(AUTH_DATA_KEY)\n        localStorage.removeItem(CSRF_TOKEN_KEY)\n\n        return {\n          ...reducerState,\n          me: {\n            state: FetchingState.Error,\n            fetchError: 'Expired authData',\n            data: null,\n          },\n        }\n      }\n      return {\n        ...reducerState,\n        me: {\n          state: FetchingState.Fetched,\n          fetchError: null,\n          data: payload,\n        },\n      }\n    }\n\n    case GET_ME + '_FETCH_REJECTED': {\n      return {\n        ...reducerState,\n        me: {\n          state: FetchingState.Error,\n          fetchError: payload,\n          data: null,\n        },\n      }\n    }\n\n    case USER_LOGOUT: {\n      localStorage.removeItem(AUTH_DATA_KEY)\n      localStorage.removeItem(CSRF_TOKEN_KEY)\n      return {\n        authData: {\n          data: null,\n          state: FetchingState.Idle,\n          fetchError: null,\n        },\n        csrfToken: {\n          data: null,\n          state: FetchingState.Idle,\n          fetchError: null,\n        },\n        me: initialState.me,\n        authorizedRequestData: null,\n      }\n    }\n\n    default:\n      return reducerState\n  }\n}\n","import {\n  COMMENTS_FETCH,\n  COMMENTS_FETCH_FULFILLED,\n  COMMENTS_FETCH_REJECTED,\n  COMPANY_FETCH,\n  COMPANY_FETCH_FULFILLED,\n  COMPANY_FETCH_REJECTED,\n  POST_DOWNVOTE_REASONS_FETCH,\n  POST_DOWNVOTE_REASONS_FETCH_FULFILLED,\n  POST_DOWNVOTE_REASONS_FETCH_REJECTED,\n  POST_FETCH,\n  POST_FETCH_FULFILLED,\n  POST_FETCH_REJECTED,\n  SET_POST_COMMENT_SIZE,\n  State,\n} from './types'\nimport { DownvoteReasons, FetchingState } from 'src/interfaces'\n\nconst initialData = {\n  data: null,\n  state: FetchingState.Idle,\n  fetchError: null,\n}\nconst initialCommentsData = {\n  fetchedData: null,\n  comments: null,\n  state: FetchingState.Idle,\n  fetchError: null,\n  sizesMap: {},\n  parseOptions: {},\n}\n\nconst initialState: State = {\n  post: initialData,\n  comments: initialCommentsData,\n  company: initialData,\n  downvoteReasons: initialData,\n}\n\nexport default (storeState = initialState, { type, payload }): State => {\n  switch (type) {\n    /** New post is being fetched, so we need to reset `comments` and `company` data */\n    case POST_FETCH:\n      return {\n        ...storeState,\n        post: {\n          state: FetchingState.Fetching,\n          fetchError: null,\n          data: null,\n        },\n        company: initialData,\n        comments: initialCommentsData,\n      }\n\n    case POST_FETCH_FULFILLED:\n      return {\n        ...storeState,\n        post: {\n          state: FetchingState.Fetched,\n          fetchError: null,\n          data: payload,\n        },\n      }\n\n    /**\n     * When post is rejected we want to reset `comments` value\n     * because comments page uses post data\n     * */\n    case POST_FETCH_REJECTED:\n      return {\n        ...storeState,\n        post: {\n          state: FetchingState.Error,\n          fetchError: payload,\n          data: null,\n        },\n        comments: initialCommentsData,\n      }\n\n    case SET_POST_COMMENT_SIZE: {\n      storeState.comments.sizesMap[payload.id] = payload.size\n      return storeState\n    }\n\n    /** Do not reset post data on comments fetch */\n    case COMMENTS_FETCH:\n      return {\n        ...storeState,\n        comments: {\n          state: FetchingState.Fetching,\n          ...initialCommentsData,\n        },\n      }\n\n    case COMMENTS_FETCH_FULFILLED:\n      return {\n        ...storeState,\n        comments: {\n          state: FetchingState.Fetched,\n          fetchError: null,\n          fetchedData: payload.fetchedData,\n          comments: payload.comments,\n          sizesMap: {},\n          parseOptions: payload.parseOptions,\n        },\n      }\n\n    /**\n     * If comments fetch request was rejected, we don't want to\n     * reset the `post` data\n     */\n    case COMMENTS_FETCH_REJECTED:\n      return {\n        ...storeState,\n        comments: {\n          state: FetchingState.Error,\n          fetchError: payload,\n          fetchedData: null,\n          comments: null,\n          sizesMap: {},\n          parseOptions: {},\n        },\n      }\n\n    case COMPANY_FETCH:\n      return {\n        ...storeState,\n        company: {\n          state: FetchingState.Fetching,\n          fetchError: null,\n          data: null,\n        },\n      }\n\n    case COMPANY_FETCH_FULFILLED:\n      return {\n        ...storeState,\n        company: {\n          state: FetchingState.Fetched,\n          fetchError: null,\n          data: payload,\n        },\n      }\n\n    case COMPANY_FETCH_REJECTED:\n      return {\n        ...storeState,\n        company: {\n          state: FetchingState.Error,\n          fetchError: payload,\n          data: null,\n        },\n      }\n\n    case POST_DOWNVOTE_REASONS_FETCH:\n      return {\n        ...storeState,\n        downvoteReasons: {\n          state: FetchingState.Fetching,\n          ...initialData,\n        },\n      }\n\n    case POST_DOWNVOTE_REASONS_FETCH_FULFILLED:\n      return {\n        ...storeState,\n        downvoteReasons: {\n          state: FetchingState.Fetched,\n          fetchError: null,\n          data: Object.values((payload as DownvoteReasons).data).sort(\n            (a, b) => a.order - b.order\n          ),\n        },\n      }\n\n    case POST_DOWNVOTE_REASONS_FETCH_REJECTED:\n      return {\n        ...storeState,\n        downvoteReasons: {\n          state: FetchingState.Error,\n          fetchError: payload,\n          data: initialData.data,\n        },\n      }\n\n    default:\n      return storeState\n  }\n}\n","import {\n  FetchingState,\n  HubAuthors,\n  HubCompanies,\n  HubExtended,\n  Posts,\n} from 'src/interfaces'\nimport getPostFirstImage from 'src/utils/getPostFirstImage'\nimport { GET_POSTS, typeCorrespondings } from './types'\n\ninterface FetchBaseInterface<T> {\n  state: FetchingState\n  fetchError: string\n  data: T\n}\n\ninterface State {\n  profile: FetchBaseInterface<HubExtended>\n  news: FetchBaseInterface<Posts>\n  posts: FetchBaseInterface<Posts>\n  authors: FetchBaseInterface<HubAuthors>\n  companies: FetchBaseInterface<HubCompanies>\n}\n\nconst defaultFetchData = {\n  state: FetchingState.Idle,\n  fetchError: null,\n  data: null,\n}\n\nconst initialState: State = {\n  profile: defaultFetchData,\n  news: defaultFetchData,\n  posts: defaultFetchData,\n  authors: defaultFetchData,\n  companies: defaultFetchData,\n}\n\nexport default (reducerState = initialState, { type, payload }): State => {\n  const field = typeCorrespondings[type.split('_').slice(0, 3).join('_')]\n\n  if (field) {\n    if (type.endsWith('FETCH')) {\n      return {\n        ...reducerState,\n        [field]: {\n          state: FetchingState.Fetching,\n          fetchError: null,\n          data: null,\n        },\n      }\n    } else if (type.endsWith('FETCH_FULFILLED')) {\n      if (field === typeCorrespondings[GET_POSTS]) {\n        for (const id in payload.articleRefs) {\n          payload.articleRefs[id].postFirstImage = getPostFirstImage(\n            payload.articleRefs[id]\n          )\n        }\n      }\n\n      return {\n        ...reducerState,\n        [field]: {\n          state: FetchingState.Fetched,\n          fetchError: null,\n          data: payload,\n        },\n      }\n    } else if (type.endsWith('FETCH_REJECTED')) {\n      return {\n        ...reducerState,\n        [field]: {\n          state: FetchingState.Error,\n          fetchError: payload,\n          data: null,\n        },\n      }\n    }\n  }\n\n  return reducerState\n}\n","import { combineReducers } from 'redux'\r\nimport home from './home'\r\nimport settings from './settings'\r\nimport news from './news'\r\nimport hubs from './hubs'\r\nimport profile from './profile'\r\nimport auth from './auth'\r\nimport post from './post'\r\nimport hub from './hub'\r\n\r\nexport default combineReducers({\r\n  news,\r\n  home,\r\n  settings,\r\n  hubs,\r\n  auth,\r\n  profile,\r\n  post,\r\n  hub,\r\n})\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { createLogger } from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport reducers from './reducers'\r\n\r\nconst middlewares = [thunk]\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  middlewares.push(createLogger({ collapsed: true }))\r\n}\r\n\r\nexport type RootState = ReturnType<typeof reducers>\r\nexport default createStore(reducers, applyMiddleware(...middlewares))\r\n","import { NEEDS_UPDATE_KEY } from './config/constants'\nimport { Config } from './serviceWorker'\n\nconst config: Config = {\n  onUpdate: (registration: ServiceWorkerRegistration) => {\n    console.log(\n      '%c[info] %cUnregister current service worker',\n      'color: #2979ff;',\n      'color: #e9e9e9;'\n    )\n    registration\n      .unregister()\n      .then(() => {\n        window.postMessage('showUpdateNotification', process.env.PUBLIC_URL)\n        localStorage.setItem(NEEDS_UPDATE_KEY, 'true')\n        console.log(\n          '%c[info] %cSent showUpdateNotification message from SW',\n          'color: #2979ff;',\n          'color: #e9e9e9;'\n        )\n      })\n      .catch((e) =>\n        console.log(\n          '%c[error] %cUnable to unregister service worker:',\n          'color: #ff5252;',\n          'color: #e9e9e9;',\n          e\n        )\n      )\n  },\n  onSuccess: () => {\n    window.postMessage('showUpdateSuccessNotification', process.env.PUBLIC_URL)\n    console.log(\n      '%c[success] %cService worker succeed in registration.',\n      'color: #00e676;',\n      'color: #e9e9e9;'\n    )\n  },\n}\n\nexport default config\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport translation_en from 'src/locales/en/translation.json'\nimport translation_ru from 'src/locales/ru/translation.json'\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'ru',\n    debug: true,\n    interpolation: {\n      escapeValue: false,\n    },\n    defaultNS: 'translation',\n    ns: ['translation'],\n    resources: {\n      ru: { translation: translation_ru },\n      en: { translation: translation_en },\n    },\n  })\n\nexport default i18n\n","import * as React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\nimport swConfig from './serviceWorkerConfig'\r\nimport dayjs from 'dayjs'\r\nimport relativeTimePlugin from 'dayjs/plugin/relativeTime'\r\nimport calendarPlugin from 'dayjs/plugin/calendar'\r\nimport updateLocalePlugin from 'dayjs/plugin/updateLocale'\r\nimport 'dayjs/locale/ru'\r\nimport 'src/config/i18n'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport 'react-photoswipe/dist/photoswipe.css'\r\nimport { MatomoProvider, createInstance } from '@datapunt/matomo-tracker-react'\r\nimport {\r\n  MATOMO_SERVER_URL,\r\n  MATOMO_SITE_ID,\r\n  SENTRY_DSN,\r\n} from 'src/config/constants'\r\nimport * as userSettingsUtils from 'src/utils/userSettings'\r\nimport * as Sentry from '@sentry/react'\r\nimport { Integrations } from '@sentry/tracing'\r\n\r\nconst userSettings = userSettingsUtils.get()\r\nconst instance = createInstance({\r\n  urlBase: MATOMO_SERVER_URL,\r\n  siteId: MATOMO_SITE_ID,\r\n  linkTracking: false,\r\n  configurations: {\r\n    setRequestMethod: 'POST',\r\n    setRequestContentType: 'application/json',\r\n    setDoNotTrack: false,\r\n    setSecureCookie: true,\r\n    disableCookies: userSettings.cookiesPreferences.disableCookies,\r\n  },\r\n})\r\n\r\nSentry.init({\r\n  dsn: SENTRY_DSN,\r\n  integrations: [new Integrations.BrowserTracing()],\r\n  tracesSampleRate: 0,\r\n  environment: process.env.NODE_ENV,\r\n  enabled: process.env.NODE_ENV === 'production',\r\n})\r\n\r\ndayjs.locale(userSettings.language.interface || 'ru')\r\ndayjs.extend(relativeTimePlugin)\r\ndayjs.extend(calendarPlugin)\r\ndayjs.extend(updateLocalePlugin)\r\n\r\ndayjs.updateLocale('ru', {\r\n  calendar: {\r\n    lastWeek: 'D MMMM, в hh:mm',\r\n    sameDay: 'Сегодня, в hh:mm',\r\n    lastDay: 'Вчера, в hh:mm',\r\n    sameElse: 'DD.MM.YYYY',\r\n  },\r\n})\r\ndayjs.updateLocale('en', {\r\n  calendar: {\r\n    lastWeek: 'D MMMM, at hh:mm',\r\n    sameDay: 'Today, at hh:mm',\r\n    lastDay: 'Yesterday, at hh:mm',\r\n    sameElse: 'DD.MM.YYYY',\r\n  },\r\n})\r\n\r\nReactDOM.render(\r\n  <MatomoProvider value={instance}>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </MatomoProvider>,\r\n  document.getElementById('root')\r\n)\r\nserviceWorker.register(swConfig)\r\n"],"sourceRoot":""}